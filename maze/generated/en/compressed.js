// Automatically generated file.  Do not edit!
// This version is modified by viet1pro, Komaz, Baonamdao from MIS!

'use strict';var b,h={G:{}};h.G.Rj={};h.G.cp="default";h.G.ba=function(a){this.ds=a};h.G.ba.prototype.toString=function(){return this.ds};h.G.ba.Lt=new h.G.ba("connectionChecker");h.G.ba.Tc=new h.G.ba("event");h.G.ba.Tb=new h.G.ba("field");h.G.ba.RENDERER=new h.G.ba("renderer");h.G.ba.qk=new h.G.ba("toolbox");h.G.ba.Pp=new h.G.ba("theme");h.G.ba.jI=new h.G.ba("toolboxItem");h.G.ba.fA=new h.G.ba("flyoutsVerticalToolbox");h.G.ba.rG=new h.G.ba("flyoutsHorizontalToolbox");
h.G.register=function(a,c,d,e){if(!(a instanceof h.G.ba)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.G.Rj[a];f||(f=h.G.Rj[a]={});h.G.wF(a,d);if(!e&&f[c])throw Error('Name "'+c+'" with type "'+
a+'" already registered.');f[c]=d};h.G.wF=function(a,c){switch(a){case String(h.G.ba.Tb):if("function"!=typeof c.va)throw Error('Type "'+a+'" must have a fromJson function');}};h.G.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.G.Rj[a];d?d[c]?delete h.G.Rj[a][c]:console.warn('No name "'+c+'" with type "'+a+'" found'):console.warn('No type "'+a+'" found')};
h.G.Qw=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.G.Rj[a];return d?d[c]?d[c]:(console.warn('No name "'+c+'" with type "'+a+'" found'),null):(console.warn('No type "'+a+'" found'),null)};h.G.ZI=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.G.Rj[a])?!!a[c]:!1};h.G.dr=function(a,c){return h.G.Qw(a,c)};h.G.mr=function(a,c){return h.G.Qw(a,c)};h.G.Kw=function(a,c){c=c.plugins[a.toString()]||h.G.cp;return"function"==typeof c?c:h.G.dr(a,c)};
h.g={};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.N={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.N);
h.bj={};h.tu=40;h.Qu=125;h.Mz=5;h.gA=10;h.rc=28;h.Kt=h.rc;h.Bz=8;h.Xo=250;h.Yo=10;h.xz=30;h.EA=750;h.dB=100;h.Nz=!0;h.pA=.45;h.qA=.65;h.Li={width:96,height:124,url:"sprites.png"};h.jb=1;h.ge=2;h.Sa=3;h.ie=4;h.vf=5;h.So=-1;h.Ro=0;h.vt=1;h.UF=0;h.VF=1;h.SF=1;h.TF=2;h.Ii=[];h.Ii[h.jb]=h.ge;h.Ii[h.ge]=h.jb;h.Ii[h.Sa]=h.ie;h.Ii[h.ie]=h.Sa;h.tk=0;h.Vm=1;h.le=2;h.rk=3;h.Qt=null;h.fp=1;h.Rt=2;h.Ri="VARIABLE";h.sB="VARIABLE_DYNAMIC";h.Tu="PROCEDURE";h.XH="RENAME_VARIABLE_ID";h.RF="DELETE_VARIABLE_ID";h.g.tb={};h.g.tb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.tb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.tb.Ns(a,c,d):null};
h.g.tb.Ns=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.tb.lx=function(a){a=h.g.tb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.tb.px=function(a){var c=h.pA,d=255*h.qA,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.tb.Ns(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.tb.cq=function(a,c,d){a=h.g.tb.parse(a);if(!a)return null;c=h.g.tb.parse(c);if(!c)return null;a=h.g.tb.lx(a);c=h.g.tb.lx(c);return h.g.tb.Ns(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.tb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.S=function(a,c){this.x=a;this.y=c};h.g.S.Nf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.S.Jq=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.S.MD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.S.Rk=function(a,c){return new h.g.S(a.x-c.x,a.y-c.y)};h.g.S.sum=function(a,c){return new h.g.S(a.x+c.x,a.y+c.y)};h.g.S.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.S.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Qa={};h.g.Qa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Qa.Vs=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Qa.Vv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Vs(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Qa.Wv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Vs(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Qa.Ty=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Qa.AF(a[d],c);return a.join("\n")};
h.g.Qa.AF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Qa.Uy(d,a,c);e=h.g.Qa.ot(d,a,c);a=h.g.Qa.BF(d,a);f++}while(e>g);return k};
h.g.Qa.ot=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Qa.Uy=function(a,c,d){for(var e=h.g.Qa.ot(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Qa.ot(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Qa.Uy(a,f,d):c};h.g.Qa.BF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.ke=function(a,c){this.width=a;this.height=c};h.g.ke.Nf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.Rf=function(a){if("none"!=h.g.style.Yw(a,"display"))return h.g.style.Ww(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.ke(g,a)};h.g.style.Ww=function(a){return new h.g.ke(a.offsetWidth,a.offsetHeight)};h.g.style.Yw=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.QC(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.QC=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Gh=function(a){var c=new h.g.S(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.S(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.fD=function(){var a=document.body,c=document.documentElement;return new h.g.S(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.DJ=function(a,c){a.style.display=c?"":"none"};h.g.style.gJ=function(a){return"rtl"==h.g.style.Yw(a,"direction")};
h.g.style.NC=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.RE=function(a,c){a=h.g.style.SC(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.SC=function(a,c){var d=h.g.style.Gh(a),e=h.g.style.Gh(c),f=h.g.style.NC(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Ww(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.S(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Je=c("Trident")||c("MSIE");h.g.userAgent.jh=c("Edge");h.g.userAgent.zA=c("JavaFX");h.g.userAgent.JF=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.jh;h.g.userAgent.xv=c("WebKit")&&!h.g.userAgent.jh;h.g.userAgent.kA=c("Gecko")&&!h.g.userAgent.xv&&!h.g.userAgent.Je&&!h.g.userAgent.jh;h.g.userAgent.lm=c("Android");h.g.userAgent.dk=c("iPad");h.g.userAgent.pu=c("iPod");h.g.userAgent.ou=
c("iPhone")&&!h.g.userAgent.dk&&!h.g.userAgent.pu;h.g.userAgent.FA=c("Macintosh");h.g.userAgent.lB=h.g.userAgent.dk||h.g.userAgent.lm&&!c("Mobile")||c("Silk");h.g.userAgent.PG=!h.g.userAgent.lB&&(h.g.userAgent.pu||h.g.userAgent.ou||h.g.userAgent.lm||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.bE=function(a){a.preventDefault();a.stopPropagation()};h.g.Un=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.iJ};
h.g.we=function(a){var c=new h.g.S(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.we.uB))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.we.vB))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.al=function(a){for(var c=0,d=0;a;){var e=h.g.we(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.S(c,d)};h.g.we.uB=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.we.vB=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.ql=function(a){return a.ctrlKey&&h.g.userAgent.FA?!0:2==a.button};
h.g.yl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Vw=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.tu,y:a.deltaY*h.tu};case 2:return{x:a.deltaX*h.Qu,y:a.deltaY*h.Qu}}};h.g.nF=function(a){return h.g.dt(a,!0)};h.g.fd=function(a){if("string"!=typeof a)return a;a=h.g.dt(a,!1);return a.length?String(a[0]):""};
h.g.Rv=function(a){for(var c=h.N,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.dt=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Qa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.N?(f=h.N[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.dt(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Pf=function(){for(var a=h.g.Pf.xy.length,c=[],d=0;20>d;d++)c[d]=h.g.Pf.xy.charAt(Math.random()*a);return c.join("")};
h.g.Pf.xy="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Lh=function(){if(void 0!==h.g.Lh.kq)return h.g.Lh.kq;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Lh.kq="none"!==c;return h.g.Lh.kq};h.g.py=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.eD=function(){var a=h.g.style.fD();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.Ak=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.XC=function(){var a=document.documentElement,c=window;return h.g.userAgent.Je&&c.pageYOffset!=a.scrollTop?new h.g.S(a.scrollLeft,a.scrollTop):new h.g.S(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.$q=function(a,c){var d=Object.create(null),e=q(a,!0);c&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.QE=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.S(d-e.left,c-e.top);c=h.g.al(a.wb);return h.g.S.Rk(d,c).scale(1/a.scale)};h.g.vo=function(a){var c="string"==typeof a?h.g.fd(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{sD:d,fl:h.g.tb.px(d)};if(d=h.g.tb.parse(c))return{sD:null,fl:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.h={};h.h.ex="";h.h.Eb=!0;h.h.Fq=0;h.h.vm="create";h.h.Vo=h.h.vm;h.h.Xj="delete";h.h.Ct=h.h.Xj;h.h.Vj="change";h.h.oz=h.h.Vj;h.h.ik="move";h.h.Dt=h.h.ik;h.h.qv="var_create";h.h.rv="var_delete";h.h.uv="var_rename";h.h.vk="ui";h.h.tm="comment_create";h.h.Jt="comment_delete";h.h.It="comment_change";h.h.um="comment_move";h.h.cu="finished_loading";h.h.rz=[h.h.Vo,h.h.Dt,h.h.tm,h.h.um];h.h.ak=[];h.h.Ia=function(a){h.h.isEnabled()&&(h.h.ak.length||setTimeout(h.h.FC,0),h.h.ak.push(a))};
h.h.FC=function(){for(var a=h.h.filter(h.h.ak,!0),c=h.h.ak.length=0,d;d=a[c];c++)if(d.xb){var e=h.rb.Yk(d.xb);if(e){var f=d;if(f.Eb)for(e.pi.push(f),e.Gl.length=0;e.pi.length>e.wu&&0<=e.wu;)e.pi.shift();for(var g=0;d=e.Qc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.zj()){var k=[g.type,g.kc,g.xb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.ik&&l.index==f-1)m.Zh=g.Zh,m.Yh=g.Yh,m.Qg=g.Qg,l.index=f;else if(g.type==h.h.Vj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.h.vk||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(n){return!n.zj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.Vj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.VB=function(){for(var a=0,c;c=h.h.ak[a];a++)c.Eb=!1};h.h.disable=function(){h.h.Fq++};h.h.enable=function(){h.h.Fq--};h.h.isEnabled=function(){return 0==h.h.Fq};h.h.Vb=function(){return h.h.ex};h.h.qa=function(a){h.h.ex="boolean"==typeof a?a?h.g.Pf():"":a};
h.h.Mw=function(a){var c=[];a=q(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.va=function(a){var c=h.G.dr(h.G.ba.Tc,a.type);if(!c)throw Error("Unknown event type.");c=new c;c.va(a);c.xb=(void 0).id;return c};h.h.II=function(a){if((a.type==h.h.ik||a.type==h.h.vm)&&a.xb){var c=h.rb.Yk(a.xb);if(a=c.Jc(a.kc)){var d=a.getParent();if(d&&d.isEnabled())for(c=q(a,!1),a=0;d=c[a];a++)d.kf(!0);else if((a.M||a.U)&&!c.rd()){do a.kf(!1),a=u(a);while(a)}}}};
h.h.Abstract=function(){this.pd=null;this.xb=void 0;this.group=h.h.Vb();this.Eb=h.h.Eb};h.h.Abstract.prototype.Ta=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};h.h.Abstract.prototype.va=function(a){this.pd=!1;this.group=a.group};h.h.Abstract.prototype.zj=function(){return!1};h.h.Abstract.prototype.run=function(){};function v(a){if(a.xb)var c=h.rb.Yk(a.xb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.Y=function(a,c){a.B=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Yf=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.ej=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.ej(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.OA="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.OA,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.kF=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.te=function(a){return(new XMLSerializer).serializeToString(a)};h.h.Ge=function(a){h.h.Ge.B.constructor.call(this);this.kc=(this.pd="undefined"==typeof a)?"":a.id;this.xb=this.pd?"":a.A.id};h.g.object.Y(h.h.Ge,h.h.Abstract);h.h.Ge.prototype.Ta=function(){var a=h.h.Ge.B.Ta.call(this);a.blockId=this.kc;return a};h.h.Ge.prototype.va=function(a){h.h.Ge.B.va.call(this,a);this.kc=a.blockId};
h.h.jg=function(a,c,d,e,f){h.h.jg.B.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.Y(h.h.jg,h.h.Ge);h.h.yi=h.h.jg;b=h.h.jg.prototype;b.type=h.h.Vj;b.Ta=function(){var a=h.h.jg.B.Ta.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};
b.va=function(a){h.h.jg.B.va.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.zj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=v(this).Jc(this.kc);if(c)switch(c.ze&&c.ze.Wb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ba(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Ij(a||null);break;case "collapsed":c.gi(!!a);break;case "disabled":c.kf(!a);break;case "inline":c.ji(!!a);break;case "mutation":var d="";c.Rd&&(d=(d=c.Rd())&&h.O.te(d));if(c.Mf){var e=h.O.dg(a||"<mutation/>");c.Mf(e)}h.h.Ia(new h.h.jg(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.kc)};h.h.ae=function(a){h.h.ae.B.constructor.call(this,a);a&&(a.Ka&&(this.Eb=!1),this.xml=a.A.pa?h.O.fq(a):h.O.Ff(a),this.Kh=h.h.Mw(a))};h.g.object.Y(h.h.ae,h.h.Ge);h.h.qm=h.h.ae;h.h.ae.prototype.type=h.h.vm;h.h.ae.prototype.Ta=function(){var a=h.h.ae.B.Ta.call(this);a.xml=h.O.te(this.xml);a.ids=this.Kh;return a};
h.h.ae.prototype.va=function(a){h.h.ae.B.va.call(this,a);this.xml=h.O.dg(a.xml);this.Kh=a.ids};h.h.ae.prototype.run=function(a){var c=v(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.O.Ah(a,c);else{a=0;for(var d;d=this.Kh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.kc&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.Ie=function(a){h.h.Ie.B.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ka&&(this.Eb=!1);this.no=a.A.pa?h.O.fq(a):h.O.Ff(a);this.Kh=h.h.Mw(a)}};h.g.object.Y(h.h.Ie,h.h.Ge);h.h.sz=h.h.Ie;h.h.Ie.prototype.type=h.h.Xj;h.h.Ie.prototype.Ta=function(){var a=h.h.Ie.B.Ta.call(this);a.ids=this.Kh;return a};h.h.Ie.prototype.va=function(a){h.h.Ie.B.va.call(this,a);this.Kh=a.ids};
h.h.Ie.prototype.run=function(a){var c=v(this);if(a){a=0;for(var d;d=this.Kh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.kc&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.no),h.O.Ah(a,c)};h.h.nh=function(a){h.h.nh.B.constructor.call(this,a);a&&(a.Ka&&(this.Eb=!1),a=ca(this),this.Px=a.Vx,this.Ox=a.qx,this.ks=a.hw)};h.g.object.Y(h.h.nh,h.h.Ge);h.h.Uj=h.h.nh;b=h.h.nh.prototype;b.type=h.h.ik;
b.Ta=function(){var a=h.h.nh.B.Ta.call(this);this.Zh&&(a.newParentId=this.Zh);this.Yh&&(a.newInputName=this.Yh);this.Qg&&(a.newCoordinate=Math.round(this.Qg.x)+","+Math.round(this.Qg.y));return a};b.va=function(a){h.h.nh.B.va.call(this,a);this.Zh=a.newParentId;this.Yh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.Qg=new h.g.S(Number(a[0]),Number(a[1])))};b.bi=function(){var a=ca(this);this.Zh=a.Vx;this.Yh=a.qx;this.Qg=a.hw};
function ca(a){var c=v(a).Jc(a.kc);a={};var d=c.getParent();if(d){if(a.Vx=d.id,c=da(d,c))a.qx=c.name}else a.hw=c.Wa();return a}b.zj=function(){return this.Px==this.Zh&&this.Ox==this.Yh&&h.g.S.Nf(this.ks,this.Qg)};
b.run=function(a){var c=v(this),d=c.Jc(this.kc);if(d){var e=a?this.Zh:this.Px,f=a?this.Yh:this.Ox;a=a?this.Qg:this.ks;var g=null;if(e&&(g=c.Jc(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&w(d);if(a)f=d.Wa(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.M||d.U;if(f){if(c=ea(g,f))var k=c.connection}else d.type==h.ie&&(k=g.W);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.kc)};
h.G.register(h.G.ba.Tc,h.h.vm,h.h.ae);h.G.register(h.G.ba.Tc,h.h.Xj,h.h.Ie);h.G.register(h.G.ba.Tc,h.h.Vj,h.h.jg);h.G.register(h.G.ba.Tc,h.h.ik,h.h.nh);h.v=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.em=a;this.vj=h.v.AD(a);this.oa=c;this.No=null;(a=d||null)&&a.Vy&&(this.No=a.Vy)};h.v.types={Tb:"field",zb:"block",xd:"input",oh:"output",zd:"next",Bd:"previous",Ne:"stack",Zb:"workspace"};h.v.qg=!1;h.v.Iz=-20;h.v.AD=function(a){switch(a){case h.v.types.Bd:case h.v.types.zd:case h.v.types.xd:case h.v.types.oh:return!0}return!1};h.v.Lk=function(a){return a?new h.v(h.v.types.Tb,a):null};
h.v.Ye=function(a){return a?a.type==h.jb||a.type==h.Sa&&a.bf()?h.v.xh(a.bf()):a.type==h.Sa?new h.v(h.v.types.zd,a):a.type==h.ge?new h.v(h.v.types.oh,a):a.type==h.ie?new h.v(h.v.types.Bd,a):null:null};h.v.xh=function(a){return a&&a.connection?new h.v(h.v.types.xd,a.connection):null};h.v.Xe=function(a){return a?new h.v(h.v.types.zb,a):null};h.v.Nk=function(a){return a?new h.v(h.v.types.Ne,a):null};h.v.cj=function(a,c){return c&&a?new h.v(h.v.types.Zb,a,{Vy:c}):null};
h.v.wq=function(a){var c=a.U||a.M;return c?h.v.Ye(c):h.v.Xe(a)};b=h.v.prototype;b.Xa=function(){return this.em};function fa(a,c){a=a.oa;a instanceof h.Sc||(a=a.T());if(!a||!a.A)return null;var d=a.Lc();a=d.A.lb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.v.Nk(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function ia(a){if(!a)return null;do var c=a.U&&a.U.ra();while(c&&u(c)==a&&(a=c));return(c=a.U||a.M)&&c.ma&&c.ma.bf()?h.v.xh(c.ma.bf()):h.v.Nk(a)}b.T=function(){return this.Xa()===h.v.types.zb?this.oa:this.Xa()===h.v.types.Ne?this.oa:this.Xa()===h.v.types.Zb?null:this.oa.T()};
b.next=function(){switch(this.em){case h.v.types.Ne:return fa(this,!0);case h.v.types.oh:var a=this.oa;return h.v.Xe(a.T());case h.v.types.Tb:a:{var c=this.oa,d=c.bf();a=c.T();c=d.gb.indexOf(c)+1;d=a.R.indexOf(d);for(var e;e=a.R[d];d++){for(var f=e.gb;c<f.length;){if(ja(f[c])||h.v.qg){a=h.v.Lk(f[c]);break a}c++}c=0;if(e.connection){a=h.v.xh(e);break a}}a=null}return a;case h.v.types.xd:a:{c=this.oa.bf();a=c.T();for(c=a.R.indexOf(c)+1;d=a.R[c];c++){e=d.gb;f=0;for(var g;g=e[f];f++)if(ja(g)||h.v.qg){a=
h.v.Lk(g);break a}if(d.connection){a=h.v.xh(d);break a}}a=null}return a;case h.v.types.zb:return h.v.Ye(this.oa.W);case h.v.types.Bd:return a=this.oa,h.v.Xe(a.T());case h.v.types.zd:return a=this.oa,h.v.Ye(a.ma)}return null};
b.ef=function(){switch(this.em){case h.v.types.Zb:var a=this.oa.lb(!0);if(0<a.length)return h.v.Nk(a[0]);break;case h.v.types.Ne:a=this.oa;var c=a.U||a.M;return c?h.v.Ye(c):h.v.Xe(a);case h.v.types.zb:a=this.oa;a:{a=a.R;c=0;for(var d;d=a[c];c++){for(var e=d.gb,f=0,g;g=e[f];f++)if(ja(g)||h.v.qg){a=h.v.Lk(g);break a}if(d.connection){a=h.v.xh(d);break a}}a=null}return a;case h.v.types.xd:return h.v.Ye(this.oa.ma)}return null};
b.Vd=function(){switch(this.em){case h.v.types.Ne:return fa(this,!1);case h.v.types.Tb:a:{var a=this.oa;var c=a.bf();var d=a.T();a=c.gb.indexOf(a)-1;for(var e=d.R.indexOf(c),f;f=d.R[e];e--){if(f.connection&&f!==c){c=h.v.xh(f);break a}for(f=f.gb;-1<a;){if(ja(f[a])||h.v.qg){c=h.v.Lk(f[a]);break a}a--}0<=e-1&&(a=d.R[e-1].gb.length-1)}c=null}return c;case h.v.types.xd:a:{c=this.oa.bf();d=c.T();for(a=d.R.indexOf(c);e=d.R[a];a--){if(e.connection&&e!==c){c=h.v.xh(e);break a}e=e.gb;f=e.length-1;for(var g;g=
e[f];f--)if(ja(g)||h.v.qg){c=h.v.Lk(g);break a}}c=null}return c;case h.v.types.zb:return c=this.oa,h.v.Ye(c.U||c.M);case h.v.types.Bd:c=this.oa;if((c=c.ma)&&!c.bf())return h.v.Ye(c);break;case h.v.types.zd:return c=this.oa,h.v.Xe(c.T())}return null};
b.ff=function(){switch(this.em){case h.v.types.Ne:var a=this.oa,c=a.Wa();return h.v.cj(a.A,new h.g.S(c.x,c.y+h.v.Iz));case h.v.types.oh:return a=this.oa,(c=a.ma)?h.v.Ye(c):h.v.Nk(a.T());case h.v.types.Tb:return h.v.Xe(this.oa.T());case h.v.types.xd:return a=this.oa,h.v.Xe(a.T());case h.v.types.zb:return a=this.oa,ia(a);case h.v.types.Bd:return a=this.oa,ia(a.T());case h.v.types.zd:return a=this.oa,ia(a.T())}return null};h.g.D=function(a){this.jF=a};h.g.D.prototype.toString=function(){return this.jF};h.g.D.To=new h.g.D("animate");h.g.D.wz=new h.g.D("circle");h.g.D.Ht=new h.g.D("clipPath");h.g.D.Pt=new h.g.D("defs");h.g.D.ip=new h.g.D("feComposite");h.g.D.Vz=new h.g.D("feComponentTransfer");h.g.D.Wz=new h.g.D("feFlood");h.g.D.Xz=new h.g.D("feFuncA");h.g.D.Yz=new h.g.D("feGaussianBlur");h.g.D.Zz=new h.g.D("fePointLight");h.g.D.$z=new h.g.D("feSpecularLighting");h.g.D.bu=new h.g.D("filter");h.g.D.sG=new h.g.D("foreignObject");
h.g.D.Vc=new h.g.D("g");h.g.D.ck=new h.g.D("image");h.g.D.fk=new h.g.D("line");h.g.D.Le=new h.g.D("path");h.g.D.Su=new h.g.D("pattern");h.g.D.XA=new h.g.D("polygon");h.g.D.Cd=new h.g.D("rect");h.g.D.Ni=new h.g.D("svg");h.g.D.mB=new h.g.D("text");h.g.D.pB=new h.g.D("tspan");h.g.j={};h.g.j.Sm="http://www.w3.org/2000/svg";h.g.j.kp="http://www.w3.org/1999/xhtml";h.g.j.jd="http://www.w3.org/1999/xlink";h.g.j.yf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.oe=null;h.g.j.iq=0;h.g.j.fn=null;h.g.j.K=function(a,c,d){a=document.createElementNS(h.g.j.Sm,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Lb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.tJ=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.ed(a,c[d])};h.g.j.ed=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.wr=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.tj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.yf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Ll=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Vl=function(){h.g.j.iq++;h.g.j.oe||(h.g.j.oe={})};h.g.j.Wl=function(){h.g.j.iq--;h.g.j.iq||(h.g.j.oe=null)};h.g.j.YI=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.oe&&(d=h.g.j.oe[c]))return d;try{d=h.g.userAgent.Je||h.g.userAgent.jh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.oe&&(h.g.j.oe[c]=d);return d};
h.g.j.hr=function(a,c,d,e){return h.g.j.YC(a,c+"pt",d,e)};h.g.j.YC=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.oe&&(g=h.g.j.oe[a]))return g;h.g.j.fn||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.fn=g.getContext("2d"));h.g.j.fn.font=d+" "+c+" "+e;g=h.g.j.fn.measureText(f).width;h.g.j.oe&&(h.g.j.oe[a]=g);return g};
h.g.j.ND=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.ne=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.fb={};h.fb.Hq=0;h.fb.wn=null;h.fb.tC=function(a){var c=a.A,d=a.na();c.Xc.play("delete");a=la(c,d);d=d.cloneNode(!0);d.rF=a.x;d.sF=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");x(c).appendChild(d);d.Lv=d.getBBox();h.fb.vw(d,c.J,new Date,c.scale)};h.fb.vw=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.rF+(c?-1:1)*a.Lv.width*e/2*f)+","+(a.sF+a.Lv.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.fb.vw,10,a,c,d,e))};
h.fb.bC=function(a){var c=a.A,d=c.scale;c.Xc.play("click");if(!(1>d)){var e=la(c,a.na());a.M?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.U&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=h.g.j.K(h.g.D.wz,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},x(c));h.fb.aw(a,new Date,d)}};h.fb.aw=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.fb.Hq=setTimeout(h.fb.aw,10,a,c,d))};
h.fb.sC=function(a){a.A.Xc.play("disconnect");if(!(1>a.A.scale)){var c=y(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);h.fb.uw(a.na(),c,new Date)}};h.fb.uw=function(a,c,d){var e=(new Date-d)/200;1<e?a.Ul="":(a.Ul="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.fb.wn=a,h.fb.Hq=setTimeout(h.fb.uw,10,a,c,d));a.setAttribute("transform",a.dm+a.Ul)};h.fb.Iq=function(){if(h.fb.wn){clearTimeout(h.fb.Hq);var a=h.fb.wn;a.Ul="";a.setAttribute("transform",a.dm);h.fb.wn=null}};h.h.Yb=function(a,c,d,e){h.h.Yb.B.constructor.call(this);this.pd="undefined"==typeof a;this.kc=a?a.id:null;this.xb=a?a.A.id:void 0;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e;this.Eb=!1};h.g.object.Y(h.h.Yb,h.h.Abstract);h.h.Yb.prototype.type=h.h.vk;h.h.Yb.prototype.Ta=function(){var a=h.h.Yb.B.Ta.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.kc&&(a.blockId=this.kc);return a};
h.h.Yb.prototype.va=function(a){h.h.Yb.B.va.call(this,a);this.element=a.element;this.newValue=a.newValue;this.kc=a.blockId};h.G.register(h.G.ba.Tc,h.h.vk,h.h.Yb);
h.fe=function(a){this.fg=h.selected=a;this.o=a.A;this.Lg=this.Gr=null;this.Wk=ma(this,this.fg);this.xc=this.Bb=null;this.qf=!1;this.Uk=this.zr=this.Th=null;this.an=na(this)};h.fe.Ji={pp:0,vA:1,av:2};h.fe.prototype.H=function(){this.an.length=0;h.h.disable();try{this.Wk&&this.Wk.H(),this.Lg&&this.Lg.H()}finally{h.h.enable()}};
h.fe.prototype.update=function(a,c){var d=this.Bb&&this.xc?h.Kt:h.rc;for(var e=null,f=null,g=0;g<this.an.length;g++){var k=this.an[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.zo)}e=(d={closest:e,local:f,zo:d},!!d.closest)&&c!=h.Rt;if((this.qf=!!c&&!this.fg.getParent()&&this.fg.qd()&&!e)||oa(this,d,a)){h.h.disable();d.closest?(a=this.Bb!=d.closest,c=this.xc!=d.local,this.Bb&&this.xc&&(a||c||this.qf)&&pa(this)):pa(this);this.xc=this.Bb=this.Th=null;if(!this.qf&&(a=d.closest,c=d.local,
a))if(a==this.Bb||a.T().xe())console.log("Trying to connect to an insertion marker");else{this.Bb=a;this.xc=c;a=this.Bb;d=this.xc;c=this.fg;d.type==h.ge||d.type==h.ie?((e=!a.isConnected())||(e=a.ra(),d.type==h.ge?(d=e.M,c=h.ca.zx(c,e)):(d=e.U,c=c.Xn()),e=c?z(qa(d),c,d,!1):!1),c=e?h.fe.Ji.pp:h.fe.Ji.av):c=h.fe.Ji.pp;switch(c){case h.fe.Ji.vA:this.zr=this.Bb.T();break;case h.fe.Ji.pp:e=this.xc;c=this.Bb;d=this.Gr&&e==this.Gr?this.Lg:this.Wk;e=d.ir(e.T(),e);if(e==this.Th)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");
d.Ga();d.pa=!0;d.na().setAttribute("visibility","visible");e&&c&&ra(d,e,c);c&&e.connect(c);this.Th=e;break;case h.fe.Ji.av:this.Uk=this.Bb.ra(),B(this.Uk.Db,"blocklyReplaceable",!0)}a&&(d=a.L.A.mb.Z(),c=sa(d,a),a.type==h.jb||a.type==h.ge?(d=d.Pi,c=h.g.u.moveBy(0,-d)+h.g.u.V("v",d)+c.Ud+h.g.u.V("v",d)):(d=d.kk-d.qb,c=h.g.u.moveBy(-d,0)+h.g.u.V("h",d)+c.Ug+h.g.u.V("h",d)),d=a.L.Wa(),h.ca.ox=h.g.j.K(h.g.D.Le,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+
")"+(a.L.J?" scale(-1 1)":"")},a.L.na()))}h.h.enable()}};function ma(a,c){var d=c.type;h.h.disable();try{var e=a.o.fs(d);e.uy(!0);if(c.Rd){var f=c.Rd();f&&e.Mf(f)}for(a=0;a<c.R.length;a++){var g=c.R[a];if(g.name!=h.Sc.Wj){var k=e.R[a];for(d=0;d<g.gb.length;d++)k.gb[d].setValue(g.gb[d].getValue())}}e.gi(c.isCollapsed());e.ji(ta(c));e.sj();e.na().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function na(a){var c=a.fg.ve(!1),d=a.fg.Xn();if(d&&d!=a.fg.W){c.push(d);a.Gr=d;if(a.Lg){h.h.disable();try{a.Lg.H()}finally{h.h.enable()}}a.Lg=ma(a,d.T())}return c}
function oa(a,c,d){var e=c.local,f=c.closest;c=c.zo;if(e&&f){if(a.xc&&a.Bb){if(a.Bb==f&&a.xc==e)return!1;e=a.xc.x+d.x-a.Bb.x;a=a.xc.y+d.y-a.Bb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.Bz)}if(a.xc||a.Bb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.xc||!a.Bb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function pa(a){a.Bb&&a.Bb.ra()&&(h.g.j.removeNode(h.ca.ox),delete h.ca.ox);if(a.Uk)B(a.Uk.Db,"blocklyReplaceable",!1),a.Uk=null;else if(a.zr)a.zr=null;else if(a.Th)if(a.Th){var c=a.Th,d=c.T(),e=d.W,f=d.U,g=d.M;g=c.type==h.jb&&!(g&&g.ma);!(c!=e||f&&f.ma)||g?w(c.ra(),!1):c.type==h.Sa&&c!=e?(e=c.ma,w(e.T(),!1),f=f?f.ma:null,w(d,!0),f&&f.connect(e)):w(d,!0);if(c.ma)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Th=null;d.na().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
h.fe.prototype.kj=function(){var a=[];this.Wk&&a.push(this.Wk);this.Lg&&a.push(this.Lg);return a};h.gh=function(a,c){this.kb=a;this.o=c;this.af=new h.fe(this.kb);this.zh=null;this.qf=!1;this.mf=this.kb.Wa();this.An=h.gh.vD(a)};h.gh.prototype.H=function(){this.An.length=0;this.af&&this.af.H()};h.gh.vD=function(a){var c=[];a=q(a,!1);for(var d=0,e;e=a[d];d++){e=ua(e);for(var f=0;f<e.length;f++){var g={location:e[f].SI(),icon:e[f]};c.push(g)}}return c};
function va(a,c,d){d=a.Ej(d);var e=h.g.S.sum(a.mf,d);a.kb.bs(e);for(e=0;e<a.An.length;e++){var f=a.An[e];f.icon.EJ(h.g.S.sum(f.location,d))}a.zh=wa(a.o,c);a.af.update(d,a.zh);a.qf=a.af.qf;c=a.o.pc;a.qf?(a.kb.Ml(!0),a.zh==h.fp&&c&&xa(c,!0)):(a.kb.Ml(!1),c&&xa(c,!1))}
function ya(a,c,d){va(a,c,d);a.An=[];c=new h.h.Yb(a.kb,"dragStop",q(a.kb,!1),null);h.h.Ia(c);h.g.j.Wl();h.fb.Iq();d=a.Ej(d);c=h.g.S.sum(a.mf,d);var e=a.kb;e.im&&(e.translate(c.x,c.y),e.A.kd.hn(e.A.wb));c=a.o.pc;a.qf?(c&&setTimeout(c.ln.bind(c),100),a.Vk(),a.kb.H(!1,!0),h.ij=[]):c&&c.ln();a.qf||(za(a.kb,d.x,d.y),a.kb.Yg(!1),a.Vk(),a.af.Bb?(d=a.af,d.Bb&&(h.h.disable(),pa(d),h.h.enable(),d.xc.connect(d.Bb),d.fg.pa&&(h.fb.bC((C(d.xc)?d.Bb:d.xc).T()),Aa(d.fg.Lc())))):a.kb.Ga(),Ba(a.kb));a.o.dc(!0);(d=
a.o.ua)&&"function"==typeof d.Hs&&d.Hs(a.kb.qd()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.qa(!1)}h.gh.prototype.Vk=function(){var a=new h.h.Uj(this.kb);a.ks=this.mf;a.bi();h.h.Ia(a)};h.gh.prototype.Ej=function(a){a=new h.g.S(a.x/this.o.scale,a.y/this.o.scale);this.o.Tn&&a.scale(1/this.o.options.cd.scale);return a};h.gh.prototype.kj=function(){return this.af&&this.af.kj?this.af.kj():[]};h.Touch={};h.Touch.nv="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.cm=null;h.Touch.Oe={};
h.g.global.PointerEvent?h.Touch.Oe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.nv&&(h.Touch.Oe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Yn=0;
h.LD=function(a,c){h.Ng();a.changedTouches&&1!=a.changedTouches.length||(h.Yn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&Ca(c,a)},h.EA))};h.Ng=function(){h.Yn&&(clearTimeout(h.Yn),h.Yn=0)};h.Touch.jn=function(){h.Touch.cm=null};h.Touch.Ws=function(a){return!h.Touch.DD(a)||h.Touch.TB(a)};
h.Touch.Hn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.TB=function(a){var c=h.Touch.Hn(a);return void 0!==h.Touch.cm&&null!==h.Touch.cm?h.Touch.cm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.cm=c,!0):!1};
h.Touch.UE=function(a){if(h.g.Qa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.DD=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"mouse")||h.g.Qa.startsWith(a.type,"pointer")};h.Touch.Wn=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"pointer")};
h.Touch.dF=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.g.QG=function(){};
h.nk=function(a){this.o=a;this.Kd=new h.Ma(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Zd=new h.Ma(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Jk=h.g.j.K(h.g.D.Cd,{height:h.Ma.mc,width:h.Ma.mc,"class":"blocklyScrollbarBackground"},null);h.g.j.tj(this.Jk,a.cg);this.vb=null};h.nk.prototype.H=function(){h.g.j.removeNode(this.Jk);this.vb=this.o=this.Jk=null;this.Kd.H();this.Kd=null;this.Zd.H();this.Zd=null};
h.nk.prototype.resize=function(){var a=this.o.Id();if(a){var c=!1,d=!1;this.vb&&this.vb.yb==a.yb&&this.vb.Jb==a.Jb&&this.vb.Ec==a.Ec&&this.vb.tc==a.tc?(this.vb&&this.vb.We==a.We&&this.vb.Kb==a.Kb&&this.vb.Gc==a.Gc||(c=!0),this.vb&&this.vb.Gd==a.Gd&&this.vb.Sb==a.Sb&&this.vb.vc==a.vc||(d=!0)):d=c=!0;if(c||d)try{h.h.disable(),c&&this.Kd.resize(a),d&&this.Zd.resize(a)}finally{h.h.enable()}this.vb&&this.vb.yb==a.yb&&this.vb.tc==a.tc||this.Jk.setAttribute("x",this.Zd.position.x);this.vb&&this.vb.Jb==a.Jb&&
this.vb.Ec==a.Ec||this.Jk.setAttribute("y",this.Kd.position.y);this.vb=a}};h.nk.prototype.set=function(a,c){var d={};a*=this.Kd.ratio;c*=this.Zd.ratio;var e=this.Zd.Wd,f=a/this.Kd.Wd;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.o.Nl(d);Da(this.Kd,a);Da(this.Zd,c)};
h.Ma=function(a,c,d,e){this.o=a;this.Dj=d||!1;this.Jh=c;this.ratio=this.vb=null;this.Kk(e);this.position=new h.g.S(0,0);a=h.Ma.mc;c?(this.nc.setAttribute("height",a),this.gf.setAttribute("height",a),this.gd.setAttribute("height",a-5),this.gd.setAttribute("y",2.5),this.rl="width",this.Yx="x"):(this.nc.setAttribute("width",a),this.gf.setAttribute("width",a),this.gd.setAttribute("width",a-5),this.gd.setAttribute("x",2.5),this.rl="height",this.Yx="y");this.Sx=h.za(this.nc,"mousedown",this,this.fE);this.Tx=
h.za(this.gd,"mousedown",this,this.gE)};b=h.Ma.prototype;b.ss=new h.g.S(0,0);b.Ay=0;b.Wd=0;b.Cg=0;b.cl=0;b.Vf=!0;b.vh=!0;h.Ma.mc=15;h.Touch.nv&&(h.Ma.mc=25);h.Ma.OD=function(a,c){return a&&c&&a.yb==c.yb&&a.Jb==c.Jb&&a.Kb==c.Kb&&a.Sb==c.Sb&&a.Ec==c.Ec&&a.tc==c.tc&&a.We==c.We&&a.Gd==c.Gd&&a.Gc==c.Gc&&a.vc==c.vc?!0:!1};
h.Ma.prototype.H=function(){Ea();h.ob(this.Sx);this.Sx=null;h.ob(this.Tx);this.Tx=null;h.g.j.removeNode(this.gf);this.nc=this.P=this.gf=null;this.gd&&(this.o.oc.unsubscribe(this.gd),this.gd=null);this.o=null};function Da(a,c){a.cl=c;a.gd.setAttribute(a.Yx,a.cl)}function Fa(a,c){a.Wd=c;a.gf.setAttribute(a.rl,a.Wd);a.nc.setAttribute(a.rl,a.Wd)}h.nk.prototype.ii=function(a){this.Kd.ii(a);this.Zd.ii(a)};b=h.Ma.prototype;
b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Ll(this.gf,"translate("+(this.position.x+this.ss.x)+"px,"+(this.position.y+this.ss.y)+"px)")};b.resize=function(a){if(!a&&(a=this.o.Id(),!a))return;h.Ma.OD(a,this.vb)||(this.vb=a,this.Jh?Ga(this,a):Ha(this,a),Ia(this))};function Ga(a,c){var d=c.yb-1;a.Dj&&(d-=h.Ma.mc);Fa(a,Math.max(0,d));d=c.tc+.5;a.Dj&&a.o.J&&(d+=h.Ma.mc);a.setPosition(d,c.Ec+c.Jb-h.Ma.mc-.5);Ja(a,c)}
function Ja(a,c){a.Dj||a.Wb(a.Wd<c.We);a.ratio=a.Wd/c.We;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Cg=Math.max(0,c.yb*a.ratio);a.gd.setAttribute(a.rl,a.Cg);Da(a,Ka(a,(c.Kb-c.Gc)*a.ratio))}function Ha(a,c){var d=c.Jb-1;a.Dj&&(d-=h.Ma.mc);Fa(a,Math.max(0,d));d=c.tc+.5;a.o.J||(d+=c.yb-h.Ma.mc-1);a.setPosition(d,c.Ec+.5);La(a,c)}
function La(a,c){a.Dj||a.Wb(a.Wd<c.Gd);a.ratio=a.Wd/c.Gd;if(-Infinity==a.ratio||Infinity==a.ratio||isNaN(a.ratio))a.ratio=0;a.Cg=Math.max(0,c.Jb*a.ratio);a.gd.setAttribute(a.rl,a.Cg);Da(a,Ka(a,(c.Sb-c.vc)*a.ratio))}
b.Kk=function(a){var c="blocklyScrollbar"+(this.Jh?"Horizontal":"Vertical");a&&(c+=" "+a);this.gf=h.g.j.K(h.g.D.Ni,{"class":c},null);this.P=h.g.j.K(h.g.D.Vc,{},this.gf);this.nc=h.g.j.K(h.g.D.Cd,{"class":"blocklyScrollbarBackground"},this.P);a=Math.floor((h.Ma.mc-5)/2);this.gd=h.g.j.K(h.g.D.Cd,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.P);this.o.oc.subscribe(this.gd,"scrollbarColour","fill");this.o.oc.subscribe(this.gd,"scrollbarOpacity","fill-opacity");h.g.j.tj(this.gf,x(this.o))};
b.isVisible=function(){return this.Vf};b.ii=function(a){var c=a!=this.vh;this.vh=a;c&&this.fm()};b.Wb=function(a){var c=a!=this.isVisible();if(this.Dj)throw Error("Unable to toggle visibility of paired scrollbars.");this.Vf=a;c&&this.fm()};b.fm=function(){this.vh&&this.isVisible()?this.gf.setAttribute("display","block"):this.gf.setAttribute("display","none")};
b.fE=function(a){Ma(this.o);h.Touch.jn();Ea();if(h.g.ql(a))a.stopPropagation();else{var c=h.g.yl(a,x(this.o),Na(this.o));c=this.Jh?c.x:c.y;var d=h.g.al(this.gd);d=this.Jh?d.x:d.y;var e=this.cl,f=.95*this.Cg;c<=d?e-=f:c>=d+this.Cg&&(e+=f);Da(this,Ka(this,e));Ia(this);a.stopPropagation();a.preventDefault()}};
b.gE=function(a){Ma(this.o);Ea();h.g.ql(a)?a.stopPropagation():(this.eF=this.cl,Oa(this.o),this.Ay=this.Jh?a.clientX:a.clientY,h.Ma.Tg=h.za(document,"mouseup",this,this.kE),h.Ma.Sg=h.za(document,"mousemove",this,this.hE),a.stopPropagation(),a.preventDefault())};b.hE=function(a){Da(this,Ka(this,this.eF+((this.Jh?a.clientX:a.clientY)-this.Ay)));Ia(this)};b.kE=function(){Pa(this.o);h.Touch.jn();Ea()};function Ea(){h.ac(!0);h.Ma.Tg&&(h.ob(h.Ma.Tg),h.Ma.Tg=null);h.Ma.Sg&&(h.ob(h.Ma.Sg),h.Ma.Sg=null)}
function Ka(a,c){return c=0>=c||isNaN(c)||a.Wd<a.Cg?0:Math.min(c,a.Wd-a.Cg)}function Ia(a){var c=a.cl/a.Wd;isNaN(c)&&(c=0);var d={};a.Jh?d.x=c:d.y=c;a.o.Nl(d)}b.set=function(a){Da(this,Ka(this,a*this.ratio));Ia(this)};h.g.Pd={};h.g.Pd.ct=function(a){return a*Math.PI/180};h.g.Pd.mF=function(a){return 180*a/Math.PI};h.g.Pd.Ck=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.Nt=function(){};function z(a,c,d,e,f){return a.dn(c,d,e,f)==h.ca.sm}h.Nt.prototype.dn=function(a,c,d,e){if(a&&c){if(C(a)){var f=a.T();var g=c.T()}else g=a.T(),f=c.T();f=f==g?h.ca.Xu:c.type!=h.Ii[a.type]?h.ca.$u:f.A!==g.A?h.ca.Vu:f.Ka&&!g.Ka?h.ca.Yu:h.ca.sm}else f=h.ca.Zu;if(f!=h.ca.sm)a=f;else{a:if(f=a.ug,g=c.ug,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Qa(a,c,e||0)?h.ca.Wu:h.ca.sm:h.ca.Uu}return a};
function Ra(a,c,d){switch(a){case h.ca.Xu:return"Attempted to connect a block to itself.";case h.ca.Vu:return"Blocks not on same workspace.";case h.ca.$u:return"Attempt to connect incompatible types.";case h.ca.Zu:return"Target connection is null.";case h.ca.Uu:return"Connection checks failed. "+(c+" expected "+c.ug+", found "+d.ug);case h.ca.Yu:return"Connecting non-shadow to shadow block.";case h.ca.Wu:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}}
function Qa(a,c,d){if(Sa(a,c)>d||c.T().xe())return!1;switch(c.type){case h.ie:return a.ma||-1!=h.ij.indexOf(c)?a=!1:c.ma?(a=c.ra(),a=a.xe()?!(a.U&&a.U.ra()):!1):a=!0,a;case h.ge:if(c.isConnected()&&!c.ra().xe()||a.isConnected())return!1;break;case h.jb:if(c.isConnected()&&!c.ra().Oc()&&!c.ra().Ka)return!1;break;case h.Sa:if(c.isConnected()&&!a.T().W&&!c.ra().Ka&&c.ra().W)return!1;break;default:return!1}return-1!=h.ij.indexOf(c)?!1:!0}h.G.register(h.G.ba.Lt,h.G.cp,h.Nt);h.qh=function(a,c,d,e){this.name=a;this.sg=c||Object.create(null);this.lq=d||Object.create(null);this.Xv=e||Object.create(null);this.fontStyle=Object.create(null);this.Zs=null;h.G.register(h.G.ba.Pp,a,this)};h.qh.prototype.ue=function(){return this.name+"-theme"};function Ta(a,c){return(c=a.Xv[c])&&"string"==typeof c&&Ta(a,c)?Ta(a,c):c?String(c):null}
h.qh.lC=function(a,c){var d=new h.qh(a),e=c.base;e&&("string"==typeof e&&(e=h.G.mr(h.G.ba.Pp,e)),e instanceof h.qh&&(h.g.object.ej(d,e),d.name=a));h.g.object.ej(d.sg,c.blockStyles);h.g.object.ej(d.lq,c.categoryStyles);h.g.object.ej(d.Xv,c.componentStyles);h.g.object.ej(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Zs=c.startHats);return d};h.Bf={};h.Bf.kg={};h.Bf.kg.kC={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Bf.kg.lq={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.Bf.kg=new h.qh("classic",h.Bf.kg.kC,h.Bf.kg.lq);h.g.Va={uI:0,JG:3,mz:8,gI:9,VG:12,Vt:13,Ki:16,PF:17,gz:18,OH:19,HF:20,Wt:27,eB:32,WA:33,VA:34,Tz:35,nA:36,tp:37,qB:38,Mm:39,Lz:40,RH:43,UH:44,op:45,Xj:46,ZERO:48,ONE:49,mI:50,hI:51,tG:52,qG:53,eI:54,cI:55,WF:56,TG:57,oG:59,mG:61,lG:173,nG:163,VH:63,DF:64,rt:65,EF:66,uz:67,Ot:68,E:69,ZF:70,Vc:71,xG:72,rA:73,CG:74,AA:75,DG:76,IG:77,SG:78,kH:79,NH:80,Q:81,WH:82,bv:83,kB:84,oI:85,rB:86,wv:87,Dv:88,wB:89,yB:90,LA:91,vI:92,OF:93,jH:96,cH:97,iH:98,hH:99,ZG:100,YG:101,gH:102,fH:103,XG:104,bH:105,aH:106,eH:107,
$G:109,dH:110,WG:111,$F:112,dG:113,eG:114,fG:115,gG:116,hG:117,iG:118,jG:119,kG:120,aG:121,bG:122,cG:123,UG:144,$H:145,pG:166,FG:183,aI:186,QF:189,XF:187,NF:188,PH:190,fI:191,CF:192,iI:192,dI:222,lH:219,FF:220,KF:221,tI:224,KG:224,LG:91,MG:93,sI:229,rI:252,QH:255};h.ya={};h.ya.wa={};h.ya.wa.Sh={};h.ya.wa.Pg={Ki:"Shift",Az:"Control",gz:"Alt",LA:"Meta"};h.ya.wa.AJ=function(a,c){var d=h.ya.wa.ZC(c);d&&delete h.ya.wa.Sh[d];h.ya.wa.Sh[a]=c};h.ya.wa.WE=function(a){h.ya.wa.Sh=a};h.ya.wa.TI=function(){var a={};h.g.object.Yf(a,h.ya.wa.Sh);return a};h.ya.wa.MC=function(a){return h.ya.wa.Sh[a]};h.ya.wa.ZC=function(a){for(var c=Object.keys(h.ya.wa.Sh),d=0,e;e=c[d];d++)if(h.ya.wa.Sh[e].name===a.name)return e;return null};
h.ya.wa.SE=function(a){for(var c=h.g.object.values(h.ya.wa.Pg),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};h.ya.wa.RB=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};h.ya.wa.Mk=function(a,c){var d="",e=h.g.object.values(h.ya.wa.Pg);h.ya.wa.RB(c,e);for(var f=0,g;g=e[f];f++)-1<c.indexOf(g)&&(d+=g);return d+a};
h.ya.wa.eC=function(){var a={},c=h.ya.wa.Mk(h.g.Va.AA,[h.ya.wa.Pg.Az,h.ya.wa.Pg.Ki]),d=h.ya.wa.Mk(h.g.Va.wv,[h.ya.wa.Pg.Ki]),e=h.ya.wa.Mk(h.g.Va.rt,[h.ya.wa.Pg.Ki]),f=h.ya.wa.Mk(h.g.Va.bv,[h.ya.wa.Pg.Ki]),g=h.ya.wa.Mk(h.g.Va.Ot,[h.ya.wa.Pg.Ki]);a[h.g.Va.wv]=h.navigation.Qo;a[h.g.Va.rt]=h.navigation.tt;a[h.g.Va.bv]=h.navigation.Po;a[h.g.Va.Ot]=h.navigation.st;a[h.g.Va.rA]=h.navigation.Zy;a[h.g.Va.Vt]=h.navigation.$y;a[h.g.Va.Dv]=h.navigation.Yy;a[h.g.Va.kB]=h.navigation.ez;a[h.g.Va.E]=h.navigation.Oo;
a[h.g.Va.Wt]=h.navigation.Oo;a[c]=h.navigation.ut;a[d]=h.navigation.dz;a[e]=h.navigation.bz;a[f]=h.navigation.az;a[g]=h.navigation.cz;return a};h.g.Di={};h.g.Di.aE=0;h.g.Di.lr=function(){return"blockly-"+(h.g.Di.aE++).toString(36)};h.g.ta={};h.g.ta.Zo="categoryToolbox";h.g.ta.du="flyoutToolbox";h.g.ta.Me={Rp:h.tk,Ft:h.Vm,tp:h.le,Mm:h.rk};h.g.ta.gw=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.ta.ws(a),a=h.g.ta.dC(a);h.g.ta.vF(a);return a};h.g.ta.vF=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.ta.du&&c!=h.g.ta.Zo)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.ta.du+" or "+h.g.ta.Zo);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.ta.fw=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.ta.qt(a):[]};h.g.ta.dl=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.ta.Zo:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.ta.bJ=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.ta.dC=function(a){var c={contents:h.g.ta.qt(a)};a instanceof Node&&h.g.ta.Gv(a,c);return c};
h.g.ta.qt=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:"CATEGORY"==g&&(f.contents=h.g.ta.qt(e));h.g.ta.Gv(e,f);c.push(f)}return c};h.g.ta.Gv=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.ta.ws=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Je&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.O.dg(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.h.Ci=function(a){this.pd="undefined"==typeof a;this.xb=a?a.id:"";this.group=h.h.Vb();this.Eb=!1};h.g.object.Y(h.h.Ci,h.h.Yb);h.h.Ci.prototype.type=h.h.cu;h.h.Ci.prototype.Ta=function(){var a={type:this.type};this.group&&(a.group=this.group);this.xb&&(a.workspaceId=this.xb);return a};h.h.Ci.prototype.va=function(a){this.pd=!1;this.xb=a.workspaceId;this.group=a.group};h.G.register(h.G.ba.Tc,h.h.cu,h.h.Ci);h.h.Cf=function(a){h.h.Cf.B.constructor.call(this);this.bh=(this.pd="undefined"==typeof a)?"":a.Ob();this.xb=this.pd?"":a.A.id};h.g.object.Y(h.h.Cf,h.h.Abstract);h.h.Cf.prototype.Ta=function(){var a=h.h.Cf.B.Ta.call(this);a.varId=this.bh;return a};h.h.Cf.prototype.va=function(a){h.h.Cf.B.Ta.call(this);this.bh=a.varId};h.h.Dd=function(a){h.h.Dd.B.constructor.call(this,a);a&&(this.si=a.type,this.ri=a.name)};h.g.object.Y(h.h.Dd,h.h.Cf);h.h.Dd.prototype.type=h.h.qv;
h.h.Dd.prototype.Ta=function(){var a=h.h.Dd.B.Ta.call(this);a.varType=this.si;a.varName=this.ri;return a};h.h.Dd.prototype.va=function(a){h.h.Dd.B.va.call(this,a);this.si=a.varType;this.ri=a.varName};h.h.Dd.prototype.run=function(a){var c=v(this);a?c.se(this.ri,this.si,this.bh):c.fj(this.bh)};h.h.me=function(a){h.h.me.B.constructor.call(this,a);a&&(this.si=a.type,this.ri=a.name)};h.g.object.Y(h.h.me,h.h.Cf);h.h.me.prototype.type=h.h.rv;
h.h.me.prototype.Ta=function(){var a=h.h.me.B.Ta.call(this);a.varType=this.si;a.varName=this.ri;return a};h.h.me.prototype.va=function(a){h.h.me.B.va.call(this,a);this.si=a.varType;this.ri=a.varName};h.h.me.prototype.run=function(a){var c=v(this);a?c.fj(this.bh):c.se(this.ri,this.si,this.bh)};h.h.Qe=function(a,c){h.h.Qe.B.constructor.call(this,a);a&&(this.ns=a.name,this.gs="undefined"==typeof c?"":c)};h.g.object.Y(h.h.Qe,h.h.Cf);h.h.Qe.prototype.type=h.h.uv;
h.h.Qe.prototype.Ta=function(){var a=h.h.Qe.B.Ta.call(this);a.oldName=this.ns;a.newName=this.gs;return a};h.h.Qe.prototype.va=function(a){h.h.Qe.B.va.call(this,a);this.ns=a.oldName;this.gs=a.newName};h.h.Qe.prototype.run=function(a){var c=v(this);a?c.di(this.bh,this.gs):c.di(this.bh,this.ns)};h.G.register(h.G.ba.Tc,h.h.qv,h.h.Dd);h.G.register(h.G.ba.Tc,h.h.rv,h.h.me);h.G.register(h.G.ba.Tc,h.h.uv,h.h.Qe);h.O={};h.O.Sy=function(a){var c=D,d=h.g.xml.createElement("xml"),e=h.O.xF(h.ga.Kv(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.Io);1<f.length&&(c.lf.offset=Math.sin(h.g.Pd.ct(h.rb.cv)),c.J&&(c.lf.offset*=-1),f.sort(c.lf));e=0;for(var g;g=f[e];e++)d.appendChild(g.Dy(a));c=c.lb(!0);for(e=0;f=c[e];e++)d.appendChild(h.O.fq(f,a));return d};
h.O.xF=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.Ob();c.appendChild(f)}return c};h.O.fq=function(a,c){if(a.xe()&&(a=E(a,!1)[0],!a))return new DocumentFragment;var d;a.A.J&&(d=a.A.bl());c=h.O.Ff(a,c);var e=a.Wa();c.setAttribute("x",Math.round(a.A.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.O.DC=function(a){var c=!1;a.name&&(a.dv?c=!0:a.Yj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.O.EB=function(a,c){for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.gb[f];f++)(g=h.O.DC(g))&&c.appendChild(g)};
h.O.Ff=function(a,c){if(a.xe())return(a=E(a,!1)[0])?h.O.Ff(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ka?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Rd){var e=a.Rd();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.O.EB(a,d);if(e=a.qe.text){var f=a.qe.size,g=a.qe.Xx,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.R[e];e++){var l;g=!0;if(f.type!=h.vf){var m=f.connection.ra();f.type==h.jb?l=h.g.xml.createElement("value"):f.type==h.Sa&&(l=h.g.xml.createElement("statement"));k=f.connection.mj();!k||m&&m.Ka||l.appendChild(h.O.Uv(k,c));m&&(k=h.O.Ff(m,c),k.nodeType==h.g.j.yf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.Sf&&a.Sf!=a.yD&&d.setAttribute("inline",
a.Sf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.qd()||a.Ka||d.setAttribute("deletable",!1);a.Oc()||a.Ka||d.setAttribute("movable",!1);a.Nd()||d.setAttribute("editable",!1);if(e=u(a))k=h.O.Ff(e,c),k.nodeType==h.g.j.yf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.W&&a.W.mj();!k||e&&e.Ka||l.appendChild(h.O.Uv(k,c));return d};
h.O.Uv=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.yf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.yf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.O.te=function(a){return h.g.xml.te(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.O.JI=function(a){a=h.O.te(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.O.dg=function(a){var c=h.g.xml.kF(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.O.DI=function(a,c){c.dc(!1);c.clear();a=h.O.Ah(a,c);c.dc(!0);return a};
h.O.Ah=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.bl());d=[];h.g.j.Vl();var f=h.h.Vb();f||h.h.qa(!0);c.dc&&c.dc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Eb){var p=h.O.hj(n,c);d.push(p.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(t)||p.moveBy(c.J?e-r:r,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.pa?h.Si?h.Si.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.tB?h.tB.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.O.wC(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.qa(!1),h.g.j.Wl()}c.dc&&c.dc(!0);h.h.Ia(new h.h.Ci(c));return d};h.O.wI=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=Ua(c));a=h.O.Ah(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Jc(a[d]).Wa();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.J?f-k:f-g;for(d=0;d<a.length;d++)c.Jc(a[d]).moveBy(f,e)}return a};
h.O.hj=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Eh();try{var e=h.O.Lq(a,c),f=q(e,!1);if(c.pa){Va(e,!1);for(var g=f.length-1;0<=g;g--)f[g].sj();for(g=f.length-1;0<=g;g--)f[g].Ga(!1);setTimeout(function(){e.Lf||Va(e,!0)},1);Wa(e);Xa(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.ga.Iw(c,d);for(g=0;g<a.length;g++)h.h.Ia(new h.h.Dd(a[g]));h.h.Ia(new h.h.qm(e))}return e};
h.O.wC=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.yf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.se(e.textContent,f,g)}};
h.O.Lq=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.fs(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=h.g.j.yf.TEXT_NODE){for(var l,m=g=null,n=0;l=k.childNodes[n];n++)l.nodeType==h.g.j.yf.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?g=l:"shadow"==l.nodeName.toLowerCase()&&(m=l));n=!1;var p=k.getAttribute("name");l=k;switch(k.nodeName.toLowerCase()){case "mutation":d.Mf&&(d.Mf(l),
d.sj&&(n=!0));break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}m=l.textContent;g="true"==l.getAttribute("pinned");k=parseInt(l.getAttribute("w"),10);l=parseInt(l.getAttribute("h"),10);d.Ij(m);d.qe.Xx=g;isNaN(k)||isNaN(l)||(d.qe.size=new h.g.ke(k,l));g&&d.RC&&!d.Nc&&setTimeout(function(){d.pe.Wb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":h.O.vC(d,p,l);break;case "value":case "statement":l=ea(d,
p);if(!l){console.warn("Ignoring non-existent input "+p+" in block "+e);break}if(g)if(g=h.O.Lq(g,c),g.M)l.connection.connect(g.M);else if(g.U)l.connection.connect(g.U);else throw TypeError("Child block does not have output or previous statement.");m&&l.connection.Ol(m);break;case "next":if(g){if(!d.W)throw TypeError("Next statement does not exist.");if(d.W.isConnected())throw TypeError("Next statement is already connected.");g=h.O.Lq(g,c);if(!g.U)throw TypeError("Next block does not have previous statement.");
d.W.connect(g.U)}m&&d.W&&d.W.Ol(m);break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}n&&d.sj();(f=a.getAttribute("inline"))&&d.ji("true"==f);(f=a.getAttribute("disabled"))&&d.kf("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.mw="true"==f;(f=a.getAttribute("movable"))&&d.Qs("true"==f);(f=a.getAttribute("editable"))&&d.Ps("true"==f);(f=a.getAttribute("collapsed"))&&d.gi("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=E(d,!1);for(f=0;c=a[f];f++)if(!c.Ka)throw TypeError("Shadow block not allowed non-shadow child.");
if(Ya(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.Ts(!0)}return d};h.O.vC=function(a,c,d){var e=ba(a,c);e?e.setValue(d.textContent):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.O.mC=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.hd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.ta.gw(a.toolbox);e=h.g.ta.dl(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var t=a.toolboxPosition;t="end"!==t;t=r?t?h.g.ta.Me.Rp:h.g.ta.Me.Ft:t==p?h.g.ta.Me.Mm:h.g.ta.Me.tp;var A=a.css;void 0===
A&&(A=!0);var ha="https://blockly-demo.appspot.com/static/media/";a.media?ha=a.media:a.path&&(ha=a.path+"media/");var ka=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ee=a.keyMap||h.ya.wa.eC(),fe=a.renderer||"geras",ge=a.plugins||{};this.J=p;this.to=ka;this.collapse=g;this.WB=k;this.disable=l;this.readOnly=c;this.Xr=a.maxBlocks||Infinity;this.bo=a.maxInstances;this.xo=ha;this.dl=e;this.cc=h.hd.nE(a,e);this.jx=f;this.co=n;this.qD=m;this.oD=A;this.Md=r;this.Rh=d;this.bx=h.hd.mE(a);this.ab=h.hd.pE(a);
this.hb=t;this.lF=h.hd.oE(a);this.wa=ee;this.Js=fe;this.Ks=a.rendererOverrides;this.vr=null;this.cd=a.parentWorkspace;this.plugins=ge};h.GF=function(){};h.hd.nE=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.eh=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.xg=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
h.hd.pE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.eh=void 0===a.wheel?!1:!!a.wheel;c.gF=void 0===a.startScale?1:Number(a.startScale);c.wl=void 0===a.maxScale?3:Number(a.maxScale);c.xl=void 0===a.minScale?.3:Number(a.minScale);c.PE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.As=void 0===a.pinch?c.eh||c.controls:!!a.pinch;return c};
h.hd.mE=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.tb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.HJ=0<c.spacing&&!!a.snap;return c};h.hd.oE=function(a){a=a.theme||h.Bf.kg;return"string"==typeof a?h.G.mr(h.G.ba.Pp,a):a instanceof h.qh?a:h.qh.lC(a.name||"builtin"+h.g.Di.lr(),a)};h.hd.ws=function(a){h.g.un.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.ta.ws(a)};h.Up=function(a){this.Oa=Object.create(null);this.A=a};b=h.Up.prototype;b.clear=function(){this.Oa=Object.create(null)};b.jy=function(a,c){var d=this.Ag(c,a.type),e=F(this.A,!1);h.h.qa(!0);try{if(d&&d.Ob()!=a.Ob()){var f=a.type;c!=d.name&&Za(d,c,e);for(c=0;c<e.length;c++){var g=void 0;a.Ob();d.Ob();for(var k=0;g=e[c].R[k];k++)for(var l=0;g.gb[l];l++);}h.h.Ia(new h.h.me(a));this.Oa[f].splice(this.In(f).indexOf(a),1)}else Za(a,c,e)}finally{h.h.qa(!1)}};
b.di=function(a,c){var d=this.Bg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.jy(d,c)};function Za(a,c,d){h.h.Ia(new h.h.Qe(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.R[f];f++)for(var g=0;c.gb[g];g++);}
b.se=function(a,c,d){var e=this.Ag(a,c);if(e){if(d&&e.Ob()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.Ob()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Bg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Pf();c=c||"";e=new h.Wm(this.A,a,c,e);a=this.Oa[c]||[];a.push(e);delete this.Oa[c];this.Oa[c]=a;return e};
b.fj=function(a){var c=this.Bg(a);if(c){var d=c.name,e=this.rr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=$a(f,"NAME");d=h.N.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.N.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&ab(g,c,e)})):ab(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function ab(a,c,d){var e=h.h.Vb();e||h.h.qa(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Oa[c.type];a=0;for(var k;k=g[a];a++)if(k.Ob()==c.Ob()){g.splice(a,1);h.h.Ia(new h.h.me(c));break}}finally{e||h.h.qa(!1)}}b.Ag=function(a,c){if(c=this.Oa[c||""])for(var d=0,e;e=c[d];d++)if(h.Ad.Nf(e.name,a))return e;return null};b.Bg=function(a){for(var c=Object.keys(this.Oa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Oa[e][f];f++)if(g.Ob()==a)return g;return null};
b.In=function(a){return(a=this.Oa[a||""])?a.slice():[]};b.Eh=function(){var a=[],c;for(c in this.Oa)a=a.concat(this.Oa[c]);return a};b.Zq=function(){var a=[],c;for(c in this.Oa)for(var d=this.Oa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.rr=function(a){for(var c=[],d=F(this.A,!1),e=0;e<d.length;e++){var f=Ya(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].Ob()==a&&c.push(d[e])}return c};h.rb=function(a){this.id=h.g.Pf();h.rb.xk[this.id]=this;this.options=a||new h.hd({});this.J=!!this.options.J;this.Md=!!this.options.Md;this.hb=this.options.hb;this.Gk=new (h.G.Kw(h.G.ba.Lt,this.options))(this);this.bm=[];this.Io=[];this.nn=Object.create(null);this.Qc=[];this.pi=[];this.Gl=[];this.eq=Object.create(null);this.hg=Object.create(null);this.Oa=new h.Up(this);this.Fj=null};b=h.rb.prototype;b.pa=!1;b.Fr=!1;b.wu=1024;b.pn=null;b.H=function(){this.Qc.length=0;this.clear();delete h.rb.xk[this.id]};
h.rb.cv=3;b=h.rb.prototype;b.lf=function(a,c){a=a.Wa();c=c.Wa();return a.y+h.rb.prototype.lf.offset*a.x-(c.y+h.rb.prototype.lf.offset*c.x)};b.Ym=function(a){this.bm.push(a)};b.Ao=function(a){if(!h.g.Ak(this.bm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.lb=function(a){var c=[].concat(this.bm);a&&1<c.length&&(this.lf.offset=Math.sin(h.g.Pd.ct(h.rb.cv)),this.J&&(this.lf.offset*=-1),c.sort(this.lf));return c};function bb(a,c){return a.hg[c]?a.hg[c].slice(0):[]}
function F(a,c){if(c){a=a.lb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,q(a[d],!0))}else for(c=a.lb(!1),d=0;d<c.length;d++)c.push.apply(c,E(c[d],!1));return c.filter(function(e){return!e.xe()})}b.clear=function(){this.Fr=!0;try{var a=h.h.Vb();for(a||h.h.qa(!0);this.bm.length;)this.bm[0].H(!1);for(;this.Io.length;)this.Io[this.Io.length-1].H(!1);a||h.h.qa(!1);this.Oa.clear();this.Fj&&this.Fj.clear()}finally{this.Fr=!1}};b.di=function(a,c){this.Oa.di(a,c)};
b.se=function(a,c,d){return this.Oa.se(a,c,d)};b.rr=function(a){return this.Oa.rr(a)};b.fj=function(a){this.Oa.fj(a)};b.Ag=function(a,c){return this.Oa.Ag(a,c)};b.Bg=function(a){return this.Oa.Bg(a)};b.In=function(a){return this.Oa.In(a)};b.Eh=function(){return this.Oa.Eh()};b.Zq=function(){return this.Oa.Zq()};b.bl=function(){return 0};b.fs=function(a,c){return new h.Sc(this,a,c)};function cb(a){return isNaN(a.options.Xr)?Infinity:a.options.Xr-F(a,!1).length}
function db(a,c){if(!eb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.bo?(void 0!==a.options.bo[e]?a.options.bo[e]:Infinity)-bb(a,e).length:Infinity))return!1;d+=c[e]}return d>cb(a)?!1:!0}function eb(a){return Infinity!=a.options.Xr||!!a.options.bo}
function fb(a,c){var d=c?a.Gl:a.pi;a=c?a.pi:a.Gl;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Eb=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Eb=!0}}}function G(a,c){a.Qc.push(c)}function gb(a,c){h.g.Ak(a.Qc,c)}b.Jc=function(a){return this.eq[a]||null};b.Us=function(a){this.Oa=a};h.rb.xk=Object.create(null);h.rb.Yk=function(a){return h.rb.xk[a]||null};
h.rb.getAll=function(){var a=[],c;for(c in h.rb.xk)a.push(h.rb.xk[c]);return a};h.La=function(a,c,d,e,f,g){this.o=a;this.Jf=c;this.ZE=d;this.ps=this.os=this.Lx=this.oy=null;this.Lf=!1;d=h.La.kz;this.o.J&&(d=-d);this.HB=h.g.Pd.ct(d);a.cg.appendChild(this.Kk(c,!(!f||!g)));this.Mb=e;this.ky&&hb(this);f&&g||(a=this.Jf.getBBox(),f=a.width+2*h.La.fh,g=a.height+2*h.La.fh);ib(this,f,g);hb(this);jb(this);this.ky=!0};h.La.fh=6;h.La.lz=5;h.La.kz=20;h.La.zt=4;h.La.hz=8;h.La.Tg=null;h.La.Sg=null;h.La.gt=function(){h.La.Tg&&(h.ob(h.La.Tg),h.La.Tg=null);h.La.Sg&&(h.ob(h.La.Sg),h.La.Sg=null)};
h.La.LB=function(){h.Touch.jn();h.La.gt()};b=h.La.prototype;b.ky=!1;b.Mb=null;b.jf=0;b.Wg=0;b.ib=0;b.lc=0;b.bq=!0;
b.Kk=function(a,c){this.Se=h.g.j.K(h.g.D.Vc,{},null);var d={filter:"url(#"+this.o.mb.Z().Bn+")"};h.g.userAgent.zA&&(d={});d=h.g.j.K(h.g.D.Vc,d,this.Se);this.Mv=h.g.j.K(h.g.D.Le,{},d);this.cn=h.g.j.K(h.g.D.Cd,{"class":"blocklyDraggable",x:0,y:0,rx:h.La.fh,ry:h.La.fh},d);c?(this.Zf=h.g.j.K(h.g.D.Vc,{"class":this.o.J?"blocklyResizeSW":"blocklyResizeSE"},this.Se),c=2*h.La.fh,h.g.j.K(h.g.D.XA,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Zf),h.g.j.K(h.g.D.fk,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Zf),h.g.j.K(h.g.D.fk,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Zf)):this.Zf=null;this.o.options.readOnly||(this.os=h.za(this.cn,"mousedown",this,this.KB),this.Zf&&(this.ps=h.za(this.Zf,"mousedown",this,this.ME)));this.Se.appendChild(a);return this.Se};b.na=function(){return this.Se};
b.KB=function(a){var c=this.o.yg(a);if(c){if(c.Ih)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.vd||(c.vd=this);c.Qd=a}};b.Ql=function(){};b.qd=function(){return!1};b.Ml=function(){};
b.ME=function(a){var c=this.Se.parentNode;c.lastChild!==this.Se&&c.appendChild(this.Se);h.La.gt();h.g.ql(a)||(this.o.Ys(a,new h.g.S(this.o.J?-this.ib:this.ib,this.lc)),h.La.Tg=h.za(document,"mouseup",this,h.La.LB),h.La.Sg=h.za(document,"mousemove",this,this.NE),h.ac());a.stopPropagation()};b.NE=function(a){this.bq=!1;var c=this.o;a=h.g.yl(a,x(c),Na(c));a.x/=c.scale;a.y/=c.scale;c=h.g.S.sum(c.xw,a);ib(this,this.o.J?-c.x:c.x,c.y);this.o.J&&hb(this)};
function kb(a,c,d){var e=a.o.J?a.Mb.x-c.x-a.ib:c.x+a.Mb.x;c=c.y+a.Mb.y;return Math.max(0,Math.min(1,(Math.min(e+a.ib,d.Kb+d.yb)-Math.max(e,d.Kb))*(Math.min(c+a.lc,d.Sb+d.Jb)-Math.max(c,d.Sb))/(a.ib*a.lc)))}function hb(a){var c=a.Mb.x;c=a.o.J?c-(a.jf+a.ib):c+a.jf;a.moveTo(c,a.Wg+a.Mb.y)}b.moveTo=function(a,c){this.Se.setAttribute("transform","translate("+a+","+c+")")};b.Yg=function(a){!a&&this.Lx&&this.Lx()};
function ib(a,c,d){var e=2*h.La.fh;c=Math.max(c,e+45);d=Math.max(d,e+20);a.ib=c;a.lc=d;a.cn.setAttribute("width",c);a.cn.setAttribute("height",d);a.Zf&&(a.o.J?a.Zf.setAttribute("transform","translate("+2*h.La.fh+","+(d-e)+") scale(-1 1)"):a.Zf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.bq){c=a.o.Id();c.Kb/=a.o.scale;c.yb/=a.o.scale;c.Sb/=a.o.scale;c.Jb/=a.o.scale;d=-a.ib/4;if(!(a.ib>c.yb)){if(a.o.J){e=a.Mb.x-d;var f=e-a.ib;var g=c.Kb+c.yb,k=c.Kb+h.Ma.mc/a.o.scale}else f=d+a.Mb.x,
e=f+a.ib,k=c.Kb,g=c.Kb+c.yb-h.Ma.mc/a.o.scale;a.o.J?f<k?d=-(k-a.Mb.x+a.ib):e>g&&(d=-(g-a.Mb.x)):f<k?d=k-a.Mb.x:e>g&&(d=g-a.Mb.x-a.ib)}f=d;d=-a.lc/4;if(!(a.lc>c.Jb)){e=a.Mb.y+d;g=e+a.lc;k=c.Sb;var l=c.Sb+c.Jb-h.Ma.mc/a.o.scale,m=a.Mb.y;e<k?d=k-m:g>l&&(d=l-m-a.lc)}k=d;g=a.ZE.getBBox();d={x:f,y:-a.lc-a.o.mb.Z().hk};e={x:-a.ib-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=kb(a,d,c);l=kb(a,e,c);m=kb(a,f,c);c=Math.max(k,l,m,kb(a,g,c));k==c?(a.jf=d.x,a.Wg=d.y):
l==c?(a.jf=e.x,a.Wg=e.y):m==c?(a.jf=f.x,a.Wg=f.y):(a.jf=g.x,a.Wg=g.y)}hb(a);jb(a);a.oy&&a.oy()}
function jb(a){var c=[],d=a.ib/2,e=a.lc/2,f=-a.jf,g=-a.Wg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.o.J&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),r=new h.g.ke(a.ib,a.lc);m=(r.width+r.height)/h.La.lz;m=Math.min(m,r.width,r.height)/4;r=1-h.La.hz/k;f=d+r*f;g=e+r*g;r=d+m*p;var t=e+m*n;d-=m*p;e-=m*n;n=l+a.HB;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.La.zt;k=Math.cos(n)*k/h.La.zt;c.push("M"+
r+","+t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Mv.setAttribute("d",c.join(" "))}b.Be=function(a){this.cn.setAttribute("fill",a);this.Mv.setAttribute("fill",a)};b.H=function(){this.os&&h.ob(this.os);this.ps&&h.ob(this.ps);h.La.gt();h.g.j.removeNode(this.Se);this.Lf=!0};b.bs=function(a,c){a?a.oi(c.x,c.y):this.moveTo(c.x,c.y);this.jf=this.o.J?this.Mb.x-c.x-this.ib:c.x-this.Mb.x;this.Wg=c.y-this.Mb.y;jb(this)};
b.Wa=function(){return new h.g.S(this.o.J?-this.jf+this.Mb.x-this.ib:this.Mb.x+this.jf,this.Mb.y+this.Wg)};h.h.rf=function(a){this.Te=(this.pd="undefined"==typeof a)?"":a.id;this.xb=this.pd?"":a.A.id;this.group=h.h.Vb();this.Eb=h.h.Eb};h.g.object.Y(h.h.rf,h.h.Abstract);h.h.rf.prototype.Ta=function(){var a=h.h.rf.B.Ta.call(this);this.Te&&(a.commentId=this.Te);return a};h.h.rf.prototype.va=function(a){h.h.rf.B.va.call(this,a);this.Te=a.commentId};h.h.zi=function(a,c,d){h.h.zi.B.constructor.call(this,a);a&&(this.Nx="undefined"==typeof c?"":c,this.mo="undefined"==typeof d?"":d)};h.g.object.Y(h.h.zi,h.h.rf);
b=h.h.zi.prototype;b.type=h.h.It;b.Ta=function(){var a=h.h.zi.B.Ta.call(this);a.newContents=this.mo;return a};b.va=function(a){h.h.zi.B.va.call(this,a);this.mo=a.newValue};b.zj=function(){return this.Nx==this.mo};b.run=function(a){var c;(c=v(this).nn[this.Te]||null)?c.CJ(a?this.mo:this.Nx):console.warn("Can't change non-existent comment: "+this.Te)};h.h.sf=function(a){h.h.sf.B.constructor.call(this,a);a&&(this.xml=a.Dy())};h.g.object.Y(h.h.sf,h.h.rf);h.h.sf.prototype.type=h.h.tm;
h.h.sf.prototype.Ta=function(){var a=h.h.sf.B.Ta.call(this);a.xml=h.O.te(this.xml);return a};h.h.sf.prototype.va=function(a){h.h.sf.B.va.call(this,a);this.xml=h.O.dg(a.xml)};h.h.sf.prototype.run=function(a){h.h.Mt(this,a)};h.h.Mt=function(a,c){var d=v(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.O.Ah(c,d)):(d=d.nn[a.Te]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Te)};h.h.tf=function(a){h.h.tf.B.constructor.call(this,a);a&&(this.xml=a.Dy())};
h.g.object.Y(h.h.tf,h.h.rf);h.h.tf.prototype.type=h.h.Jt;h.h.tf.prototype.Ta=function(){return h.h.tf.B.Ta.call(this)};h.h.tf.prototype.va=function(a){h.h.tf.B.va.call(this,a)};h.h.tf.prototype.run=function(a){h.h.Mt(this,!a)};h.h.ih=function(a){h.h.ih.B.constructor.call(this,a);a&&(this.rq=a,this.ls=a.ax(),this.Xh=null)};h.g.object.Y(h.h.ih,h.h.rf);b=h.h.ih.prototype;
b.bi=function(){if(!this.rq)throw Error("Tried to record the new position of a comment on the same event twice.");this.Xh=this.rq.ax();this.rq=null};b.type=h.h.um;b.Ta=function(){var a=h.h.ih.B.Ta.call(this);this.Xh&&(a.newCoordinate=Math.round(this.Xh.x)+","+Math.round(this.Xh.y));return a};b.va=function(a){h.h.ih.B.va.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Xh=new h.g.S(Number(a[0]),Number(a[1])))};b.zj=function(){return h.g.S.Nf(this.ls,this.Xh)};
b.run=function(a){var c;if(c=v(this).nn[this.Te]||null){a=a?this.Xh:this.ls;var d=c.ax();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Te)};h.G.register(h.G.ba.Tc,h.h.tm,h.h.sf);h.G.register(h.G.ba.Tc,h.h.It,h.h.zi);h.G.register(h.G.ba.Tc,h.h.um,h.h.ih);h.G.register(h.G.ba.Tc,h.h.Jt,h.h.tf);h.rm=function(a,c){this.Ub=a;this.o=c;this.zh=null;this.Mo=!1;this.mf=this.Ub.Wa();this.Bh=h.g.Lh()&&c.kd?c.kd:null};h.rm.prototype.H=function(){this.Bh=this.o=this.Ub=null};function lb(a,c,d){d=a.Ej(d);d=h.g.S.sum(a.mf,d);a.Ub.bs(a.Bh,d);a.Ub.qd()&&(a.zh=wa(a.o,c),a.Mo=a.zh!=h.Qt,c=a.o.pc,a.Mo?(a.Ub.Ml(!0),a.zh==h.fp&&c&&xa(c,!0)):(a.Ub.Ml(!1),c&&xa(c,!1)))}
function mb(a,c,d){lb(a,c,d);c=a.Ej(d);c=h.g.S.sum(a.mf,c);a.Ub.moveTo(c.x,c.y);c=a.o.pc;a.Mo?(c&&setTimeout(c.ln.bind(c),100),a.Vk(),a.Ub.H(!1,!0)):c&&c.ln();a.Mo||(a.Bh&&a.Bh.hn(a.o.cg),a.Ub.Yg&&a.Ub.Yg(!1),a.Vk());a.o.dc(!0);(c=a.o.ua)&&"function"==typeof c.Hs&&c.Hs(a.Ub.qd()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.qa(!1)}h.rm.prototype.Vk=function(){if(this.Ub.cJ){var a=new h.h.ih(this.Ub);a.ls=this.mf;a.bi();h.h.Ia(a)}};
h.rm.prototype.Ej=function(a){a=new h.g.S(a.x/this.o.scale,a.y/this.o.scale);this.o.Tn&&a.scale(1/this.o.options.cd.scale);return a};h.yk=function(a){this.o=a;this.By=new h.g.S(a.scrollX,a.scrollY)};h.yk.prototype.H=function(){this.o=null};h.yk.prototype.Ys=function(){h.selected&&nb(h.selected);Oa(this.o)};h.yk.prototype.xg=function(a){a=h.g.S.sum(this.By,a);this.o.scroll(a.x,a.y)};h.Dm=function(a){h.Dm.B.constructor.call(this,a.o);this.sy=a.Aa;this.rD=a.Md};h.g.object.Y(h.Dm,h.yk);h.Dm.prototype.xg=function(a){a=h.g.S.sum(this.By,a);this.rD?this.sy.set(-a.x):this.sy.set(-a.y)};h.Rc=function(a){this.name=a};h.navigation={};h.navigation.Bj=null;h.navigation.jv=1;h.navigation.Rm=2;h.navigation.kv=3;h.navigation.Av=40;h.navigation.yh=h.navigation.Rm;h.navigation.Ca={Bd:"previous",zd:"next",np:"in",Cp:"out",op:"insert",xp:"mark",St:"disconnect",qk:"toolbox",hp:"exit",Qp:"toggle_keyboard_nav",Bu:"move workspace cursor up",yu:"move workspace cursor down",zu:"move workspace cursor left",Au:"move workspace cursor right"};h.navigation.gk="local_marker_1";h.navigation.Kc=function(){return h.navigation.Gb().Kc(h.navigation.gk)};
h.navigation.Gb=function(){return h.Qf()};h.navigation.Fw=function(){var a=h.navigation.Gb().ua;a&&(h.navigation.yh=h.navigation.kv,h.navigation.ny(!1),h.navigation.Kc().$a||h.navigation.Ur(),a.WI()||a.zJ(0))};h.navigation.Ew=function(){h.navigation.yh=h.navigation.jv;var a=h.navigation.Gb();var c=a.ua;a=c?H(c):H(a);h.navigation.Kc().$a||h.navigation.Ur();a&&a.o&&(a=a.o.lb(!0),0<a.length&&(a=a[0],a=h.v.Nk(a),I(h.navigation.jj(),a)))};
h.navigation.En=function(){h.ac();var a=h.navigation.Gb(),c=a.ub(),d=!!a.ua,e=a.lb(!0);h.navigation.ny(d);h.navigation.yh=h.navigation.Rm;0<e.length?I(c,h.v.wq(e[0])):(a=h.v.cj(a,new h.g.S(100,100)),I(c,a))};h.navigation.jj=function(){var a=h.navigation.Gb(),c=null;a.pa&&(c=(a=(c=a.ua)?H(c):H(a))?a.o.ub():null);return c};
h.navigation.zD=function(){var a=h.navigation.Gb(),c=H(a);if(c&&c.isVisible()){var d=h.navigation.jj().$a.oa;d.isEnabled()?(c=ob(c,d),c.Ga(),Va(c,!0),I(a.ub(),h.v.Xe(c)),h.navigation.Hx()||h.navigation.Ac("Something went wrong while inserting a block from the flyout."),h.navigation.En(),I(a.ub(),h.v.wq(c)),h.navigation.KE()):h.navigation.Ac("Can't insert a disabled block.")}else h.navigation.Ac("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
h.navigation.ny=function(a){h.navigation.jj()&&(h.navigation.jj().Ja(),a&&H(h.navigation.Gb()).Ja())};
h.navigation.PD=function(){var a=h.navigation.Kc().$a,c=h.navigation.Gb().ub().$a;if(!a)return h.navigation.Ac("Cannot insert with no marked node."),!1;if(!c)return h.navigation.Ac("Cannot insert with no cursor node."),!1;a=a.Xa();c=c.Xa();return a==h.v.types.Tb?(h.navigation.Ac("Should not have been able to mark a field."),!1):a==h.v.types.zb?(h.navigation.Ac("Should not have been able to mark a block."),!1):a==h.v.types.Ne?(h.navigation.Ac("Should not have been able to mark a stack."),!1):c==h.v.types.Tb?
(h.navigation.Ac("Cannot attach a field to anything else."),!1):c==h.v.types.Zb?(h.navigation.Ac("Cannot attach a workspace to anything else."),!1):!0};h.navigation.UD=function(a,c){if(!a)return!1;if(a.Ka)return h.navigation.Ac("Cannot move a shadow block to the workspace."),!1;a.getParent()&&w(a,!1);a.moveTo(c.No);return!0};
h.navigation.Hx=function(){var a=h.navigation.Kc().$a,c=h.navigation.Gb().ub().$a;if(!h.navigation.PD())return!1;var d=a.Xa(),e=c.Xa(),f=c.oa,g=a.oa;if(a.vj&&c.vj)return h.navigation.re(f,g);if(a.vj&&(e==h.v.types.zb||e==h.v.types.Ne))return h.navigation.tx(f,g);if(d==h.v.types.Zb)return c=c?c.T():null,h.navigation.UD(c,a);h.navigation.Ac("Unexpected state in Blockly.navigation.modify_.");return!1};
h.navigation.rC=function(a,c){var d=a.T(),e=c.T();d.Lc()==e.Lc()&&(-1<q(d,!1).indexOf(e)?h.navigation.Gn(c).disconnect():h.navigation.Gn(a).disconnect())};h.navigation.$r=function(a,c){if(!a||!c)return!1;var d=a.T();return z(qa(a),a,c,!1)?(h.navigation.rC(a,c),C(c)||ra(d.Lc(),a,c),c.connect(a),!0):!1};h.navigation.Gn=function(a){var c=a.T();return C(a)?c.U?c.U:c.M?c.M:null:a};h.navigation.Zw=function(a){return C(a)?a:a.ma?a.ma:null};
h.navigation.re=function(a,c){if(!a||!c)return!1;var d=h.navigation.Gn(a),e=h.navigation.Zw(c),f=h.navigation.Zw(a),g=h.navigation.Gn(c);if(d&&e&&h.navigation.$r(d,e)||f&&g&&h.navigation.$r(f,g)||h.navigation.$r(a,c))return!0;d=qa(a).dn(a,c,!1);h.navigation.Ac("Connection failed with error: "+Ra(d,a,c));return!1};
h.navigation.tx=function(a,c){switch(c.type){case h.ie:if(h.navigation.re(a.W,c))return!0;break;case h.Sa:if(h.navigation.re(a.U,c))return!0;break;case h.jb:if(h.navigation.re(a.M,c))return!0;break;case h.ge:for(var d=0;d<a.R.length;d++){var e=a.R[d].connection;if(e&&e.type===h.jb&&h.navigation.re(e,c))return!0}if(a.M&&h.navigation.re(a.M,c))return!0}h.navigation.Ac("This block can not be inserted at the marked location.");return!1};
h.navigation.qC=function(){var a=h.navigation.Gb(),c=a.ub().$a;if(c.vj){var d=c.oa;d.isConnected()?(c=C(d)?d:d.ma,d=C(d)?d.ma:d,d.T().Ka?h.navigation.Nr("Cannot disconnect a shadow block"):(c.disconnect(),pb(d,c),Aa(c.T().Lc()),c=h.v.Ye(c),I(a.ub(),c))):h.navigation.Nr("Cannot disconnect unconnected connection")}else h.navigation.Nr("Cannot disconnect blocks when the cursor is not on a connection")};h.navigation.Ur=function(){I(h.navigation.Kc(),h.navigation.Gb().ub().$a)};
h.navigation.KE=function(){var a=h.navigation.Kc();I(a,null);a.Ja()};h.navigation.Lj=function(a){h.navigation.yh=a};h.navigation.VD=function(a){var c=h.navigation.Gb();if(c&&(c=c.ub())){var d=c.$a;d=d?d.T():null;d===a?d.getParent()?(a=d.U||d.M)&&I(c,h.v.Ye(a.ma)):I(c,h.v.cj(d.A,d.Wa())):d&&-1<E(a,!1).indexOf(d)&&I(c,h.v.cj(d.A,d.Wa()))}};h.navigation.kJ=function(a){var c=h.navigation.Gb().ub();if(c){var d=c.$a;d=d?d.T():null;d===a&&I(c,h.v.Xe(d))}};
h.navigation.AC=function(){var a=h.navigation.Gb();a.Pc||(a.Pc=!0,h.navigation.En())};h.navigation.pC=function(){var a=h.navigation.Gb();a.Pc&&(a.Pc=!1,a.ub().Ja(),h.navigation.Kc().Ja(),h.navigation.jj()&&h.navigation.jj().Ja())};h.navigation.Nr=function(a){h.navigation.Bj?h.navigation.Bj("log",a):console.log(a)};h.navigation.Ac=function(a){h.navigation.Bj?h.navigation.Bj("warn",a):console.warn(a)};h.navigation.KI=function(a){h.navigation.Bj?h.navigation.Bj("error",a):console.error(a)};
h.navigation.Rx=function(a){a=h.ya.wa.SE(a);return(a=h.ya.wa.MC(a))?h.navigation.bd(a):!1};h.navigation.bd=function(a){var c=h.navigation.Gb(),d=c.options.readOnly,e=!1;c.Pc?d?-1<h.navigation.$A.indexOf(a)&&(e=h.navigation.gx(a)):e=h.navigation.gx(a):a.name===h.navigation.Ca.Qp&&(h.navigation.AC(),e=!0);return e};
h.navigation.gx=function(a){return a.name==h.navigation.Ca.qk||h.navigation.yh==h.navigation.kv?h.navigation.oF(a):a.name==h.navigation.Ca.Qp?(h.navigation.pC(),!0):h.navigation.yh==h.navigation.Rm?h.navigation.zF(a):h.navigation.yh==h.navigation.jv?h.navigation.IC(a):!1};
h.navigation.IC=function(a){var c=h.navigation.Gb(),d=c.ua;if((c=d?H(d):H(c))&&c.bd(a))return!0;switch(a.name){case h.navigation.Ca.Cp:return h.navigation.Fw(),!0;case h.navigation.Ca.xp:return h.navigation.zD(),!0;case h.navigation.Ca.hp:return h.navigation.En(),!0;default:return!1}};
h.navigation.oF=function(a){var c=h.navigation.Gb(),d=c.ua;return d&&"function"==typeof d.bd&&d.bd(a)?!0:a.name===h.navigation.Ca.qk?(c.ua?h.navigation.Fw():h.navigation.Ew(),!0):a.name===h.navigation.Ca.np?(h.navigation.Ew(),!0):a.name===h.navigation.Ca.hp?(h.navigation.En(),!0):!1};h.navigation.lo=function(a,c){var d=h.navigation.Gb(),e=d.ub(),f=d.ub().$a;if(f.Xa()!==h.v.types.Zb)return!1;f=f.No;I(e,h.v.cj(d,new h.g.S(a*h.navigation.Av+f.x,c*h.navigation.Av+f.y)));return!0};
h.navigation.zF=function(a){if(h.navigation.Gb().ub().bd(a))return!0;switch(a.name){case h.navigation.Ca.op:return h.navigation.Hx(),!0;case h.navigation.Ca.xp:return h.navigation.hD(),!0;case h.navigation.Ca.St:return h.navigation.qC(),!0;case h.navigation.Ca.Bu:return h.navigation.lo(0,-1);case h.navigation.Ca.yu:return h.navigation.lo(0,1);case h.navigation.Ca.zu:return h.navigation.lo(-1,0);case h.navigation.Ca.Au:return h.navigation.lo(1,0);default:return!1}};
h.navigation.hD=function(){var a=h.navigation.Gb().ub().$a,c=a.Xa();c==h.v.types.Tb?(a=a.oa,ja(a)&&a.Sl(void 0)):a.vj||c==h.v.types.Zb?h.navigation.Ur():c==h.v.types.zb?h.navigation.Ac("Cannot mark a block."):c==h.v.types.Ne&&h.navigation.Ac("Cannot mark a stack.")};h.navigation.Qo=new h.Rc(h.navigation.Ca.Bd);h.navigation.tt=new h.Rc(h.navigation.Ca.Cp);h.navigation.Po=new h.Rc(h.navigation.Ca.zd);h.navigation.st=new h.Rc(h.navigation.Ca.np);h.navigation.Zy=new h.Rc(h.navigation.Ca.op);
h.navigation.$y=new h.Rc(h.navigation.Ca.xp);h.navigation.Yy=new h.Rc(h.navigation.Ca.St);h.navigation.ez=new h.Rc(h.navigation.Ca.qk);h.navigation.Oo=new h.Rc(h.navigation.Ca.hp);h.navigation.ut=new h.Rc(h.navigation.Ca.Qp);h.navigation.bz=new h.Rc(h.navigation.Ca.zu);h.navigation.cz=new h.Rc(h.navigation.Ca.Au);h.navigation.dz=new h.Rc(h.navigation.Ca.Bu);h.navigation.az=new h.Rc(h.navigation.Ca.yu);h.navigation.$A=[h.navigation.Qo,h.navigation.tt,h.navigation.st,h.navigation.Po,h.navigation.ut];h.F={};h.F.visible=!1;h.F.Xi=!1;h.F.CA=50;h.F.Jx=0;h.F.Tl=0;h.F.Ir=0;h.F.Jr=0;h.F.sa=null;h.F.Bl=null;h.F.Gu=0;h.F.Hu=10;h.F.ZA=10;h.F.oA=750;h.F.wp=5;h.F.eb=null;h.F.cD=function(){var a=h.F.$w(h.F.sa);if(a){for(a=a.Yd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.F.$w=function(a){for(;a&&a.Yd;){if("string"==typeof a.Yd||"function"==typeof a.Yd)return a;a=a.Yd}return null};
h.F.Pa=function(){h.F.eb||(h.F.eb=document.createElement("div"),h.F.eb.className="blocklyTooltipDiv",(h.uo||document.body).appendChild(h.F.eb))};h.F.Wi=function(a){a.SD=h.jc(a,"mouseover",null,h.F.jE);a.QD=h.jc(a,"mouseout",null,h.F.iE);a.addEventListener("mousemove",h.F.Ux,!1)};h.F.ht=function(a){a&&(h.ob(a.SD),h.ob(a.QD),a.removeEventListener("mousemove",h.F.Ux))};h.F.jE=function(a){h.F.Xi||(a=h.F.$w(a.currentTarget),h.F.sa!=a&&(h.F.Ja(),h.F.Bl=null,h.F.sa=a),clearTimeout(h.F.Jx))};
h.F.iE=function(){h.F.Xi||(h.F.Jx=setTimeout(function(){h.F.sa=null;h.F.Bl=null;h.F.Ja()},1),clearTimeout(h.F.Tl))};h.F.Ux=function(a){if(h.F.sa&&h.F.sa.Yd&&!h.F.Xi)if(h.F.visible){var c=h.F.Ir-a.pageX;a=h.F.Jr-a.pageY;Math.sqrt(c*c+a*a)>h.F.ZA&&h.F.Ja()}else h.F.Bl!=h.F.sa&&(clearTimeout(h.F.Tl),h.F.Ir=a.pageX,h.F.Jr=a.pageY,h.F.Tl=setTimeout(h.F.aF,h.F.oA))};h.F.H=function(){h.F.sa=null;h.F.Bl=null;h.F.Ja()};
h.F.Ja=function(){h.F.visible&&(h.F.visible=!1,h.F.eb&&(h.F.eb.style.display="none"));h.F.Tl&&clearTimeout(h.F.Tl)};h.F.block=function(){h.F.Ja();h.F.Xi=!0};h.F.uF=function(){h.F.Xi=!1};
h.F.aF=function(){if(!h.F.Xi&&(h.F.Bl=h.F.sa,h.F.eb)){h.F.eb.textContent="";var a=h.F.cD();a=h.g.Qa.Ty(a,h.F.CA);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.F.eb.appendChild(d)}a=h.F.sa.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.F.eb.style.direction=a?"rtl":"ltr";h.F.eb.style.display="block";h.F.visible=!0;var e=h.F.Ir;e=a?e-(h.F.Gu+h.F.eb.offsetWidth):e+h.F.Gu;var f=h.F.Jr+h.F.Hu;
f+h.F.eb.offsetHeight>d+window.scrollY&&(f-=h.F.eb.offsetHeight+2*h.F.Hu);a?e=Math.max(h.F.wp-window.scrollX,e):e+h.F.eb.offsetWidth>c+window.scrollX-2*h.F.wp&&(e=c-h.F.eb.offsetWidth-2*h.F.wp);h.F.eb.style.top=f+"px";h.F.eb.style.left=e+"px"}};h.lh=function(a,c){this.Ix=null;this.Hc=new h.g.S(0,0);this.Hb=this.Rb=this.Nj=this.Oj=this.vd=null;this.xq=c;this.kl=this.Nh=this.ll=this.Hh=!1;this.Qd=a;this.ka=this.wi=this.Re=this.tg=this.so=this.qo=null;this.Qn=this.Ih=this.Pv=!1;this.kx=!h.Nz};b=h.lh.prototype;b.H=function(){h.Touch.jn();h.F.uF();this.xq.wc=null;this.qo&&h.ob(this.qo);this.so&&h.ob(this.so);this.Re&&this.Re.H();this.wi&&this.wi.H();this.tg&&this.tg.H()};
function qb(a,c){a.Hc=h.g.S.Rk(new h.g.S(c.clientX,c.clientY),a.Ix);if(a.Hh)var d=!1;else a.Hh=h.g.S.MD(a.Hc)>(a.ka?h.gA:h.Mz),d=a.Hh;if(d){if(a.Pv)throw Error("updateIsDragging_ should only be called once per gesture.");a.Pv=!0;if(a.vd){a.kl=!0;a.tg=new h.rm(a.vd,a.Hb);d=a.tg;h.h.Vb()||h.h.qa(!0);d.o.dc(!1);d.Ub.bq=!1;d.Bh&&(d.Ub.moveTo(0,0),d.Bh.oi(d.mf.x,d.mf.y),rb(d.Bh,d.Ub.na()));d.Ub.Yg&&d.Ub.Yg(!0);var e=d.o.ua;e&&"function"==typeof e.Wp&&e.Wp(d.Ub.qd()?"blocklyToolboxDelete":"blocklyToolboxGrab");
lb(a.tg,a.Qd,a.Hc);d=!0}else d=!1;if(!d){if(a.Rb)if(a.ka?(a.Rb&&a.Rb.isEnabled()?((d=!sb(a.ka))||(d=a.Hc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.ka.xC,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Hb=a.ka.Ra,tb(a.Hb),h.h.Vb()||h.h.qa(!0),a.Nj=null,a.Rb=ob(a.ka,a.Rb),a.Rb.select(),d=!0):d=!1):d=!1,a.Nh=d):a.Rb.Oc()&&(a.Nh=!0),a.Nh){a.Re=new h.gh(a.Rb,a.Hb);d=a.Re;e=a.Hc;var f=a.kx;h.h.Vb()||h.h.qa(!0);var g=new h.h.Yb(d.kb,"dragStart",null,q(d.kb,!1));h.h.Ia(g);d.o.Tn&&Aa(d.kb);h.g.j.Vl();d.o.dc(!1);h.fb.Iq();
if(d.kb.getParent()||f&&d.kb.W&&d.kb.W.ra())w(d.kb,f),e=d.Ej(e),e=h.g.S.sum(d.mf,e),d.kb.translate(e.x,e.y),h.fb.sC(d.kb),e=d.af,e.an=na(e);d.kb.Yg(!0);e=d.kb;e.im&&(f=e.Wa(),e.na().removeAttribute("transform"),e.A.kd.oi(f.x,f.y),(f=e.na())&&rb(e.A.kd,f));(e=d.o.ua)&&"function"==typeof e.Wp&&e.Wp(d.kb.qd()?"blocklyToolboxDelete":"blocklyToolboxGrab");va(a.Re,a.Qd,a.Hc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.ka)d=sb(a.ka);else if(d=a.Hb)d=a.Hb,d=d.options.cc&&d.options.cc.xg;d&&(a.wi=a.ka?new h.Dm(a.ka):
new h.yk(a.Hb),a.ll=!0,a.wi.Ys())}h.Ng()}a.Qd=c}
b.Kq=function(a){h.g.Un(a)?this.cancel():(this.Ih=!0,h.fb.Iq(),tb(this.Hb),this.Hb.Tn&&this.Hb.resize(),h.ac(!!this.ka),Ma(this.Hb),this.Qd=a,h.F.block(),this.Rb&&(!this.Rb.Nc&&a.shiftKey&&this.Rb.A.Pc?I(this.xq.ub(),h.v.wq(this.Rb)):this.Rb.select()),h.g.ql(a)?Ca(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.LD(a,this),this.Ix=new h.g.S(a.clientX,a.clientY),this.kx=a.altKey||a.ctrlKey||a.metaKey,this.Wi(a)))};
b.Wi=function(a){this.qo=h.za(document,"mousemove",null,this.oj.bind(this));this.so=h.za(document,"mouseup",null,this.Jn.bind(this));a.preventDefault();a.stopPropagation()};b.oj=function(a){qb(this,a);this.ll?this.wi.xg(this.Hc):this.Nh?va(this.Re,this.Qd,this.Hc):this.kl&&lb(this.tg,this.Qd,this.Hc);a.preventDefault();a.stopPropagation()};
b.Jn=function(a){qb(this,a);h.Ng();if(this.Qn)console.log("Trying to end a gesture recursively.");else{this.Qn=!0;if(this.kl)mb(this.tg,a,this.Hc);else if(this.Nh)ya(this.Re,a,this.Hc);else if(this.ll){var c=this.wi;c.xg(this.Hc);Pa(c.o)}else if(this.vd&&!this.Hh)this.vd.VE&&this.vd.VE(),this.vd.select&&this.vd.select();else if(ub(this)){c=this.Oj;var d=this.Qd;ja(c)&&c.Sl(d);vb(this)}else!this.Nj||this.Hh||ub(this)?this.Nj||this.vd||this.Oj||this.Hh||(c=this.xq,a.shiftKey&&c.Pc?(d=h.g.QE(c,new h.g.S(a.clientX,
a.clientY)),d=h.v.cj(c,d),I(c.ub(),d)):h.selected&&nb(h.selected),c=this.Hb||c,d=new h.h.Yb(null,"click",null,"workspace"),d.xb=c.id,h.h.Ia(d)):(this.ka&&this.ka.Vi?this.Rb.isEnabled()&&(h.h.Vb()||h.h.qa(!0),Ba(ob(this.ka,this.Rb))):h.h.Ia(new h.h.Yb(this.Nj,"click",void 0,"block")),vb(this),h.h.qa(!1));a.preventDefault();a.stopPropagation();this.H()}};
b.cancel=function(){if(!this.Qn){h.Ng();if(this.kl)mb(this.tg,this.Qd,this.Hc);else if(this.Nh)ya(this.Re,this.Qd,this.Hc);else if(this.ll){var a=this.wi;a.xg(this.Hc);Pa(a.o)}this.H()}};function Ca(a,c){a.Rb?(vb(a),h.ac(!!a.ka),a.Rb.Ql(c)):a.vd?a.vd.Ql(c):a.Hb&&!a.ka&&(h.ac(),a.Hb.Ql(c));c.preventDefault();c.stopPropagation();a.H()}
function wb(a,c,d){if(a.Ih)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Hb||(a.Hb=d);a.Qd=c;a.Kq(c);a.Hb.Pc&&h.navigation.Lj(h.navigation.Rm)}function xb(a,c,d){if(a.Ih)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ka||(a.ka=d);wb(a,c,d.o)}function vb(a){a.Rb&&!a.ka&&Aa(a.Rb)}function yb(a,c){a.Nj||a.vd||(a.Nj=c,c.Nc&&c!=c.Lc()?zb(a,c.Lc()):zb(a,c))}
function zb(a,c){c.Ka?zb(a,c.getParent()):a.Rb=c}function ub(a){return(a.Oj?ja(a.Oj):!1)&&!a.Hh&&(!a.ka||!a.ka.Vi)}b.rd=function(){return this.ll||this.Nh||this.kl};b.kj=function(){return this.Re?this.Re.kj():[]};h.lh.Ln=function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)if(d.wc)return!0;return!1};h.g.un={};h.g.un.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.wd=function(a,c,d){this.pf=this.ep;this.Gy=this.Ny=null;this.yc=new h.g.ke(0,0);this.s=this.Zr=this.ni=this.zc=this.Nb=this.$c=this.Xf=this.Kf=null;d&&this.Ek(d);this.setValue(a);c&&(this.Ny=c)};b=h.wd.prototype;b.ep=null;b.name=void 0;b.Lf=!1;b.Gx=50;b.L=null;b.Gg=!0;b.dh=!0;b.Tv=null;h.wd.Eu="\u00a0";b=h.wd.prototype;b.Yj=!0;b.dv=!1;b.Ek=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.fd(a.tooltip));c&&this.De(c)};
b.Z=function(){!this.s&&this.L&&this.L.A&&this.L.A.pa&&(this.s=this.L.A.mb.Z());return this.s};b.T=function(){return this.L};b.Ea=function(){this.$c||(this.$c=h.g.j.K(h.g.D.Vc,{},null),this.isVisible()||(this.$c.style.display="none"),this.L.na().appendChild(this.$c),this.Mn(),Ab(this),this.De(this.Gy),h.F.Wi(Bb(this)),this.Zr=h.za(Bb(this),"mousedown",this,this.Rg))};b.Mn=function(){Cb(this);Db(this)};
function Cb(a){a.Nb=h.g.j.K(h.g.D.Cd,{rx:a.Z().Am,ry:a.Z().Am,x:0,y:0,height:a.yc.height,width:a.yc.width,"class":"blocklyFieldRect"},a.$c)}function Db(a){a.zc=h.g.j.K(h.g.D.mB,{"class":"blocklyText"},a.$c);a.Z().jp&&a.zc.setAttribute("dominant-baseline","central");a.ni=document.createTextNode("");a.zc.appendChild(a.ni)}b.H=function(){h.C.hl(this);h.X.hl(this);h.F.ht(Bb(this));this.Zr&&h.ob(this.Zr);h.g.j.removeNode(this.$c);this.Lf=!0};
function Ab(a){var c=a.$c;a.Yj&&c&&(a.L.Nd()?(h.g.j.Lb(c,"blocklyEditableText"),h.g.j.ed(c,"blocklyNonEditableText"),c.style.cursor=a.Cz):(h.g.j.Lb(c,"blocklyNonEditableText"),h.g.j.ed(c,"blocklyEditableText"),c.style.cursor=""))}function ja(a){return!!a.L&&a.L.Nd()&&!!a.Sl&&"function"===typeof a.Sl}b.isVisible=function(){return this.dh};b.Wb=function(a){if(this.dh!=a){this.dh=a;var c=this.na();c&&(c.style.display=a?"block":"none")}};b.na=function(){return this.$c};b.ic=function(){};
b.Il=function(){this.ni&&(this.ni.nodeValue=Eb(this));this.Ly()};b.Ly=function(){var a=this.Z(),c=this.Nb?this.Z().Zj:0,d=2*c,e=a.Bm,f=0;this.zc&&(f=h.g.j.hr(this.zc,a.kh,a.mg,a.lg),d+=f);this.Nb&&(e=Math.max(e,a.Yt));this.yc.height=e;this.yc.width=d;Fb(this,c,f);Gb(this)};function Fb(a,c,d){if(a.zc){var e=a.Z(),f=a.yc.height/2;a.zc.setAttribute("x",a.L.J?a.yc.width-d-c:c);a.zc.setAttribute("y",e.jp?f:f-e.Bm/2+e.au)}}
function Gb(a){a.Nb&&(a.Nb.setAttribute("width",a.yc.width),a.Nb.setAttribute("height",a.yc.height),a.Nb.setAttribute("rx",a.Z().Am),a.Nb.setAttribute("ry",a.Z().Am))}b.Rf=function(){if(!this.isVisible())return new h.g.ke(0,0);this.Gg?(this.Il(),this.Gg=!1):this.dh&&0==this.yc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Il());return this.yc};
function Eb(a){var c=Hb(a);if(!c)return h.wd.Eu;c.length>a.Gx&&(c=c.substring(0,a.Gx-2)+"\u2026");c=c.replace(/\s/g,h.wd.Eu);a.L&&a.L.J&&(c+="\u200f");return c}function Hb(a){if(a.qr){var c=a.qr.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.vl=function(){this.Gg=!0;this.s=null};function Ib(a){a.Gg=!0;a.L&&a.L.pa&&(a.L.Ga(),a.L.Yc(),a.kt())}
b.setValue=function(a){if(null!==a){var c=this.yn(a);a=Jb(this,a,c);if(!(a instanceof Error)){if(c=this.Ny)if(c=c.call(this,a),a=Jb(this,a,c),a instanceof Error)return;c=this.L;if(!c||!c.Lf){var d=this.getValue();d!==a&&(c&&h.h.isEnabled()&&h.h.Ia(new h.h.yi(c,"field",this.name||null,d,a)),this.zn(a),this.Gg&&Ib(this))}}}};function Jb(a,c,d){if(null===d)return a.Gg&&Ib(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.pf};
b.yn=function(a){if(null===a||void 0===a)return null;h.g.un.warn("Field.prototype.classValidator","May 2019","December 2020","Blockly.Field.prototype.doClassValidation_");return a};b.zn=function(a){this.pf=a;this.Gg=!0};b.Rg=function(a){if(this.L&&this.L.A&&(a=this.L.A.yg(a))){if(a.Ih)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Oj||(a.Oj=this)}};b.De=function(a){a||""===a||(a=this.L);var c=Bb(this);c?c.Yd=a:this.Gy=a};
function Bb(a){return a.Tv||a.na()}b.bf=function(){for(var a=null,c=this.L,d=c.R,e=0;e<c.R.length;e++)for(var f=d[e],g=f.gb,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Pw=function(){return!1};b.bd=function(){return!1};b.$f=function(a){a?(this.$c.appendChild(a),this.Kf=a):this.Kf=null};b.ag=function(a){a?(this.$c.appendChild(a),this.Xf=a):this.Xf=null};b.kt=function(){var a=this.L.A;a.Pc&&this.Kf&&a.ub().draw();a.Pc&&this.Xf&&a.Kc(h.navigation.gk).draw()};h.Ch={};h.Ch.register=function(a,c){h.G.register(h.G.ba.Tb,a,c)};h.Ch.unregister=function(a){h.G.unregister(h.G.ba.Tb,a)};h.Ch.va=function(a){var c=h.G.mr(h.G.ba.Tb,a.type);return c?c.va(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.Ab={};h.g.Ab.jz="aria-";h.g.Ab.aB="role";h.g.Ab.Nm={uG:"grid",vG:"gridcell",wG:"group",DA:"listbox",JA:"menu",KA:"menuitem",OG:"menuitemcheckbox",RA:"option",TH:"presentation",Kp:"row",kI:"tree",lI:"treeitem"};h.g.Ab.State={fz:"activedescendant",LF:"colcount",Kz:"disabled",YF:"expanded",AG:"invalid",BA:"label",EG:"labelledby",HG:"level",MH:"orientation",SH:"posinset",ZH:"rowcount",bB:"selected",bI:"setsize",pI:"valuemax",qI:"valuemin"};h.g.Ab.Zg=function(a,c){a.setAttribute(h.g.Ab.aB,c)};
h.g.Ab.Lj=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Ab.jz+c,d)};h.yp=function(){this.ye=[];this.ei=this.sa=this.po=this.io=this.ho=this.If=this.jo=this.Eg=this.rs=null};b=h.yp.prototype;b.Vp=function(a){this.ye.push(a)};
b.Ga=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.ei&&h.g.Ab.Zg(c,this.ei);this.sa=c;for(var d=0,e;e=this.ye[d];d++)c.appendChild(e.Pa());this.jo=h.za(c,"mouseover",this,this.mD,!0);this.If=h.za(c,"click",this,this.gD,!0);this.ho=h.za(c,"mouseenter",this,this.kD,!0);this.io=h.za(c,"mouseleave",this,this.lD,!0);this.po=h.za(c,"keydown",this,this.iD);a.appendChild(c)};
b.focus=function(){var a=this.sa;a&&(a.focus({preventScroll:!0}),h.g.j.Lb(a,"blocklyFocused"))};b.Zg=function(a){this.ei=a};b.H=function(){this.jo&&(h.ob(this.jo),this.jo=null);this.If&&(h.ob(this.If),this.If=null);this.ho&&(h.ob(this.ho),this.ho=null);this.io&&(h.ob(this.io),this.io=null);this.po&&(h.ob(this.po),this.po=null);for(var a=0,c;c=this.ye[a];a++)c.H();this.sa=null};
function Kb(a,c){for(var d=a.sa;c&&c!=d;){if(h.g.j.wr(c,"blocklyMenuItem"))for(var e=0,f;f=a.ye[e];e++)if(f.sa==c)return f;c=c.parentElement}return null}b.Ce=function(a){var c=this.Eg;c&&(c.Ce(!1),this.Eg=null);a&&(a.Ce(!0),this.Eg=a,c=this.sa,h.g.style.RE(a.sa,c),h.g.Ab.Lj(c,h.g.Ab.State.fz,a.Ob()))};function Lb(a){var c=a.ye.indexOf(a.Eg);Mb(a,0>c?a.ye.length:c,-1)}function Mb(a,c,d){c+=d;for(var e;e=a.ye[c];){if(e.isEnabled()){a.Ce(e);break}c+=d}}
b.mD=function(a){(a=Kb(this,a.target))&&(a.isEnabled()?this.Eg!=a&&this.Ce(a):this.Ce(null))};b.gD=function(a){var c=this.rs;this.rs=null;c&&"number"==typeof a.clientX&&1>h.g.S.Jq(c,new h.g.S(a.clientX,a.clientY))||(a=Kb(this,a.target))&&a.isEnabled()&&a.zk&&a.zk(a)};b.kD=function(){this.focus()};b.lD=function(){if(this.sa){var a=this.sa;a&&(a.blur(),h.g.j.ed(a,"blocklyFocused"));this.Ce(null)}};
b.iD=function(a){if(this.ye.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Eg;switch(a.keyCode){case h.g.Va.Vt:case h.g.Va.eB:c&&c.isEnabled()&&c.zk&&c.zk(c);break;case h.g.Va.qB:Lb(this);break;case h.g.Va.Lz:Mb(this,this.ye.indexOf(this.Eg),1);break;case h.g.Va.WA:case h.g.Va.nA:Mb(this,-1,1);break;case h.g.Va.VA:case h.g.Va.Tz:Mb(this,this.ye.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Rf=function(){var a=this.sa,c=h.g.style.Rf(a);c.height=a.scrollHeight;return c};h.zp=function(a,c){this.Jf=a;this.pf=c;this.Cn=!0;this.sa=null;this.Co=!1;this.ei=null;this.nx=this.nq=this.mq=!1;this.zk=null};b=h.zp.prototype;
b.Pa=function(){var a=document.createElement("div");a.id=h.g.Di.lr();this.sa=a;a.className="blocklyMenuItem goog-menuitem "+(this.Cn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.nq?"blocklyMenuItemSelected goog-option-selected ":"")+(this.nx?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Co?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.mq){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Jf;"string"==typeof this.Jf&&(d=document.createTextNode(this.Jf));c.appendChild(d);a.appendChild(c);this.ei&&h.g.Ab.Zg(a,this.ei);h.g.Ab.Lj(a,h.g.Ab.State.bB,this.mq&&this.nq||!1);h.g.Ab.Lj(a,h.g.Ab.State.Kz,!this.Cn);return a};b.H=function(){this.sa=null};b.Ob=function(){return this.sa.id};b.getValue=function(){return this.pf};b.Zg=function(a){this.ei=a};
b.Ce=function(a){this.nx=a;var c=this.sa;c&&this.isEnabled()&&(a?(h.g.j.Lb(c,"blocklyMenuItemHighlight"),h.g.j.Lb(c,"goog-menuitem-highlight")):(h.g.j.ed(c,"blocklyMenuItemHighlight"),h.g.j.ed(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Cn};b.kf=function(a){this.Cn=a};function Nb(a,c,d){a.zk=c.bind(d)};h.Ya=function(a,c,d){"function"!=typeof a&&h.Ya.My(a);this.Cj=a;this.$s=this.Cs=this.Fn=null;a=this.Cj;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.fd(g):(null!=g.alt&&(a[f][0].alt=h.g.fd(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Qa.Vs(e);g=h.g.Qa.Vv(e,f);var k=h.g.Qa.Wv(e,f);!g&&!k||f<=g+k||(g&&(this.Cs=e[0].substring(0,g-1)),k&&(this.$s=e[0].substr(1-k)),this.Cj=h.Ya.GB(a,g,k))}}this.Gj=this.getOptions(!1)[0];
h.Ya.B.constructor.call(this,this.Gj[1],c,d);this.Pj=this.Ed=this.Mc=this.bc=this.Kl=null};h.g.object.Y(h.Ya,h.wd);h.Ya.va=function(a){return new h.Ya(a.options,void 0,a)};h.Ya.prototype.dv=!0;h.Ya.IF=25;h.Ya.NG=.45;h.Ya.sA=5;h.Ya.tA=2*h.Ya.sA;h.Ya.mm=h.g.userAgent.lm?"\u25bc":"\u25be";b=h.Ya.prototype;b.Cz="default";
b.Mn=function(){!this.Z().$t||this.Z().$t&&!this.L.Ka?Cb(this):this.Tv=this.L.na();Db(this);this.Mc=h.g.j.K(h.g.D.ck,{},this.$c);this.Z().cA?(this.Pj=h.g.j.K(h.g.D.ck,{height:this.Z().$j+"px",width:this.Z().$j+"px"},this.$c),this.Pj.setAttributeNS(h.g.j.jd,"xlink:href",this.Z().dA)):(this.Ed=h.g.j.K(h.g.D.pB,{},this.zc),this.Ed.appendChild(document.createTextNode(this.L.J?h.Ya.mm+" ":" "+h.Ya.mm)),this.L.J?this.zc.insertBefore(this.Ed,this.ni):this.zc.appendChild(this.Ed));this.Nb&&h.g.j.Lb(this.Nb,
"blocklyDropdownRect")};
b.Sl=function(a){var c=new h.yp;c.Zg(h.g.Ab.Nm.DA);var d=this.getOptions(!1);this.Kl=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.zp(f,g);f.Zg(h.g.Ab.Nm.RA);f.Co=this.L.J;f.mq=!0;c.Vp(f);f.nq=g==this.pf;g==this.pf&&(this.Kl=f);Nb(f,this.jD,this)}this.bc=c;this.bc.rs=a&&"number"===typeof a.clientX?new h.g.S(a.clientX,a.clientY):null;this.bc.Ga(h.C.VC());h.g.j.Lb(this.bc.sa,"blocklyDropdownMenu");
this.Z().bA&&(a=this.L.Ka?this.L.getParent().er():this.L.er(),c=this.L.Ka?this.L.getParent().style.Zi:this.L.style.Zi,h.C.Be(a,c));h.C.$E(this,this.zC.bind(this));this.bc.focus();this.Kl&&this.bc.Ce(this.Kl);this.ic()};b.zC=function(){this.bc&&this.bc.H();this.Kl=this.bc=null;this.ic()};b.jD=function(a){h.C.hl(this,!0);this.setValue(a.getValue())};h.Ya.GB=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=h.Ya.prototype;
b.getOptions=function(a){return"function"==typeof this.Cj?(this.Fn&&a||(this.Fn=this.Cj.call(this),h.Ya.My(this.Fn)),this.Fn):this.Cj};b.yn=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.L&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.L.type+", Field name: "+this.name+", Value: "+a),null)};
b.zn=function(a){h.Ya.B.zn.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.pf&&(this.Gj=d)};b.ic=function(){this.Nb&&(this.Nb.setAttribute("stroke",this.L.style.Zi),this.bc?this.Nb.setAttribute("fill",this.L.style.Zi):this.Nb.setAttribute("fill","transparent"));this.L&&this.Ed&&(this.Ed.style.fill=this.L.Ka?this.L.style.mn:this.L.style.uh)};
b.Il=function(){this.ni.nodeValue="";this.Mc.style.display="none";var a=this.Gj&&this.Gj[0];if(a&&"object"==typeof a){this.Mc.style.display="";this.Mc.setAttributeNS(h.g.j.jd,"xlink:href",a.src);this.Mc.setAttribute("height",a.height);this.Mc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Nb,e=Math.max(d?this.Z().Zt:0,c+h.Ya.tA);d=d?this.Z().Zj:0;var f=this.Pj?Ob(this,a+d,e/2-this.Z().$j/2):h.g.j.hr(this.Ed,this.Z().kh,this.Z().mg,this.Z().lg);this.yc.width=a+
f+2*d;this.yc.height=e;var g=0;this.L.J?this.Mc.setAttribute("x",d+f):(g=a+f,this.zc.setAttribute("text-anchor","end"),this.Mc.setAttribute("x",d));this.Mc.setAttribute("y",e/2-c/2);Fb(this,g+d,a+f)}else this.ni.nodeValue=Eb(this),h.g.j.Lb(this.zc,"blocklyDropdownText"),this.zc.setAttribute("text-anchor","start"),e=!!this.Nb,c=Math.max(e?this.Z().Zt:0,this.Z().Bm),a=h.g.j.hr(this.zc,this.Z().kh,this.Z().mg,this.Z().lg),e=e?this.Z().Zj:0,d=0,this.Pj&&(d=Ob(this,a+e,c/2-this.Z().$j/2)),this.yc.width=
a+d+2*e,this.yc.height=c,Fb(this,e,a);Gb(this)};function Ob(a,c,d){if(!a.Pj)return 0;var e=a.Nb?a.Z().Zj:0,f=a.Z().eA,g=a.Z().$j;a.Pj.setAttribute("transform","translate("+(a.L.J?e:c+f)+","+d+")");return g+f}b.qr=function(){if(!this.Gj)return null;var a=this.Gj[0];return"object"==typeof a?a.alt:a};
h.Ya.My=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Ya.prototype.bd=function(a){if(this.bc){if(a===h.navigation.Qo)return Lb(this.bc),!0;if(a===h.navigation.Po)return a=this.bc,Mb(a,a.ye.indexOf(a.Eg),1),!0}return h.Ya.B.bd.call(this,a)};h.Ch.register("field_dropdown",h.Ya);h.hc=function(a){this.o=a;this.wh=[];this.Of=null;if(!(0>=this.o.options.co)){a=new h.hd({scrollbars:!0,parentWorkspace:this.o,rtl:this.o.J,oneBasedIndex:this.o.options.to,renderer:this.o.options.Js,rendererOverrides:this.o.options.Ks});if(this.o.Md){a.hb=this.o.hb==h.g.ta.Me.Rp?h.g.ta.Me.Ft:h.g.ta.Me.Rp;if(!h.mp)throw Error("Missing require for Blockly.HorizontalFlyout");this.Of=new h.mp(a)}else{a.hb=this.o.hb==h.g.ta.Me.Mm?h.g.ta.Me.tp:h.g.ta.Me.Mm;if(!h.Df)throw Error("Missing require for Blockly.VerticalFlyout");
this.Of=new h.Df(a)}G(this.o,this.dE.bind(this))}};b=h.hc.prototype;b.wk=47;b.om=44;b.Gi=16;b.GA=20;b.uu=20;b.Gm=10;b.Np=0;b.Op=32;b.lA=.1;h.hc.iz=80;h.hc.yt=4;h.hc.Iu=.4;h.hc.QA=.8;h.hc.vu=45;b=h.hc.prototype;b.Rn=!1;b.Yr=0;b.P=null;b.Go=null;b.Kr=0;b.Mg=0;b.Bx=0;b.Hy=0;
b.Pa=function(){this.P=h.g.j.K(h.g.D.Vc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.K(h.g.D.Ht,{id:"blocklyTrashBodyClipPath"+a},this.P);h.g.j.K(h.g.D.Cd,{width:this.wk,height:this.om,y:this.Gi},c);var d=h.g.j.K(h.g.D.ck,{width:h.Li.width,x:-this.Np,height:h.Li.height,y:-this.Op,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.P);d.setAttributeNS(h.g.j.jd,"xlink:href",this.o.options.xo+h.Li.url);c=h.g.j.K(h.g.D.Ht,{id:"blocklyTrashLidClipPath"+a},this.P);
h.g.j.K(h.g.D.Cd,{width:this.wk,height:this.Gi},c);this.Go=h.g.j.K(h.g.D.ck,{width:h.Li.width,x:-this.Np,height:h.Li.height,y:-this.Op,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.P);this.Go.setAttributeNS(h.g.j.jd,"xlink:href",this.o.options.xo+h.Li.url);h.za(this.P,"mouseup",this,this.click);h.jc(d,"mouseover",this,this.TD);h.jc(d,"mouseout",this,this.RD);this.Yp();return this.P};
b.Ea=function(a){0<this.o.options.co&&(h.g.j.tj(this.Of.Pa(h.g.D.Ni),x(this.o)),this.Of.Ea(this.o));this.Ko=this.GA+a;xa(this,!1);return this.Ko+this.om+this.Gi};b.H=function(){this.P&&(h.g.j.removeNode(this.P),this.P=null);this.o=this.Go=null;clearTimeout(this.Kr)};
b.position=function(){if(this.Ko){var a=this.o.Id();a&&(this.Bx=a.hb==h.le||this.o.Md&&!this.o.J?a.yb+a.tc-this.wk-this.uu-h.Ma.mc:this.uu+h.Ma.mc,this.Hy=a.hb==h.Vm?this.Ko:a.Jb+a.Ec-(this.om+this.Gi)-this.Ko,this.P.setAttribute("transform","translate("+this.Bx+","+this.Hy+")"))}};b.Zk=function(){if(!this.P)return null;var a=this.P.getBoundingClientRect(),c=a.top+this.Op-this.Gm;a=a.left+this.Np-this.Gm;return new h.g.Rect(c,c+this.Gi+this.om+2*this.Gm,a,a+this.wk+2*this.Gm)};
function xa(a,c){a.Rn!=c&&(clearTimeout(a.Kr),a.Rn=c,a.Yp())}b.Yp=function(){var a=1/(h.hc.yt+1);this.Mg+=this.Rn?a:-a;this.Mg=Math.min(Math.max(this.Mg,this.Yr),1);Pb(this,this.Mg*h.hc.vu);this.P.style.opacity=h.hc.Iu+this.Mg*(h.hc.QA-h.hc.Iu);this.Mg>this.Yr&&1>this.Mg&&(this.Kr=setTimeout(this.Yp.bind(this),h.hc.iz/h.hc.yt))};function Pb(a,c){var d=a.o.hb==h.rk||a.o.Md&&a.o.J;a.Go.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.wk-4)+","+(a.Gi-2)+")")}b.ln=function(){xa(this,!1)};
b.click=function(){if(this.wh.length&&!this.Of.isVisible()){for(var a=[],c=0,d;d=this.wh[c];c++)a[c]=h.O.dg(d);this.Of.show(a);Qb(this,!0)}};function Qb(a,c){c=new h.h.Yb(null,"trashcanOpen",null,c);c.xb=a.o.id;h.h.Ia(c)}b.TD=function(){this.wh.length&&xa(this,!0)};b.RD=function(){xa(this,!1)};
b.dE=function(a){if(!(0>=this.o.options.co)&&a.type==h.h.Ct&&a.no.tagName&&"shadow"!=a.no.tagName.toLowerCase()){for(var c=a=a.no.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.O.te(a);
if(-1==this.wh.indexOf(a)){for(this.wh.unshift(a);this.wh.length>this.o.options.co;)this.wh.pop();this.Yr=a=this.lA;this.Rn||Pb(this,a*h.hc.vu)}}};h.qc=Object.create(null);h.ca=function(a,c){this.L=a;this.type=c};h.ca.sm=0;h.ca.Xu=1;h.ca.$u=2;h.ca.Zu=3;h.ca.Uu=4;h.ca.Vu=5;h.ca.Yu=6;h.ca.Wu=7;b=h.ca.prototype;b.ma=null;b.Lf=!1;b.ug=null;b.Do=null;b.x=0;b.y=0;
b.re=function(a){var c=this,d=c.T(),e=a.T();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.ra(),g=c.mj();c.Do=null;if(f.Ka)g=h.O.Ff(f),f.H(!1),f=null;else if(c.type==h.jb){if(!f.M)throw Error("Orphan block does not have an output connection.");var k=h.ca.zx(e,f);k&&(f.M.connect(k),f=null)}else if(c.type==h.Sa){if(!f.U)throw Error("Orphan block does not have a previous connection.");for(k=e;k.W;){var l=u(k);if(l&&!l.Ka)k=l;else{z(f.A.Gk,f.U,k.W,!1)&&(k.W.connect(f.U),f=null);break}}}if(f&&
(c.disconnect(),h.h.Eb)){var m=h.h.Vb();setTimeout(function(){f.A&&!f.getParent()&&(h.h.qa(m),f.M?f.M.oo(c):f.U&&f.U.oo(c),h.h.qa(!1))},h.Xo)}c.Do=g}var n;h.h.isEnabled()&&(n=new h.h.Uj(e));h.ca.aC(c,a);e.Kj(d);n&&(n.bi(),h.h.Ia(n))};b.H=function(){if(this.isConnected()){this.Ol(null);var a=this.ra();a&&w(a)}this.Lf=!0};b.T=function(){return this.L};function C(a){return a.type==h.jb||a.type==h.Sa}b.isConnected=function(){return!!this.ma};
b.dn=function(a){h.g.un.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return qa(this).dn(this,a,!1)};function qa(a){return a.L.A.Gk}b.oo=function(){};b.connect=function(a){if(this.ma!=a&&z(qa(this),this,a,!1)){var c=h.h.Vb();c||h.h.qa(!0);C(this)?this.re(a):a.re(this);c||h.h.qa(!1)}};h.ca.aC=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ma=c;c.ma=a};
h.ca.bF=function(a,c){var d=null;c=c.M;for(var e=0;e<a.R.length;e++){var f=a.R[e].connection,g=qa(c);if(f&&f.type==h.jb&&z(g,c,f,!1)){if(d)return null;d=f}}return d};h.ca.zx=function(a,c){for(var d;d=h.ca.bF(a,c);)if(a=d.ra(),!a||a.Ka)return d;return null};b=h.ca.prototype;
b.disconnect=function(){var a=this.ma;if(!a)throw Error("Source connection not connected.");if(a.ma!=this)throw Error("Target connection not connected to source connection.");if(C(this)){var c=this.L;var d=a.T();a=this}else c=a.T(),d=this.L;var e=h.h.Vb();e||h.h.qa(!0);this.Gq(c,d);d.Ka||a.Jl();e||h.h.qa(!1)};b.Gq=function(a,c){var d;h.h.isEnabled()&&(d=new h.h.Uj(c));this.ma=this.ma.ma=null;c.Kj(null);d&&(d.bi(),h.h.Ia(d))};
b.Jl=function(){var a=this.T(),c=this.mj();if(a.A&&c)if(a=h.O.hj(c,a.A),a.M)this.connect(a.M);else if(a.U)this.connect(a.U);else throw Error("Child block does not have output or previous statement.");};b.ra=function(){return this.isConnected()?this.ma.T():null};b.Qx=function(){!this.isConnected()||this.ma&&z(qa(this),this,this.ma,!1)||w(C(this)?this.ra():this.L)};b.Hj=function(a){a?(Array.isArray(a)||(a=[a]),this.ug=a,this.Qx()):this.ug=null};
b.Ol=function(a){this.Do=a;a=this.ra();a?a.Ka&&(a.H(!1),this.Jl()):this.Jl()};b.mj=function(){return this.Do};b.Mx=function(){return[]};b.bf=function(){for(var a=null,c=this.L,d=c.R,e=0;e<c.R.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.L;if(a)if(a.M==this)var c="Output Connection of ";else if(a.U==this)c="Previous Connection of ";else if(a.W==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.R[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.xa={};h.xa.Tj={};h.xa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.xa.Tj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.xa.Tj[a]=c};h.xa.qJ=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.xa.register(a,function(){this.Yf(c)})};
h.xa.rJ=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.xa.Qv(f,c.Mf,"domToMutation");h.xa.Qv(f,c.Rd,"mutationToDom");var g=h.xa.Sv(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.xa.register(a,function(){if(g){if(!h.NA)throw Error(f+"Missing require for Blockly.Mutator");this.vy(new h.NA(e||[]))}this.Yf(c);d&&d.apply(this)})};h.xa.unregister=function(a){h.xa.Tj[a]?delete h.xa.Tj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.xa.apply=function(a,c,d){var e=h.xa.Tj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.xa.SB(a,c);else var f=h.xa.kr(c);e.apply(c);if(d)h.xa.PB('Error after applying mutator "'+a+'": ',c);else if(!h.xa.YD(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.xa.Qv=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.xa.SB=function(a,c){if(h.xa.kr(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.xa.Sv=function(a,c){var d=void 0!==a.tq,e=void 0!==a.zq;if(d&&e){if("function"!=typeof a.tq)throw Error(c+"compose must be a function.");if("function"!=typeof a.zq)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.xa.PB=function(a,c){if("function"!=typeof c.Mf)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Rd)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.xa.Sv(c,a)};h.xa.kr=function(a){var c=[];void 0!==a.Mf&&c.push(a.Mf);void 0!==a.Rd&&c.push(a.Rd);void 0!==a.tq&&c.push(a.tq);void 0!==a.zq&&c.push(a.zq);return c};h.xa.YD=function(a,c){c=h.xa.kr(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.xa.yI=function(a,c){var d=[];"object"==typeof document&&h.g.py(function(){for(var e in c)h.g.Rv(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.xa.QB(this,a,c),d.push(this.type));this.De(function(){var e=String($a(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.fd(f);return f}.bind(this))}};
h.xa.QB=function(a,c,d){var e=ba(a,c);if("function"!=typeof e.Cj){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.xa.zI=function(a,c){"object"==typeof document&&h.g.py(function(){h.g.Rv(a)});return function(){this.De(function(){var d=ba(this,c);return h.g.fd(a).replace("%1",d?Hb(d):"")}.bind(this))}};
h.xa.CC=function(){this.pF=this.Yd;this.De(function(){var a=this.getParent();return a&&ta(a)&&a.Yd||this.pF}.bind(this))};h.xa.register("parent_tooltip_when_inline",h.xa.CC);h.Uc=function(a,c,d){this.gn=null;h.Uc.B.constructor.call(this,a,null,d);d||(this.gn=c||null)};h.g.object.Y(h.Uc,h.wd);h.Uc.prototype.ep="";h.Uc.va=function(a){var c=h.g.fd(a.text);return new h.Uc(c,void 0,a)};h.Uc.prototype.Yj=!1;h.Uc.prototype.Ek=function(a){h.Uc.B.Ek.call(this,a);this.gn=a["class"]};h.Uc.prototype.Mn=function(){Db(this);this.gn&&h.g.j.Lb(this.zc,this.gn)};h.Uc.prototype.yn=function(a){return null===a||void 0===a?null:String(a)};h.Ch.register("field_label",h.Uc);h.qu=function(a,c,d,e){if(a!=h.vf&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.L=d;this.connection=e;this.gb=[]};b=h.qu.prototype;b.align=h.So;b.dh=!0;b.T=function(){return this.L};function J(a,c,d){Rb(a,a.gb.length,c,d);return a}
function Rb(a,c,d,e){if(0>c||c>a.gb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new h.Uc(d));if(d.L)throw Error("Field already bound to a block.");d.L=a.L;a.L.pa&&(d.Ea(),d.ic());d.name=e;d.Wb(a.isVisible());e=d;e.Cs&&(c=Rb(a,c,e.Cs));a.gb.splice(c,0,d);++c;e.$s&&(c=Rb(a,c,e.$s));a.L.pa&&(a.L=a.L,a.L.Ga(),a.L.Yc());return c}b.isVisible=function(){return this.dh};
b.Wb=function(a){if(this.dh!=a){this.dh=a;for(var c=0,d;d=this.gb[c];c++)d.Wb(a);if(this.connection){this.connection=this.connection;if(a)Sb(this.connection);else if(c=this.connection,Tb(c,!1),c.ma)for(c=q(c.ra(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.ve(!0),g=0;g<f.length;g++)Tb(f[g],!1);e=ua(e);for(g=0;g<e.length;g++)e[g].Wb(!1)}if(c=this.connection.ra())c.na().style.display=a?"block":"none"}}};b.vl=function(){for(var a=0,c;c=this.gb[a];a++)c.vl()};
b.Hj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Hj(a)};b.Ol=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ol(a)};b.mj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.mj()};b.Ea=function(){if(this.L.A.pa)for(var a=0;a<this.gb.length;a++)this.gb[a].Ea()};
b.H=function(){for(var a=0,c;c=this.gb[a];a++)c.H();this.connection&&this.connection.H();this.L=null};h.Sc=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Jc(d)?d:h.g.Pf();a.eq[this.id]=this;this.U=this.W=this.M=null;this.R=[];this.Sf=void 0;this.disabled=!1;this.Yd="";this.contextMenu=!0;this.hf=null;this.Hf=[];this.zw=this.Kx=this.mw=!0;this.sh=this.Ka=!1;this.qe={text:null,Xx:!1,size:new h.g.ke(160,80)};this.Wy=new h.g.S(0,0);this.A=a;this.Nc=a.Uf;this.J=a.J;this.yj=!1;
this.cf=void 0;this.pa=null;if(c){this.type=c;d=h.qc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Yf(this,d)}a.Ym(this);a.hg[this.type]||(a.hg[this.type]=[]);a.hg[this.type].push(this);(a=h.h.Vb())||h.h.qa(!0);c=h.h.Eb;try{"function"==typeof this.Ea&&(h.h.Eb=!1,this.Ea(),h.h.Eb=c),h.h.isEnabled()&&h.h.Ia(new h.h.qm(this))}finally{a||h.h.qa(!1),h.h.Eb=c}this.yD=this.Sf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");
this.zl&&gb(this.A,this.zl);if(this.onchange=a)this.zl=a.bind(this),G(this.A,this.zl)}};h.Sc.Wj="_TEMP_COLLAPSED_INPUT";h.Sc.$o="_TEMP_COLLAPSED_FIELD";b=h.Sc.prototype;b.data=null;b.Lf=!1;b.Fd="#000000";b.Xl=null;
b.H=function(a){if(this.A){this.zl&&gb(this.A,this.zl);w(this,a);h.h.isEnabled()&&h.h.Ia(new h.h.sz(this));h.h.disable();try{if(this.A){this.A.Ao(this);var c=this.A;c.hg[this.type].splice(c.hg[this.type].indexOf(this),1);c.hg[this.type].length||delete c.hg[this.type];delete this.A.eq[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.Hf.length-1;0<=d;d--)this.Hf[d].H(!1);d=0;for(var e;e=this.R[d];d++)e.H();this.R.length=0;var f=this.ve(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Lf=!0}}};function w(a,c){if(a.M){var d=null;a.M.isConnected()&&(d=a.M.ma,a.M.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.R.length;e++){var f=a.R[e].connection;if(f&&f.type==h.jb&&f.ma){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.ra().Ka&&(c=c.ma,c.disconnect(),z(a.A.Gk,c,d,!1)?d.connect(c):c.oo(d))}}else a.U&&(d=null,a.U.isConnected()&&(d=a.U.ma,a.U.disconnect()),e=u(a),c&&e&&!e.Ka&&(c=a.W.ma,c.disconnect(),d&&z(a.A.Gk,d,c,!1)&&d.connect(c)))}
b.ve=function(){var a=[];this.M&&a.push(this.M);this.U&&a.push(this.U);this.W&&a.push(this.W);for(var c=0,d;d=this.R[c];c++)d.connection&&a.push(d.connection);return a};b.Xn=function(){for(var a=this.W;a;){var c=a.ra();if(!c)return a;a=c.W}return null};b.Yc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.hf};
function da(a,c){for(var d=0,e;e=a.R[d];d++)if(e.connection&&e.connection.ra()==c)return e;return null}function Ub(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.W&&a.W.ra()}b.Lc=function(){var a=this;do{var c=a;a=c.hf}while(a);return c};function E(a,c){if(!c)return a.Hf;c=[];for(var d=0,e;e=a.R[d];d++)e.connection&&(e=e.connection.ra())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.Kj=function(a){if(a!=this.hf){if(this.hf){h.g.Ak(this.hf.Hf,this);if(this.U&&this.U.isConnected())throw Error("Still connected to previous block.");if(this.M&&this.M.isConnected())throw Error("Still connected to parent block.");this.hf=null}else this.A.Ao(this);(this.hf=a)?a.Hf.push(this):this.A.Ym(this)}};function q(a,c){var d=[a];a=E(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,q(e,c));return d}b.qd=function(){return this.mw&&!this.Ka&&!(this.A&&this.A.options.readOnly)};
b.Oc=function(){return this.Kx&&!this.Ka&&!(this.A&&this.A.options.readOnly)};b.Qs=function(a){this.Kx=a};b.Ts=function(a){this.Ka=a};b.xe=function(){return this.yj};b.uy=function(a){this.yj=a};b.Nd=function(){return this.zw&&!(this.A&&this.A.options.readOnly)};b.Ps=function(a){this.zw=a;a=0;for(var c;c=this.R[a];a++)for(var d=0,e;e=c.gb[d];d++)Ab(e)};
b.ir=function(a,c){var d=this.ve(!0);a=a.ve(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.De=function(a){this.Yd=a};b.er=function(){return this.Fd};b.Be=function(a){this.Fd=h.g.vo(a).fl};b.li=function(a){this.Xl=a};function ba(a,c){for(var d=0,e;e=a.R[d];d++)for(var f=0,g;g=e.gb[f];f++)if(g.name==c)return g;return null}function Ya(a){for(var c=0,d;d=a.R[c];c++)for(var e=0;d.gb[e];e++);return[]}
function $a(a,c){return(a=ba(a,c))?a.getValue():null}b.ki=function(a,c){if(a){void 0===c&&(c=null);if(!this.U){if(this.M)throw Error("Remove output connection prior to adding previous connection.");this.U=this.ul(h.ie)}this.U.Hj(c)}else if(this.U){if(this.U.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.U.H();this.U=null}};
b.Jj=function(a,c){if(a)void 0===c&&(c=null),this.W||(this.W=this.ul(h.Sa)),this.W.Hj(c);else if(this.W){if(this.W.isConnected())throw Error("Must disconnect next statement before removing connection.");this.W.H();this.W=null}};
b.Rs=function(a,c){if(a){void 0===c&&(c=null);if(!this.M){if(this.U)throw Error("Remove previous connection prior to adding output connection.");this.M=this.ul(h.ge)}this.M.Hj(c)}else if(this.M){if(this.M.isConnected())throw Error("Must disconnect output value before removing connection.");this.M.H();this.M=null}};b.ji=function(a){this.Sf!=a&&(h.h.Ia(new h.h.yi(this,"inline",null,this.Sf,a)),this.Sf=a)};
function ta(a){if(void 0!=a.Sf)return a.Sf;for(var c=1;c<a.R.length;c++)if(a.R[c-1].type==h.vf&&a.R[c].type==h.vf)return!1;for(c=1;c<a.R.length;c++)if(a.R[c-1].type==h.jb&&a.R[c].type==h.vf)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.kf=function(a){this.isEnabled()!=a&&(h.h.Ia(new h.h.yi(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Vb(a){for(a=Ub(a);a;){if(a.disabled)return!0;a=Ub(a)}return!1}b.isCollapsed=function(){return this.sh};
b.gi=function(a){this.sh!=a&&(h.h.Ia(new h.h.yi(this,"collapsed",null,this.sh,a)),this.sh=a)};
b.toString=function(a,c){function d(n){var p=n.ug;!p&&n.ma&&(p=n.ma.ug);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function e(){k&&k.Xa()==l.Xa()&&k.oa==l.oa&&(k=null)}var f=[];c=c||"?";var g=h.v.qg;h.v.qg=!0;for(var k=h.v.Xe(this),l=k;k;){switch(k.Xa()){case h.v.types.xd:var m=k.oa;k.ef()?d(m)&&f.push("("):f.push(c);break;case h.v.types.Tb:m=k.oa,m.name!=h.Sc.$o&&f.push(Hb(m))}m=k;k=m.ef()||m.next();if(!k){k=m.ff();for(e();k&&!k.next();)k=k.ff(),e(),k&&k.Xa()==h.v.types.xd&&d(k.oa)&&
f.push(")");k&&(k=k.next())}}h.v.qg=g;c=2;for(g=f.length;c<g;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2),g-=2);f=f.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Wb(a,c){return a.Ef(h.vf,c||"")}
function Xb(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.cf&&(a.cf=c.style.cf,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.li(e)}catch(ha){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.Be(e)}catch(ha){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.nF(c["message"+e]),n=[],p=0,r=[],t=0;t<m.length;t++){var A=m[t];if("number"==typeof A){if(0>=A||A>g.length)throw Error('Block "'+f.type+'": Message index %'+A+" out of range.");if(n[A])throw Error('Block "'+f.type+'": Message index %'+A+" duplicated.");n[A]=!0;p++;r.push(g[A-1])}else(A=A.trim())&&r.push(A)}if(p!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||h.g.Qa.startsWith(r[r.length-1].type,"field_"))&&(t={type:"input_dummy"},k&&(t.align=k),r.push(t));k={LEFT:h.So,RIGHT:h.vt,CENTRE:h.Ro,CENTER:h.Ro};g=[];for(t=0;t<r.length;t++)if(n=r[t],"string"==typeof n)g.push([n,void 0]);else{m=p=null;do if(A=!1,"string"==typeof n)p=new h.Uc(n);else switch(n.type){case "input_value":m=f.Ef(h.jb,n.name);break;case "input_statement":m=f.Ef(h.Sa,n.name);break;case "input_dummy":m=Wb(f,n.name);break;default:p=
h.Ch.va(n),!p&&n.alt&&(n=n.alt,A=!0)}while(A);if(p)g.push([p,n.name]);else if(m){n.check&&m.Hj(n.check);n.align&&(p=k[n.align.toUpperCase()],void 0===p?console.warn(l+"Illegal align value: ",n.align):(n=m,n.align=p,n.L.pa&&(n.L=n.L,n.L.Ga())));for(n=0;n<g.length;n++)J(m,g[n][0],g[n][1]);g.length=0}}e++}void 0!==c.inputsInline&&a.ji(c.inputsInline);void 0!==c.output&&a.Rs(!0,c.output);void 0!==c.previousStatement&&a.ki(!0,c.previousStatement);void 0!==c.nextStatement&&a.Jj(!0,c.nextStatement);void 0!==
c.tooltip&&(e=c.tooltip,e=h.g.fd(e),a.De(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.fd(e),a.qj=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.xa.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)h.xa.apply(c[d],a,!1)}
b.Yf=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Yf(this,a)};b.Ef=function(a,c){var d=null;if(a==h.jb||a==h.Sa)d=this.ul(a);a=new h.qu(a,c,this,d);this.R.push(a);return a};
b.Gs=function(a,c){for(var d=0,e;e=this.R[d];d++)if(e.name==a)return e.H(),this.R.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ea(a,c){for(var d=0,e;e=a.R[d];d++)if(e.name==c)return e;return null}function Yb(a,c){return(a=ea(a,c))&&a.connection&&a.connection.ra()}b.Ij=function(a){this.qe.text!=a&&(h.h.Ia(new h.h.yi(this,"comment",null,this.qe.text,a)),this.qe.text=a)};b.vy=function(){};b.Wa=function(){return this.Wy};
b.moveBy=function(a,c){if(this.hf)throw Error("Block has parent.");var d=new h.h.Uj(this);this.Wy.translate(a,c);d.bi();h.h.Ia(d)};b.ul=function(a){return new h.ca(this,a)};h.i={};h.i.hm=!1;h.i.register=function(a,c){h.G.register(h.G.ba.RENDERER,a,c)};h.i.unregister=function(a){h.G.unregister(h.G.ba.RENDERER,a)};h.i.IJ=function(){h.i.hm=!0};h.i.JJ=function(){h.i.hm=!1};h.i.Ea=function(a,c,d){a=new (h.G.dr(h.G.ba.RENDERER,a))(a);a.Ea(c,d);return a};h.jk=function(){this.Zc=this.$a=this.tb=null;this.type="marker"};function I(a,c){var d=a.$a;a.$a=c;a.Zc&&a.Zc.draw(d,a.$a)}h.jk.prototype.draw=function(){this.Zc&&this.Zc.draw(this.$a,this.$a)};h.jk.prototype.Ja=function(){this.Zc&&this.Zc.Ja()};h.jk.prototype.H=function(){this.Zc&&this.Zc.H()};h.Bi=function(){h.Bi.B.constructor.call(this);this.type="cursor"};h.g.object.Y(h.Bi,h.jk);b=h.Bi.prototype;b.next=function(){var a=this.$a;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Xa()==h.v.types.zd||a.Xa()==h.v.types.zb);)a=a.next();a&&I(this,a);return a};b.ef=function(){var a=this.$a;if(!a)return null;if(a.Xa()==h.v.types.Bd||a.Xa()==h.v.types.oh)a=a.next();(a=a.ef())&&I(this,a);return a};
b.Vd=function(){var a=this.$a;if(!a)return null;for(a=a.Vd();a&&a.Vd()&&(a.Xa()==h.v.types.zd||a.Xa()==h.v.types.zb);)a=a.Vd();a&&I(this,a);return a};b.ff=function(){var a=this.$a;if(!a)return null;(a=a.ff())&&a.Xa()==h.v.types.zb&&(a=a.Vd()||a);a&&I(this,a);return a};
b.bd=function(a){if(this.$a&&this.$a.Xa()===h.v.types.Tb&&this.$a.oa.bd(a))return!0;switch(a.name){case h.navigation.Ca.Bd:return this.Vd(),!0;case h.navigation.Ca.Cp:return this.ff(),!0;case h.navigation.Ca.zd:return this.next(),!0;case h.navigation.Ca.np:return this.ef(),!0;default:return!1}};h.Cm=function(){h.Cm.B.constructor.call(this)};h.g.object.Y(h.Cm,h.Bi);b=h.Cm.prototype;b.bd=function(a){switch(a.name){case h.navigation.Ca.Bd:return this.Vd(),!0;case h.navigation.Ca.zd:return this.next(),!0;default:return!1}};b.next=function(){var a=this.$a;if(!a)return null;(a=a.next())&&I(this,a);return a};b.ef=function(){return null};b.Vd=function(){var a=this.$a;if(!a)return null;(a=a.Vd())&&I(this,a);return a};b.ff=function(){return null};h.i.BG=function(){};h.Ua={};h.Ua.rn=null;h.Ua.bc=null;h.Ua.show=function(a,c,d){h.X.show(h.Ua,d,h.Ua.H);if(c.length){var e=h.Ua.qE(c,d);h.Ua.bc=e;h.Ua.sE(e,a,d);setTimeout(function(){e.focus()},1);h.Ua.rn=null}else h.Ua.Ja()};h.Ua.qE=function(a,c){var d=new h.yp;d.Zg(h.g.Ab.Nm.JA);for(var e=0,f;f=a[e];e++){var g=new h.zp(f.text);g.Co=c;g.Zg(h.g.Ab.Nm.KA);d.Vp(g);g.kf(f.enabled);f.enabled&&Nb(g,function(){h.Ua.Ja();this.$b(this.scope)},f)}return d};
h.Ua.sE=function(a,c,d){var e=h.g.eD();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ua.iC(a);var f=a.Rf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.X.rE(e,c,f,d);a.focus()};h.Ua.iC=function(a){a.Ga(h.X.eb);var c=a.sa;h.g.j.Lb(c,"blocklyContextMenu");h.za(c,"contextmenu",null,h.g.bE);a.focus()};h.Ua.Ja=function(){h.X.hl(h.Ua);h.Ua.rn=null};h.Ua.H=function(){h.Ua.bc&&(h.Ua.bc.H(),h.Ua.bc=null)};
h.Ua.BI=function(a,c){return function(){h.h.disable();try{var d=h.O.hj(c,a.A),e=a.Wa();e.x=a.J?e.x-h.rc:e.x+h.rc;e.y+=2*h.rc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ka&&h.h.Ia(new h.h.qm(d));d.select()}};h.Ua.FI=function(a){return{text:h.N.REMOVE_COMMENT,enabled:!0,$b:function(){h.h.qa(!0);a.H(!0,!0);h.h.qa(!1)}}};h.Ua.GI=function(a){return{text:h.N.DUPLICATE_COMMENT,enabled:!0,$b:function(){h.duplicate(a)}}};
h.Ua.PJ=function(a,c){if(!h.Si)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Je};d.text=h.N.ADD_COMMENT;d.$b=function(){var e=new h.Si(a,h.N.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Si.Jz,h.Si.Jz),f=aa(a).getBoundingClientRect();f=new h.g.S(c.clientX-f.left,c.clientY-f.top);var g=h.g.al(a.wb);f=h.g.S.Rk(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.pa&&(e.sj(),e.Ga(),e.select())};return d};h.ea={};h.ea.IE=function(){h.Ba.G.register({Ic:function(){return h.N.UNDO},td:function(a){return 0<a.A.pi.length?"enabled":"disabled"},$b:function(a){fb(a.A,!1)},ud:h.Ba.Dc.Zb,id:"undoWorkspace",weight:0})};h.ea.HE=function(){h.Ba.G.register({Ic:function(){return h.N.REDO},td:function(a){return 0<a.A.Gl.length?"enabled":"disabled"},$b:function(a){fb(a.A,!0)},ud:h.Ba.Dc.Zb,id:"redoWorkspace",weight:0})};
h.ea.vE=function(){h.Ba.G.register({Ic:function(){return h.N.CLEAN_UP},td:function(a){return a.A.Oc()?1<a.A.lb(!1).length?"enabled":"disabled":"hidden"},$b:function(a){a=a.A;a.dc(!1);h.h.qa(!0);for(var c=a.lb(!0),d=0,e=0,f;f=c[e];e++)if(f.Oc()){var g=f.Wa();f.moveBy(-g.x,d-g.y);Zb(f);d=f.Wa().y+y(f).height+a.mb.Z().hk}h.h.qa(!1);a.dc(!0)},ud:h.Ba.Dc.Zb,id:"cleanWorkspace",weight:0})};h.ea.Ey=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.gi.bind(f,a),d),f=u(f),d+=10};
h.ea.wE=function(){h.Ba.G.register({Ic:function(){return h.N.COLLAPSE_ALL},td:function(a){if(a.A.options.collapse){a=a.A.lb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$b:function(a){h.ea.Ey(!0,a.A.lb(!0))},ud:h.Ba.Dc.Zb,id:"collapseWorkspace",weight:0})};
h.ea.EE=function(){h.Ba.G.register({Ic:function(){return h.N.EXPAND_ALL},td:function(a){if(a.A.options.collapse){a=a.A.lb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$b:function(a){h.ea.Ey(!1,a.A.lb(!0))},ud:h.Ba.Dc.Zb,id:"expandWorkspace",weight:0})};h.ea.Hv=function(a,c){if(a.qd())Array.prototype.push.apply(c,q(a,!1));else{a=E(a,!1);for(var d=0;d<a.length;d++)h.ea.Hv(a[d],c)}};
h.ea.gr=function(a){var c=[];a=a.lb(!0);for(var d=0;d<a.length;d++)h.ea.Hv(a[d],c);return c};h.ea.tn=function(a,c){h.h.qa(c);var d=a.shift();d&&(d.A?(d.H(!1,!0),setTimeout(h.ea.tn,10,a,c)):h.ea.tn(a,c));h.h.qa(!1)};
h.ea.BE=function(){h.Ba.G.register({Ic:function(a){if(a.A)return a=h.ea.gr(a.A).length,1==a?h.N.DELETE_BLOCK:h.N.DELETE_X_BLOCKS.replace("%1",String(a))},td:function(a){if(a.A)return 0<h.ea.gr(a.A).length?"enabled":"disabled"},$b:function(a){if(a.A){$b(a.A);var c=h.ea.gr(a.A),d=h.g.Pf();2>c.length?h.ea.tn(c,d):h.confirm(h.N.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.ea.tn(c,d)})}},ud:h.Ba.Dc.Zb,id:"workspaceDelete",weight:0})};
h.ea.JE=function(){h.ea.IE();h.ea.HE();h.ea.vE();h.ea.wE();h.ea.EE();h.ea.BE()};h.ea.DE=function(){h.Ba.G.register({Ic:function(){return h.N.DUPLICATE_BLOCK},td:function(a){a=a.block;return!a.Nc&&a.qd()&&a.Oc()?(eb(a.A)?db(a.A,h.g.$q(a,!0)):1)?"enabled":"disabled":"hidden"},$b:function(a){a.block&&h.duplicate(a.block)},ud:h.Ba.Dc.zb,id:"blockDuplicate",weight:0})};
h.ea.yE=function(){h.Ba.G.register({Ic:function(a){return a.block.pe?h.N.REMOVE_COMMENT:h.N.ADD_COMMENT},td:function(a){a=a.block;return h.g.userAgent.Je||a.Nc||!a.A.options.WB||a.isCollapsed()||!a.Nd()?"hidden":"enabled"},$b:function(a){a=a.block;a.pe?a.Ij(null):a.Ij("")},ud:h.Ba.Dc.zb,id:"blockComment",weight:0})};
h.ea.GE=function(){h.Ba.G.register({Ic:function(a){return ta(a.block)?h.N.EXTERNAL_INPUTS:h.N.INLINE_INPUTS},td:function(a){a=a.block;if(!a.Nc&&a.Oc()&&!a.isCollapsed())for(var c=1;c<a.R.length;c++)if(a.R[c-1].type!=h.Sa&&a.R[c].type!=h.Sa)return"enabled";return"hidden"},$b:function(a){a.block.ji(!ta(a.block))},ud:h.Ba.Dc.zb,id:"blockInline",weight:0})};
h.ea.xE=function(){h.Ba.G.register({Ic:function(a){return a.block.isCollapsed()?h.N.EXPAND_BLOCK:h.N.COLLAPSE_BLOCK},td:function(a){a=a.block;return!a.Nc&&a.Oc()?"enabled":"hidden"},$b:function(a){a.block.gi(!a.block.isCollapsed())},ud:h.Ba.Dc.zb,id:"blockCollapseExpand",weight:0})};
h.ea.CE=function(){h.Ba.G.register({Ic:function(a){return a.block.isEnabled()?h.N.DISABLE_BLOCK:h.N.ENABLE_BLOCK},td:function(a){a=a.block;return!a.Nc&&a.A.options.disable&&a.Nd()?Vb(a)?"disabled":"enabled":"hidden"},$b:function(a){a=a.block;var c=h.h.Vb();c||h.h.qa(!0);a.kf(!a.isEnabled());c||h.h.qa(!1)},ud:h.Ba.Dc.zb,id:"blockDisable",weight:0})};
h.ea.AE=function(){h.Ba.G.register({Ic:function(a){var c=a.block;a=q(c,!1).length;(c=u(c))&&(a-=q(c,!1).length);return 1==a?h.N.DELETE_BLOCK:h.N.DELETE_X_BLOCKS.replace("%1",String(a))},td:function(a){return!a.block.Nc&&a.block.qd()?"enabled":"hidden"},$b:function(a){h.h.qa(!0);a.block.H(!0,!0);h.h.qa(!1)},ud:h.Ba.Dc.zb,id:"blockDelete",weight:0})};
h.ea.FE=function(){h.Ba.G.register({Ic:function(){return h.N.HELP},td:function(a){a=a.block;return("function"==typeof a.qj?a.qj():a.qj)?"enabled":"hidden"},$b:function(a){a.block.showHelp()},ud:h.Ba.Dc.zb,id:"blockHelp",weight:0})};h.ea.uE=function(){h.ea.DE();h.ea.yE();h.ea.GE();h.ea.xE();h.ea.CE();h.ea.AE();h.ea.FE()};h.ea.zE=function(){h.ea.JE();h.ea.uE()};h.Ba=function(){h.Ba.G=this;this.ci={};h.ea.zE()};h.Ba.Dc={zb:"block",Zb:"workspace"};h.Ba.G=null;h.Ba.prototype.register=function(a){if(this.ci[a.id])throw Error('Menu item with id "'+a.id+'" is already registered.');this.ci[a.id]=a};h.Ba.prototype.unregister=function(a){if(this.ci[a])delete this.ci[a];else throw Error('Menu item with id "'+a+'" not found.');};h.Ba.prototype.getItem=function(a){return this.ci[a]?this.ci[a]:null};
function ac(a,c){var d=[],e=h.Ba.G.ci;Object.keys(e).forEach(function(f){f=e[f];if(a==f.ud){var g=f.td(c);"hidden"!=g&&(f={text:"function"==typeof f.Ic?f.Ic(c):f.Ic,enabled:"enabled"==g,$b:f.$b,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Ba;h.Fb=function(a,c){h.Fb.B.constructor.call(this,a,c);this.Ze=a.A.pn[c];this.jw=a.A.pn[h.Ii[c]];this.$h=new h.g.S(0,0);this.gg=h.Fb.Pe.yv;this.ma=null};h.g.object.Y(h.Fb,h.ca);h.Fb.Pe={yv:-1,pv:0,Qi:1};b=h.Fb.prototype;b.H=function(){h.Fb.B.H.call(this);this.gg==h.Fb.Pe.Qi&&bc(this.Ze,this,this.y)};b.T=function(){return h.Fb.B.T.call(this)};b.ra=function(){return h.Fb.B.ra.call(this)};function Sa(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function pb(a,c){if(!a.L.A.rd()){var d=a.L.Lc();if(!d.Nc){var e=!1;if(!d.Oc()){d=c.T().Lc();if(!d.Oc())return;c=a;e=!0}var f=h.selected==d;f||d.Xm();var g=c.x+h.rc+Math.floor(Math.random()*h.Yo)-a.x,k=c.y+h.rc+Math.floor(Math.random()*h.Yo)-a.y;e&&(k=-k);d.J&&(g=c.x-h.rc-Math.floor(Math.random()*h.Yo)-a.x);d.moveBy(g,k);f||d.Hl()}}}
b.moveTo=function(a,c){if(this.gg==h.Fb.Pe.yv){var d=this.Ze;d.Cb.splice(cc(d,c),0,this);this.gg=h.Fb.Pe.Qi}else this.gg==h.Fb.Pe.Qi&&(bc(this.Ze,this,this.y),d=this.Ze,d.Cb.splice(cc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function dc(a,c){a.moveTo(c.x+a.$h.x,c.y+a.$h.y)}function K(a,c,d){a.$h.x=c;a.$h.y=d}
function ec(a){var c=a.ma.x-a.x,d=a.ma.y-a.y;if(0!=c||0!=d){a=a.ra();var e=a.na();if(!e)throw Error("block is not rendered.");e=h.g.we(e);a.na().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");za(a,-c,-d)}}
b.closest=function(a,c){var d=this.jw;if(d.Cb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=cc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Cb[m].y-this.y)<=a;)l=d.Cb[m],z(d.$v,this,l,!0,k)&&(c=l,k=Sa(l,this)),m--;for(;g<d.Cb.length&&Math.abs(d.Cb[g].y-this.y)<=a;)l=d.Cb[g],z(d.$v,this,l,!0,k)&&(c=l,k=Sa(l,this)),g++;this.x=f;this.y=e;a={connection:c,zo:k}}else a={connection:null,zo:a};return a};
function Tb(a,c){c&&a.gg==h.Fb.Pe.Qi||!c&&a.gg==h.Fb.Pe.pv||a.L.Nc||(c?(c=a.Ze,c.Cb.splice(cc(c,a.y),0,a),a.gg=h.Fb.Pe.Qi):(a.gg==h.Fb.Pe.Qi&&bc(a.Ze,a,a.y),a.gg=h.Fb.Pe.pv))}function Sb(a){Tb(a,!0);var c=[];if(a.type!=h.jb&&a.type!=h.Sa)return c;if(a=a.ra()){if(a.isCollapsed()){var d=[];a.M&&d.push(a.M);a.W&&d.push(a.W);a.U&&d.push(a.U)}else d=a.ve(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Sb(d[e]));c.length||(c[0]=a)}return c}b.oo=function(a){pb(this,a)};
b.Gq=function(a,c){h.Fb.B.Gq.call(this,a,c);a.pa&&a.Ga();c.pa&&(Wa(c),c.Ga(),c.na().style.display="block")};b.Jl=function(){h.Fb.B.Jl.call(this);var a=this.ra();a&&(a.sj(),a.Ga(!1),a=this.T(),a.pa&&a.Ga())};b.Mx=function(a){return fc(this.jw,this,a)};b.re=function(a){h.Fb.B.re.call(this,a);var c=this.T();a=a.T();var d=c.pa,e=a.pa;d&&Wa(c);e&&Wa(a);d&&e&&(this.type==h.Sa||this.type==h.ie?a.Ga():c.Ga());if(c=da(c,a))c=c.isVisible(),a.na().style.display=c?"block":"none"};
b.Qx=function(){!this.isConnected()||this.ma&&z(qa(this),this,this.ma,!1)||(w(C(this)?this.ra():this.L),this.L.Yc())};h.pm=function(){h.pm.B.constructor.call(this)};h.g.object.Y(h.pm,h.Bi);b=h.pm.prototype;b.next=function(){var a=this.$a;if(!a)return null;(a=gc(this,a,this.mt))&&I(this,a);return a};b.ef=function(){return this.next()};b.Vd=function(){var a=this.$a;if(!a)return null;(a=hc(this,a,this.mt))&&I(this,a);return a};b.ff=function(){return this.Vd()};function gc(a,c,d){if(!c)return null;var e=c.ef()||c.next();if(d(e))return e;if(e)return gc(a,e,d);c=ic(a,c.ff());return d(c)?c:c?gc(a,c,d):null}
function hc(a,c,d){if(!c)return null;var e=c.Vd();e=e?jc(a,e):c.ff();return d(e)?e:e?hc(a,e,d):null}b.mt=function(a){var c=!1;a=a&&a.Xa();if(a==h.v.types.oh||a==h.v.types.xd||a==h.v.types.Tb||a==h.v.types.zd||a==h.v.types.Bd||a==h.v.types.Zb)c=!0;return c};function ic(a,c){if(!c)return null;var d=c.next();return d?d:ic(a,c.ff())}function jc(a,c){if(!c.ef())return c;for(c=c.ef();c.next();)c=c.next();return jc(a,c)};h.Tp=function(){h.Tp.B.constructor.call(this)};h.g.object.Y(h.Tp,h.pm);h.Tp.prototype.mt=function(a){a&&a.Xa();return!1};h.cb=function(a,c,d){this.P=h.g.j.K(h.g.D.Vc,{},null);this.P.dm="";this.style=kc(a.mb.Z(),null);this.Db=a.mb.Ex(this.P,this.style);this.Is=this.pa=!1;this.A=a;this.U=this.W=this.M=null;this.im=h.g.Lh()&&!!a.kd;var e=this.Db.Qb;e.Yd=this;h.F.Wi(e);h.cb.B.constructor.call(this,a,c,d);this.P.dataset&&(this.P.dataset.id=this.id)};h.g.object.Y(h.cb,h.Sc);h.cb.prototype.height=0;h.cb.prototype.width=0;h.cb.prototype.Lo=null;h.cb.zG=-1;h.cb.MF="TEMP_COLLAPSED_WARNING_";b=h.cb.prototype;
b.sj=function(){if(!this.A.pa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.R[a];a++)c.Ea();c=ua(this);for(a=0;a<c.length;a++)c[a].fC();this.ic();B(this.Db,"blocklyDraggable",this.Oc());a=this.na();this.A.options.readOnly||this.BC||!a||h.za(a,"mousedown",this,this.Rg);this.BC=!0;a.parentNode||this.A.wb.appendChild(a)};
b.select=function(){if(this.Ka&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{nb(h.selected)}finally{h.h.enable()}}a=new h.h.Yb(null,"selected",a,this.id);a.xb=this.A.id;h.h.Ia(a);h.selected=this;this.Xm()}};function nb(a){if(h.selected==a){var c=new h.h.Yb(null,"selected",a.id,null);c.xb=a.A.id;h.h.Ia(c);h.selected=null;a.Hl()}}b.ze=null;b.pe=null;b.Ry=null;
function ua(a){var c=[];a.ze&&c.push(a.ze);a.pe&&c.push(a.pe);a.Ry&&c.push(a.Ry);return c}b.Kj=function(a){var c=this.hf;if(a!=c){h.g.j.Vl();h.cb.B.Kj.call(this,a);h.g.j.Wl();var d=this.na();if(!this.A.Fr&&d){var e=this.Wa();a?(a.na().appendChild(d),a=this.Wa(),za(this,a.x-e.x,a.y-e.y)):c&&(this.A.wb.appendChild(d),this.translate(e.x,e.y));this.ic()}}};
b.Wa=function(){var a=0,c=0,d=this.im?this.A.kd.Vb():null,e=this.na();if(e){do{var f=h.g.we(e);a+=f.x;c+=f.y;this.im&&this.A.kd.$e.firstChild==e&&(f=this.A.kd.pr(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.wb&&e!=d)}return new h.g.S(a,c)};b.moveBy=function(a,c){if(this.hf)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new h.h.Uj(this);var f=this.Wa();this.translate(f.x+a,f.y+c);za(this,a,c);d&&(e.bi(),h.h.Ia(e));Xa(this.A)};
b.translate=function(a,c){this.na().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Wa();this.moveBy(a.x-c.x,a.y-c.y)};b.bs=function(a){this.im?this.A.kd.oi(a.x,a.y):(this.P.dm="translate("+a.x+","+a.y+")",this.P.setAttribute("transform",this.P.dm+this.P.Ul))};
function Zb(a){if(a.A&&!a.A.rd()&&!a.getParent()&&!a.Nc){var c=a.A.Jd;if(c&&c.cF){var d=c.Xs,e=d/2,f=a.Wa();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function lc(a){var c=a.Wa(),d=y(a);if(a.J){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.vl=function(){this.Db.bj=this.A.mb.Z();for(var a=0,c;c=this.R[a];a++)c.vl()};
b.gi=function(a){this.sh!=a&&(h.cb.B.gi.call(this,a),a?this.pa&&this.Ga():mc(this))};function mc(a){for(var c=a.isCollapsed(),d=0,e;e=a.R[d];d++)e.name!=h.Sc.Wj&&e.Wb(!c);if(c){e=ua(a);for(d=0;c=e[d];d++)c.Wb(!1);d=a.toString(h.xz);(e=ba(a,h.Sc.$o))?e.setValue(d):(e=ea(a,h.Sc.Wj)||Wb(a,h.Sc.Wj),J(e,new h.Uc(d),h.Sc.$o))}else a.Gs(h.Sc.Wj)}
b.Rg=function(a){var c=this.A&&this.A.yg(a);if(c){if(c.Ih)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");yb(c,this);c.Qd=a}};b.showHelp=function(){var a="function"==typeof this.qj?this.qj():this.qj;a&&window.open(a)};b.Ql=function(a){if(this.A.options.readOnly||!this.contextMenu)var c=null;else c=ac(h.Ba.Dc.zb,{block:this}),this.jC&&this.jC(c);c&&c.length&&(h.Ua.show(a,c,this.J),h.Ua.rn=this)};
function za(a,c,d){if(a.pa){for(var e=a.ve(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=ua(a);for(f=0;f<e.length;f++)e[f].YB();for(f=0;f<a.Hf.length;f++)za(a.Hf[f],c,d)}}b.Yg=function(a){if(a){var c=this.na();c.dm="";c.Ul="";h.ij=h.ij.concat(this.ve(!0));h.g.j.Lb(this.P,"blocklyDragging")}else h.ij=[],h.g.j.ed(this.P,"blocklyDragging");for(c=0;c<this.Hf.length;c++)this.Hf[c].Yg(a)};b.Qs=function(a){h.cb.B.Qs.call(this,a);B(this.Db,"blocklyDraggable",a)};
b.Ps=function(a){h.cb.B.Ps.call(this,a);a=ua(this);for(var c=0;c<a.length;c++)Ab(a[c])};b.Ts=function(a){h.cb.B.Ts.call(this,a);this.ic()};b.uy=function(a){this.yj!=a&&(this.yj=a)&&(this.Be(this.A.mb.Z().qp),B(this.Db,"blocklyInsertionMarker",!0))};b.na=function(){return this.P};
b.H=function(a,c){if(this.A){h.F.H();h.F.ht(this.Db.Qb);h.g.j.Vl();var d=this.A;h.selected==this&&(nb(this),$b(this.A));h.Ua.rn==this&&h.Ua.Ja();this.A.Pc&&h.navigation.VD(this);c&&this.pa&&(w(this,a),h.fb.tC(this));this.pa=!1;if(this.Lo){for(var e in this.Lo)clearTimeout(this.Lo[e]);this.Lo=null}c=ua(this);for(e=0;e<c.length;e++)c[e].H();h.cb.B.H.call(this,!!a);h.g.j.removeNode(this.P);Xa(d);this.P=null;h.g.j.Wl()}};
b.ic=function(){this.Db.ic(this);for(var a=ua(this),c=0;c<a.length;c++)a[c].ic();for(a=0;c=this.R[a];a++)for(var d=0,e;e=c.gb[d];d++)e.ic()};function Wa(a){var c=E(a,!1);a.ic();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.pa&&Wa(d)}}b.RC=function(){return this.pe};
b.Ij=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.qe.text!=a&&(h.cb.B.Ij.call(this,a),a=null!=a,!!this.pe==a?this.pe.OJ():(a?this.pe=new h.Comment(this):(this.pe.H(),this.pe=null),this.pa&&(this.Ga(),this.Yc())))};b.vy=function(a){this.ze&&this.ze!==a&&this.ze.H();a&&(a.BJ(this),this.ze=a,a.fC());this.pa&&(this.Ga(),this.Yc())};b.kf=function(a){this.isEnabled()!=a&&(h.cb.B.kf.call(this,a),this.pa&&!Vb(this)&&Wa(this))};b.Ce=function(a){this.pa&&this.Db.Iy(a)};
b.Xm=function(){B(this.Db,"blocklySelected",!0)};b.Hl=function(){B(this.Db,"blocklySelected",!1)};b.Ml=function(a){B(this.Db,"blocklyDraggingDelete",a)};b.er=function(){return this.style.uh};b.Be=function(a){h.cb.B.Be.call(this,a);a=nc(this.A.mb.Z(),this.Fd);this.Db.li(a.style);this.style=a.style;this.Xl=a.name;this.ic()};b.li=function(a){var c=kc(this.A.mb.Z(),a);this.Xl=a;if(c)this.cf=c.cf,this.Db.li(c),this.Fd=c.uh,this.style=c,this.ic();else throw Error("Invalid style name: "+a);};
function Aa(a){do{var c=a.na(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.ki=function(a,c){h.cb.B.ki.call(this,a,c);this.pa&&(this.Ga(),this.Yc())};b.Jj=function(a,c){h.cb.B.Jj.call(this,a,c);this.pa&&(this.Ga(),this.Yc())};b.Rs=function(a,c){h.cb.B.Rs.call(this,a,c);this.pa&&(this.Ga(),this.Yc())};b.ji=function(a){h.cb.B.ji.call(this,a);this.pa&&(this.Ga(),this.Yc())};b.Gs=function(a,c){a=h.cb.B.Gs.call(this,a,c);this.pa&&(this.Ga(),this.Yc());return a};
b.Ef=function(a,c){a=h.cb.B.Ef.call(this,a,c);this.pa&&(this.Ga(),this.Yc());return a};function Va(a,c){a.U&&Tb(a.U,c);a.M&&Tb(a.M,c);if(a.W){Tb(a.W,c);var d=a.W.ra();d&&Va(d,c)}if(!a.sh)for(d=0;d<a.R.length;d++){var e=a.R[d].connection;e&&(Tb(e,c),(e=e.ra())&&Va(e,c))}}b.ve=function(a){var c=[];if(a||this.pa)if(this.M&&c.push(this.M),this.U&&c.push(this.U),this.W&&c.push(this.W),a||!this.sh){a=0;for(var d;d=this.R[a];a++)d.connection&&c.push(d.connection)}return c};b.Xn=function(){return h.cb.B.Xn.call(this)};
b.ir=function(a,c){return h.cb.B.ir.call(this,a,c)};b.ul=function(a){return new h.Fb(this,a)};b.Yc=function(){if(this.A&&!this.A.rd()){var a=this.Lc();if(!a.Nc)for(var c=this.ve(!1),d=0,e;e=c[d];d++){e.isConnected()&&C(e)&&e.ra().Yc();for(var f=e.Mx(h.rc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.T().Lc()!=a&&(C(e)?pb(k,e):pb(e,k))}}};function Ba(a){var c=h.h.Vb();setTimeout(function(){h.h.qa(c);Zb(a);h.h.qa(!1)},h.Xo/2);setTimeout(function(){h.h.qa(c);a.Yc();h.h.qa(!1)},h.Xo)}
function ra(a,c,d){c.type!=h.Sa&&c.type!=h.jb||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return h.cb.B.getParent.call(this)};b.Lc=function(){return h.cb.B.Lc.call(this)};
b.Ga=function(a){if(!this.Is){this.Is=!0;try{this.pa=!0;h.g.j.Vl();this.isCollapsed()&&mc(this);this.A.mb.Ga(this);var c=this.Wa();this.U&&dc(this.U,c);this.M&&dc(this.M,c);for(var d=0;d<this.R.length;d++){var e=this.R[d].connection;e&&(dc(e,c),e.isConnected()&&ec(e))}this.W&&(dc(this.W,c),this.W.isConnected()&&ec(this.W));if(!1!==a){var f=this.getParent();f?f.Ga(!0):Xa(this.A)}h.g.j.Wl();this.kt()}finally{this.Is=!1}}};
b.kt=function(){this.A.Pc&&this.Db.Pk&&this.A.ub().draw();this.A.Pc&&this.Db.Vr&&this.A.Kc(h.navigation.gk).draw()};b.$f=function(a){this.Db.$f(a)};b.ag=function(a){this.Db.ag(a)};function y(a){var c=a.height,d=a.width,e=u(a);e&&(e=y(e),a=a.A.mb.Z().Fu,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.Ai=function(a){this.Cb=[];this.$v=a};function oc(a,c,d){if(!a.Cb.length)return-1;var e=cc(a,d);if(e>=a.Cb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f--}for(;e<a.Cb.length&&a.Cb[e].y==d;){if(a.Cb[e]==c)return e;e++}return-1}function cc(a,c){if(!a.Cb.length)return 0;for(var d=0,e=a.Cb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Cb[f].y<c)d=f+1;else if(a.Cb[f].y>c)e=f;else{d=f;break}}return d}
function bc(a,c,d){c=oc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Cb.splice(c,1)}function fc(a,c,d){function e(n){var p=g-f[n].x,r=k-f[n].y;Math.sqrt(p*p+r*r)<=d&&m.push(f[n]);return r<d}var f=a.Cb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.Ai.Ea=function(a){var c=[];c[h.jb]=new h.Ai(a);c[h.ge]=new h.Ai(a);c[h.Sa]=new h.Ai(a);c[h.ie]=new h.Ai(a);return c};h.mh=function(a,c){this.nj=a;this.Xs=c.spacing;this.Cx=c.length;this.JD=(this.Lr=a.firstChild)&&this.Lr.nextSibling;this.cF=c.snap};h.mh.prototype.Xg=1;h.mh.prototype.H=function(){this.nj=null};h.mh.prototype.update=function(a){this.Xg=a;var c=this.Xs*a||100;this.nj.setAttribute("width",c);this.nj.setAttribute("height",c);c=Math.floor(this.Xs/2)+.5;var d=c-this.Cx/2,e=c+this.Cx/2;c*=a;d*=a;e*=a;pc(this.Lr,a,d,e,c,c);pc(this.JD,a,c,c,d,e)};
function pc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.mh.prototype.moveTo=function(a,c){this.nj.setAttribute("x",a);this.nj.setAttribute("y",c);(h.g.userAgent.Je||h.g.userAgent.jh)&&this.update(this.Xg)};
h.mh.Pa=function(a,c,d){a=h.g.j.K(h.g.D.Su,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.K(h.g.D.fk,{stroke:c.colour},a),1<c.length&&h.g.j.K(h.g.D.fk,{stroke:c.colour},a)):h.g.j.K(h.g.D.fk,{},a);return a};h.Cu=function(a){this.Kf=this.Hd=null;this.Wh={};this.o=a};function qc(a,c){var d=a.Wh[c];if(d)d.H(),delete a.Wh[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=h.Cu.prototype;b.ub=function(){return this.Hd};b.Kc=function(a){return this.Wh[a]};function rc(a,c){a.Hd&&a.Hd.Zc&&a.Hd.Zc.H();a.Hd=c;a.Hd&&(c=a.Hd,c=new h.i.xf(a.o,a.o.mb.Z(),c),a.Hd.Zc=c,a.$f(a.Hd.Zc.Pa()))}b.$f=function(a){a?(this.o.wb.appendChild(a),this.Kf=a):this.Kf=null};
b.ag=function(a){a?this.o.wb&&(this.Kf?this.o.wb.insertBefore(a,this.Kf):this.o.wb.appendChild(a)):this.Xf=null};b.H=function(){for(var a=Object.keys(this.Wh),c=0,d;d=a[c];c++)qc(this,d);this.Wh=null;this.Hd&&(this.Hd.H(),this.Hd=null)};h.ov=function(a,c){this.o=a;this.eg=c;this.Yl=[];this.Ue=Object.create(null)};b=h.ov.prototype;b.zg=function(){return this.eg};b.Pl=function(a){var c=this.eg;this.eg=a;if(a=aa(this.o))c&&h.g.j.ed(a,c.ue()),h.g.j.Lb(a,this.eg.ue());for(c=0;a=this.Yl[c];c++)sc(a);c=0;a=Object.keys(this.Ue);for(var d;d=a[c];c++)for(var e=0,f;f=this.Ue[d][e];e++)f.element.style[f.propertyName]=this.eg&&Ta(this.eg,d)||"";h.ac()};
b.subscribe=function(a,c,d){this.Ue[c]||(this.Ue[c]=[]);this.Ue[c].push({element:a,propertyName:d});a.style[d]=this.eg&&Ta(this.eg,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Ue),d=0,e;e=c[d];d++){for(var f=this.Ue[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Ue[e].length||delete this.Ue[e]}};b.H=function(){this.Ue=this.Yl=this.eg=this.Td=null};h.Wc=function(a,c){h.Wc.B.constructor.call(this,a,c);this.Sn=!1;this.ld=Object.create(null);this.zy=this.Dl=0;this.wx=this.qs=null};h.g.object.Y(h.Wc,h.lh);h.Wc.zB=5;h.Wc.AB=6;b=h.Wc.prototype;b.Kq=function(a){this.wx=this.Hb.options.ab&&this.Hb.options.ab.As;h.Wc.B.Kq.call(this,a);!this.Qn&&h.Touch.Wn(a)&&tc(this,a)};
b.Wi=function(a){this.qs=h.za(document,"mousedown",null,this.nD.bind(this),!0);this.qo=h.za(document,"mousemove",null,this.oj.bind(this),!0);this.so=h.za(document,"mouseup",null,this.Jn.bind(this),!0);a.preventDefault();a.stopPropagation()};b.nD=function(a){!this.rd()&&h.Touch.Wn(a)&&(tc(this,a),this.Sn&&h.Ng())};
b.oj=function(a){if(this.rd())h.Touch.Ws(a)&&h.Wc.B.oj.call(this,a);else if(this.Sn){if(h.Touch.Wn(a)){this.ld[h.Touch.Hn(a)]=uc(this,a);var c=Object.keys(this.ld);if(this.wx&&2===c.length){c=Object.keys(this.ld);c=h.g.S.Jq(this.ld[c[0]],this.ld[c[1]])/this.zy;if(0<this.Dl&&Infinity>this.Dl){var d=c-this.Dl;d=0<d?d*h.Wc.zB:d*h.Wc.AB;var e=this.Hb,f=h.g.yl(a,x(e),Na(e));e.zoom(f.x,f.y,d)}this.Dl=c;a.preventDefault()}else h.Wc.B.oj.call(this,a)}h.Ng()}else h.Wc.B.oj.call(this,a)};
b.Jn=function(a){if(h.Touch.Wn(a)&&!this.rd()){var c=h.Touch.Hn(a);this.ld[c]&&delete this.ld[c];2>Object.keys(this.ld).length&&(this.ld=Object.create(null),this.Dl=0)}!this.Sn||this.rd()?h.Touch.Ws(a)&&h.Wc.B.Jn.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Wc.B.H.call(this);this.qs&&h.ob(this.qs)};function tc(a,c){a.ld[h.Touch.Hn(c)]=uc(a,c);var d=Object.keys(a.ld);2==d.length&&(a.zy=h.g.S.Jq(a.ld[d[0]],a.ld[d[1]]),a.Sn=!0,c.preventDefault())}
function uc(a,c){return a.Hb?new h.g.S(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Bv=function(a){this.vs=a;this.mk=Object.create(null)};b=h.Bv.prototype;b.Hr=null;b.H=function(){this.mk=this.vs=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.mk[c]=e)}};
b.preload=function(){for(var a in this.mk){var c=this.mk[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.dk||h.g.userAgent.ou)break}};b.play=function(a,c){var d=this.mk[a];d?(a=new Date,null!=this.Hr&&a-this.Hr<h.dB||(this.Hr=a,d=h.g.userAgent.dk||h.g.userAgent.lm?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.vs&&this.vs.Xc.play(a,c)};h.Cv=function(a){this.Ik=a;this.Pa()};b=h.Cv.prototype;b.pb=null;b.Ik=null;b.Pa=function(){this.pb||(this.pb=h.g.j.K(h.g.D.Ni,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.kp,"xmlns:xlink":h.g.j.jd,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Ik.appendChild(this.pb))};b.oi=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.pb.style.display="block";h.g.j.Ll(this.pb,"translate3d("+a+"px, "+c+"px, 0px)")};b.pr=function(){return h.g.we(this.pb)};
b.hn=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.pb.childNodes[0],d=this.pb.childNodes[1];if(!(c&&d&&h.g.j.wr(c,"blocklyBlockCanvas")&&h.g.j.wr(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Ds?h.g.j.tj(c,this.Ds):a.insertBefore(c,a.firstChild);h.g.j.tj(d,c);this.pb.style.display="none";if(this.pb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Ll(this.pb,
"");this.Ds=null};
h.bb=function(a,c,d){h.bb.B.constructor.call(this,a);this.Id=a.Id||h.bb.dD;this.Nl=a.Nl||h.bb.YE;this.pn=h.Ai.Ea(this.Gk);c&&(this.kd=c);d&&(this.ui=d);this.Jo=!!this.ui&&h.g.Lh();this.il=[];this.Xc=new h.Bv(a.cd);this.Jd=this.options.vr?new h.mh(this.options.vr,a.bx):null;this.sd=new h.Cu(this);this.et={};this.Cw={};h.ga&&h.ga.Dh&&vc(this,h.Ri,h.ga.Dh);h.vv&&h.vv.Dh&&vc(this,h.sB,h.vv.Dh);h.Za&&h.Za.Dh&&(vc(this,h.Tu,h.Za.Dh),G(this,h.Za.XD));this.oc=this.options.cd?this.options.cd.oc:new h.ov(this,
this.options.lF||h.Bf.kg);this.oc.Yl.push(this);this.mb=h.i.Ea(this.options.Js||"geras",this.zg(),this.options.Ks);this.jq=null;this.Pc=!1;this.Ho=[]};h.g.object.Y(h.bb,h.rb);b=h.bb.prototype;b.Bo=null;b.pa=!0;b.Vf=!0;b.Uf=!1;b.Tn=!1;b.Ms=!0;b.scrollX=0;b.scrollY=0;b.xw=null;b.scale=1;b.pc=null;b.Aa=null;b.ka=null;b.ua=null;b.wc=null;b.kd=null;b.ui=null;b.Jo=!1;b.Pn=!1;b.Dr=null;b.Ax=null;b.Ra=null;b.ux=null;b.Er=!0;b.$f=function(a){this.sd.$f(a)};b.ag=function(a){this.sd.ag(a)};
b.Kc=function(a){return this.sd?this.sd.Kc(a):null};b.ub=function(){return this.sd?this.sd.ub():null};b.zg=function(){return this.oc.zg()};b.Pl=function(a){a||(a=h.Bf.kg);this.oc.Pl(a)};function sc(a){a.P&&a.mb.Fs(a.P,a.zg());wc(F(a,!1).filter(function(d){return void 0!==d.Xl}));xc(a);a.ua&&sc(a.ua);a.isVisible()&&a.Wb(!0);var c=new h.h.Yb(null,"theme",null,null);c.xb=a.id;h.h.Ia(c)}function wc(a){for(var c=0,d;d=a[c];c++){var e=d.Xl;e&&(d.li(e),d.ze&&d.ze.NJ())}}
function Na(a){if(a.Er){var c=x(a).getScreenCTM();c&&(a.ux=c.inverse(),a.Er=!1)}return a.ux}b.gm=function(){this.Er=!0};b.isVisible=function(){return this.Vf};function la(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.wb,c)||h.g.j.containsNode(a.cg,c))f=a.scale;do{var g=h.g.we(c);if(c==a.wb||c==a.cg)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=x(a));return new h.g.S(d,e)}
function aa(a){if(!a.Dr)for(var c=a.P;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Dr=c;break}c=c.parentNode}return a.Dr}
b.Pa=function(a){this.P=h.g.j.K(h.g.D.Vc,{"class":"blocklyWorkspace"},null);a&&(this.nc=h.g.j.K(h.g.D.Cd,{height:"100%",width:"100%","class":a},this.P),"blocklyMainBackground"==a&&this.Jd?this.nc.style.fill="url(#"+this.Jd.nj.id+")":this.oc.subscribe(this.nc,"workspaceBackgroundColour","fill"));this.wb=h.g.j.K(h.g.D.Vc,{"class":"blocklyBlockCanvas"},this.P);this.cg=h.g.j.K(h.g.D.Vc,{"class":"blocklyBubbleCanvas"},this.P);this.Uf||(h.za(this.P,"mousedown",this,this.Rg,!1,!0),h.za(this.P,"wheel",this,
this.lE));if(this.options.dl){if(!h.nI)throw Error("Missing require for Blockly.Toolbox");this.ua=new (h.G.Kw(h.G.ba.qk,this.options))(this)}this.Jd&&this.Jd.update(this.scale);yc(this);rc(this.sd,new h.Bi);a=this.sd;var c=h.navigation.gk,d=new h.jk;a.Wh[c]&&qc(a,c);var e=new h.i.xf(a.o,a.o.mb.Z(),d);d.Zc=e;a.ag(d.Zc.Pa());a.Wh[c]=d;this.mb.Pa(this.P,this.zg());return this.P};
b.H=function(){this.pa=!1;this.wc&&this.wc.cancel();this.P&&(h.g.j.removeNode(this.P),this.P=null);this.cg=this.wb=null;this.ua&&(this.ua.H(),this.ua=null);this.ka&&(this.ka.H(),this.ka=null);this.pc&&(this.pc.H(),this.pc=null);this.Aa&&(this.Aa.H(),this.Aa=null);this.xi&&(this.xi.H(),this.xi=null);this.Xc&&(this.Xc.H(),this.Xc=null);this.Jd&&(this.Jd.H(),this.Jd=null);this.mb.H();this.sd&&(this.sd.H(),this.sd=null);h.bb.B.H.call(this);if(this.oc){var a=this.oc,c=a.Yl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Yl.splice(c,1);this.oc.unsubscribe(this.nc);this.options.cd||(this.oc.H(),this.oc=null)}this.Cw=this.et=this.pn=null;this.options.cd||(a=x(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Bo&&(h.ob(this.Bo),this.Bo=null)};b.fs=function(a,c){return new h.cb(this,a,c)};function zc(a){if(!h.hc)throw Error("Missing require for Blockly.Trashcan");a.pc=new h.hc(a);var c=a.pc.Pa();a.P.insertBefore(c,a.wb)}
function Ac(a){if(!h.BB)throw Error("Missing require for Blockly.ZoomControls");a.xi=new h.BB(a);var c=a.xi.Pa();a.P.appendChild(c)}
function Bc(a){var c=h.g.D.Ni,d=new h.hd({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.to,horizontalLayout:a.Md,renderer:a.options.Js,rendererOverrides:a.options.Ks});d.hb=a.options.hb;if(a.Md){if(!h.mp)throw Error("Missing require for Blockly.HorizontalFlyout");a.ka=new h.mp(d)}else{if(!h.Df)throw Error("Missing require for Blockly.VerticalFlyout");a.ka=new h.Df(d)}a.ka.Vi=!1;a.ka.o.Wb(!0);return a.ka.Pa(c)}function H(a,c){return a.ka||c?a.ka:a.ua?H(a.ua):null}
function Xa(a){a.Ms&&a.pa&&(a.Aa&&a.Aa.resize(),a.gm())}b.resize=function(){this.ua&&this.ua.position();this.ka&&this.ka.position();this.pc&&this.pc.position();this.xi&&this.xi.position();this.Aa&&this.Aa.resize();this.gm();yc(this)};function tb(a){var c=h.g.XC();h.g.S.Nf(a.Ax,c)||(a.Ax=c,a.gm(),yc(a))}function x(a){if(!a.jq)for(var c=a.P;c;){if("svg"==c.tagName){a.jq=c;break}c=c.parentNode}return a.jq}
b.translate=function(a,c){if(this.Jo&&this.Pn)this.ui.oi(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.wb.setAttribute("transform",d);this.cg.setAttribute("transform",d)}if(this.kd){d=this.kd;var e=this.scale;d.Xg=e;d.$e.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Jd&&this.Jd.moveTo(a,c)};
function Pa(a){if(a.Jo){a.Pn=!1;var c=a.ui.pr();a.ui.hn(a.P);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.wb.setAttribute("transform",c);a.cg.setAttribute("transform",c)}}
function Oa(a){if(a.Jo&&!a.Pn){a.Pn=!0;var c=a.wb.previousSibling,d=parseInt(x(a).getAttribute("width"),10),e=parseInt(x(a).getAttribute("height"),10),f=h.g.we(a.wb),g=a.ui,k=a.wb,l=a.cg,m=a.scale;if(g.pb.childNodes.length)throw Error("Already dragging a block.");g.Ds=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.pb.setAttribute("width",d);g.pb.setAttribute("height",e);g.pb.appendChild(k);g.pb.appendChild(l);g.pb.style.display=
"block";a.ui.oi(f.x,f.y)}}b.bl=function(){var a=this.Id();return a?a.yb/this.scale:0};b.Wb=function(a){this.Vf=a;if(this.P)if(this.Aa&&this.Aa.ii(a),H(this)&&H(this).ii(a),x(this).style.display=a?"block":"none",this.ua&&this.ua.Wb(a),a){a=F(this,!1);for(var c=a.length-1;0<=c;c--)a[c].vl();this.Ga();this.ua&&this.ua.position()}else h.ac(!0)};b.Ga=function(){for(var a=F(this,!1),c=a.length-1;0<=c;c--)a[c].Ga(!1);if(this.wc)for(a=this.wc.kj(),c=0;c<a.length;c++)a[c].Ga(!1);c=this.sd;c.o.Pc&&c.Kf&&c.o.ub().draw()};
function Cc(a,c){var d=D;if(void 0===c){for(var e=0,f;f=d.il[e];e++)f.Ce(!1);d.il.length=0}if(f=a?d.Jc(a):null)(a=void 0===c||c)?-1==d.il.indexOf(f)&&d.il.push(f):h.g.Ak(d.il,f),f.Ce(a)}
function Dc(a){var c=h.Dk;if(a.pa&&c.tagName&&!(c.getElementsByTagName("block").length>=cb(a)))if(a.wc&&a.wc.cancel(),"comment"==c.tagName.toLowerCase()){h.h.disable();try{h.Si.setValue(c.textContent);var d=void 0;var e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.J&&(e=-e),d.moveBy(e+50,f+50))}finally{h.h.enable()}d.select()}else a:{h.h.disable();try{var g=h.O.hj(c,a),k=a.Kc(h.navigation.gk).$a;if(a.Pc&&k&&k.vj){h.navigation.tx(g,k.oa);break a}var l=
parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),10);if(!isNaN(l)&&!isNaN(m)){a.J&&(l=-l);do{c=!1;var n=F(a,!1);d=0;for(var p;p=n[d];d++){var r=p.Wa();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var t=g.ve(!1);d=0;for(var A;A=t[d];d++)if(A.closest(h.rc,new h.g.S(l,m)).connection){c=!0;break}}c&&(l=a.J?l-h.rc:l+h.rc,m+=2*h.rc)}while(c);g.moveBy(l,m)}}finally{h.h.enable()}h.h.isEnabled()&&!g.Ka&&h.h.Ia(new h.h.qm(g));g.select()}}
function xc(a){(a=a.Uf?a.Ra:a)&&!a.wc&&a.ua&&H(a.ua)&&a.ua.pJ()}b.di=function(a,c){h.bb.B.di.call(this,a,c);xc(this)};b.fj=function(a){h.bb.B.fj.call(this,a);xc(this)};b.se=function(a,c,d){a=h.bb.B.se.call(this,a,c,d);xc(this);return a};function yc(a){a.ow=a.pc&&a.P.parentNode?a.pc.Zk():null;a.nw=a.ka?a.ka.Zk():a.ua&&"function"==typeof a.ua.Zk?a.ua.Zk():null}function wa(a,c){return a.ow&&a.ow.contains(c.clientX,c.clientY)?h.fp:a.nw&&a.nw.contains(c.clientX,c.clientY)?h.Rt:h.Qt}
b.Rg=function(a){var c=this.yg(a);c&&wb(c,a,this)};b.Ys=function(a,c){a=h.g.yl(a,x(this),Na(this));a.x/=this.scale;a.y/=this.scale;this.xw=h.g.S.Rk(c,a)};b.rd=function(){return null!=this.wc&&this.wc.rd()};function Ec(a){return a.options.cc&&a.options.cc.scrollbars||a.options.cc&&a.options.cc.eh||a.options.cc&&a.options.cc.xg||a.options.ab&&a.options.ab.controls||a.options.ab&&a.options.ab.eh||a.options.ab&&a.options.ab.As}
b.Oc=function(){return this.options.cc&&this.options.cc.scrollbars||this.options.cc&&this.options.cc.eh||this.options.cc&&this.options.cc.xg||this.options.ab&&this.options.ab.eh||this.options.ab&&this.options.ab.As};
b.lE=function(a){if(h.lh.Ln())a.preventDefault(),a.stopPropagation();else{var c=this.options.ab&&this.options.ab.eh,d=this.options.cc&&this.options.cc.eh;if(c||d){var e=h.g.Vw(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.yl(a,x(this),Na(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Ua(a){a=[].concat(a.Ho);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=lc(a[0]),d=1;d<a.length;d++){var e=lc(a[d]);e.top<c.top&&(c.top=e.top);e.bottom>c.bottom&&(c.bottom=e.bottom);e.left<c.left&&(c.left=e.left);e.right>c.right&&(c.right=e.right)}return c}b.Ql=function(a){if(!this.options.readOnly&&!this.Uf){var c=ac(h.Ba.Dc.Zb,{A:this});this.ZB&&this.ZB(c,a);h.Ua.show(a,c,this.J)}};
function Ma(a){if(a.options.cd)Ma(a.options.cd);else{h.tl=a;document.activeElement&&document.activeElement.blur();try{x(a).focus({preventScroll:!0})}catch(c){try{x(a).parentNode.setActive()}catch(d){x(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.ab.PE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.ab.wl?d=this.options.ab.wl/this.scale:e<this.options.ab.xl&&(d=this.options.ab.xl/this.scale);var f=this.wb.getCTM(),g=x(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.ab.wl&&a>this.options.ab.wl?a=this.options.ab.wl:this.options.ab.xl&&a<this.options.ab.xl&&(a=this.options.ab.xl);this.scale=a;h.ac(!1);this.ka&&(this.ka.Es(),yc(this));this.Jd&&this.Jd.update(this.scale);a=this.Id();this.scrollX-=a.tc;this.scrollY-=a.Ec;a.Kb+=a.tc;a.Sb+=a.Ec;this.scroll(this.scrollX,this.scrollY);this.Aa&&(this.ka?(Ga(this.Aa.Kd,a),Ha(this.Aa.Zd,a)):(Ja(this.Aa.Kd,a),La(this.Aa.Zd,a)))};
b.scroll=function(a,c){h.ac(!0);var d=this.Id(),e=d.We+d.Gc-d.yb,f=d.Gd+d.vc-d.Jb;a=Math.min(a,-d.Gc);c=Math.min(c,-d.vc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.Aa&&(Da(this.Aa.Kd,-(a+d.Gc)*this.Aa.Kd.ratio),Da(this.Aa.Zd,-(c+d.vc)*this.Aa.Zd.ratio));a+=d.tc;c+=d.Ec;this.translate(a,c)};h.bb.Nw=function(a){var c=0,d=0;a&&(c=a.bl(),d=a.lc);return new h.g.ke(c,d)};h.bb.UC=function(a,c){return Ec(a)?h.bb.TC(a,c):h.bb.Lw(a)};
h.bb.Lw=function(a){var c=Ua(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};h.bb.TC=function(a,c){a=h.bb.Lw(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
h.bb.dD=function(){var a=h.bb.Nw(this.ua),c=h.bb.Nw(this.ka),d=h.iF(x(this)),e={height:d.height,width:d.width};if(this.ua)if(this.hb==h.tk||this.hb==h.Vm)e.height-=a.height;else{if(this.hb==h.le||this.hb==h.rk)e.width-=a.width}else if(this.ka)if(this.hb==h.tk||this.hb==h.Vm)e.height-=c.height;else if(this.hb==h.le||this.hb==h.rk)e.width-=c.width;var f=h.bb.UC(this,e),g=0;this.ua&&this.hb==h.le?g=a.width:this.ka&&this.hb==h.le&&(g=c.width);var k=0;this.ua&&this.hb==h.tk?k=a.height:this.ka&&this.hb==
h.tk&&(k=c.height);return{Gd:f.height,We:f.width,vc:f.top,Gc:f.left,Jb:e.height,yb:e.width,Sb:-this.scrollY,Kb:-this.scrollX,Ec:k,tc:g,KJ:d.height,LJ:d.width,Fy:a.width,MJ:a.height,hb:this.hb,MI:c.width,LI:c.height}};h.bb.YE=function(a){var c=this.Id();"number"==typeof a.x&&(this.scrollX=-c.We*a.x-c.Gc);"number"==typeof a.y&&(this.scrollY=-c.Gd*a.y-c.vc);this.translate(this.scrollX+c.tc,this.scrollY+c.Ec)};b=h.bb.prototype;b.Jc=function(a){return h.bb.B.Jc.call(this,a)};
b.lb=function(a){return h.bb.B.lb.call(this,a)};b.Ym=function(a){this.Ho.push(a);h.bb.B.Ym.call(this,a)};b.Ao=function(a){h.g.Ak(this.Ho,a);h.bb.B.Ao.call(this,a)};b.dc=function(a){var c=!this.Ms&&a;this.Ms=a;c&&Xa(this)};b.clear=function(){this.dc(!1);h.bb.B.clear.call(this);this.Ho=[];this.dc(!0)};function Fc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Cw.CREATE_VARIABLE=c}
function vc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.et[c]=d}b.yg=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.wc;return d?c&&d.Ih?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.wc=new h.Wc(a,this):null};function $b(a){a.wc&&a.wc.cancel()};h.bk=function(a){a.Id=this.jr.bind(this);a.Nl=this.XE.bind(this);this.o=new h.bb(a);this.o.Uf=!0;this.o.Wb(this.Vf);this.J=!!a.J;this.Md=!1;this.ah=a.hb;this.Tq=[];this.ao=[];this.Bk=[];this.Qc=[];this.zs=[];this.Qj=this.o.mb.Z().Um;this.Ra=null};b=h.bk.prototype;b.Vi=!0;b.Vf=!1;b.vh=!0;b.qb=8;b.og=h.bk.prototype.qb;b.iA=3*h.bk.prototype.og;b.jA=3*h.bk.prototype.og;b.Lp=2;b.ib=0;b.lc=0;b.xC=70;
b.Pa=function(a){this.P=h.g.j.K(a,{"class":"blocklyFlyout",style:"display: none"},null);this.nc=h.g.j.K(h.g.D.Le,{"class":"blocklyFlyoutBackground"},this.P);this.P.appendChild(this.o.Pa());this.o.oc.subscribe(this.nc,"flyoutBackgroundColour","fill");this.o.oc.subscribe(this.nc,"flyoutOpacity","fill-opacity");rc(this.o.sd,new h.Cm);return this.P};
b.Ea=function(a){this.Ra=a;this.o.Ra=a;this.Aa=new h.Ma(this.o,this.Md,!1,"blocklyFlyoutScrollbar");this.Ja();Array.prototype.push.apply(this.Tq,h.za(this.P,"wheel",this,this.yF));this.Vi||(this.Dn=this.Uq.bind(this),G(this.Ra,this.Dn));Array.prototype.push.apply(this.Tq,h.za(this.nc,"mousedown",this,this.Rg));this.o.yg=this.Ra.yg.bind(this.Ra);this.o.Us(this.Ra.Oa);a=this.o;a.Fj=new h.Up(a)};
b.H=function(){this.Ja();h.ob(this.Tq);this.Dn&&(gb(this.Ra,this.Dn),this.Dn=null);this.Aa&&(this.Aa.H(),this.Aa=null);this.o&&(this.o.oc.unsubscribe(this.nc),this.o.Ra=null,this.o.H(),this.o=null);this.P&&(h.g.j.removeNode(this.P),this.P=null);this.Ra=this.nc=null};b.bl=function(){return this.ib};b.isVisible=function(){return this.Vf};b.Wb=function(a){var c=a!=this.isVisible();this.Vf=a;c&&this.fm()};b.ii=function(a){var c=a!=this.vh;this.vh=a;c&&this.fm()};
b.fm=function(){var a=this.vh?this.isVisible():!1;this.P.style.display=a?"block":"none";this.Aa.ii(a)};b.Ja=function(){if(this.isVisible()){this.Wb(!1);for(var a=0,c;c=this.Qc[a];a++)h.ob(c);this.Qc.length=0;this.Vg&&(gb(this.o,this.Vg),this.Vg=null)}};
b.show=function(a){this.o.dc(!1);this.Ja();Gc(this);"string"==typeof a&&(a=Hc(this,a));this.Wb(!0);a=h.g.ta.fw(a);a=Ic(this,a);Jc(this,a.cC,a.KC);this.Qc.push(h.za(this.nc,"mouseover",this,function(){for(var c=this.o.lb(!1),d=0,e;e=c[d];d++)e.Hl()}));this.Md?this.lc=0:this.ib=0;this.o.dc(!0);this.Es();this.Uq();this.position();this.Vg=this.Es.bind(this);G(this.o,this.Vg)};
function Ic(a,c){var d=[],e=[];a.zs.length=0;for(var f=a.Md?a.iA:a.jA,g=0,k;k=c[g];g++){if(k.custom){var l=Hc(a,k.custom);l=h.g.ta.fw(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.O.dg(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.O.hj(m,k.o);n.isEnabled()||k.zs.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=Kc(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=Kc(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{cC:d,KC:e}}
function Hc(a,c){c=a.o.Ra.et[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.o.Ra);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function Kc(a,c,d){if(!h.hA)throw Error("Missing require for Blockly.FlyoutButton");return new h.hA(a.o,a.Ra,c,d)}
function Gc(a){for(var c=a.o.lb(!1),d=0,e;e=c[d];d++)e.A==a.o&&e.H(!1,!1);for(d=0;d<a.ao.length;d++)if(c=a.ao[d])h.F.ht(c),h.g.j.removeNode(c);for(d=a.ao.length=0;c=a.Bk[d];d++)c.H();a.Bk.length=0;a.o.Fj.clear()}function Lc(a,c){return function(d){var e=a.Ra.yg(d);e&&(yb(e,c),xb(e,d,a))}}b.Rg=function(a){var c=this.Ra.yg(a);c&&xb(c,a,this)};
function ob(a,c){var d=null;h.h.disable();var e=a.Ra.Eh();a.Ra.dc(!1);try{var f=a.Ra;if(!c.na())throw Error("oldBlock is not rendered.");var g=h.O.Ff(c,!0);f.dc(!1);var k=h.O.hj(g,f);if(!k.na())throw Error("block is not rendered.");var l=h.g.al(f.wb),m=h.g.al(a.o.wb),n=c.Wa();n.scale(a.o.scale);var p=h.g.S.sum(m,n),r=h.g.S.Rk(p,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k}finally{h.h.enable()}h.ac();c=h.ga.Iw(a.Ra,e);if(h.h.isEnabled()){h.h.qa(!0);for(e=0;e<c.length;e++)h.h.Ia(new h.h.Dd(c[e]));h.h.Ia(new h.h.ae(d))}a.Vi?
a.Ja():a.Uq();return d}b.Uq=function(){for(var a=this.o.lb(!1),c=0,d;d=a[c];c++)if(-1==this.zs.indexOf(d))for(var e=db(this.Ra,h.g.$q(d));d;)d.kf(e),d=u(d)};
b.Es=function(){this.Vg&&gb(this.o,this.Vg);this.o.scale=this.Ra.scale;for(var a=0,c=this.o.lb(!1),d=0,e;e=c[d];d++){var f=y(e).width;e.M&&(f-=this.Qj);a=Math.max(a,f)}for(d=0;e=this.Bk[d];d++)a=Math.max(a,e.width);a+=1.5*this.og+this.Qj;a*=this.o.scale;a+=h.Ma.mc;if(this.ib!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Wa().x;var g=a/this.o.scale-this.og;e.M||(g-=this.Qj);e.moveBy(g-f,0)}e.Dw&&(f=e.Dw,g=e,e=y(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Wa(),f.setAttribute("y",
g.y),f.setAttribute("x",this.J?g.x-e.width:g.x))}if(this.J)for(d=0;e=this.Bk[d];d++)c=e.VI().y,e.moveTo(a/this.o.scale-e.width-this.og-this.Qj,c);this.Ra.hb!=this.ah||this.ah!=h.le||this.Ra.ua||this.Ra.translate(this.Ra.scrollX+a,this.Ra.scrollY);this.ib=a;this.position()}this.Vg&&G(this.o,this.Vg)};function sb(a){return a.Aa?a.Aa.isVisible():!1}b.bd=function(a){return this.o.ub().bd(a)};h.X={};h.X.Td=null;h.X.xn=null;h.X.Ae="";h.X.Ee="";h.X.Pa=function(){h.X.eb||(h.X.eb=document.createElement("div"),h.X.eb.className="blocklyWidgetDiv",(h.uo||document.body).appendChild(h.X.eb))};h.X.show=function(a,c,d){h.X.Ja();h.X.Td=a;h.X.xn=d;a=h.X.eb;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.Qf();h.X.Ae=c.mb.ue();h.X.Ee=c.zg().ue();h.g.j.Lb(a,h.X.Ae);h.g.j.Lb(a,h.X.Ee)};
h.X.Ja=function(){if(h.X.isVisible()){h.X.Td=null;var a=h.X.eb;a.style.display="none";a.style.left="";a.style.top="";h.X.xn&&h.X.xn();h.X.xn=null;a.textContent="";h.X.Ae&&(h.g.j.ed(a,h.X.Ae),h.X.Ae="");h.X.Ee&&(h.g.j.ed(a,h.X.Ee),h.X.Ee="");Ma(h.Qf())}};h.X.isVisible=function(){return!!h.X.Td};h.X.hl=function(a){h.X.Td==a&&h.X.Ja()};h.X.Cl=function(a,c,d){h.X.eb.style.left=a+"px";h.X.eb.style.top=c+"px";h.X.eb.style.height=d+"px"};
h.X.rE=function(a,c,d,e){var f=h.X.NB(a,c,d);a=h.X.MB(a,c,d,e);0>f?h.X.Cl(a,0,d.height+f):h.X.Cl(a,f,d.height)};h.X.MB=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.X.NB=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.Df=function(a){h.Df.B.constructor.call(this,a)};h.g.object.Y(h.Df,h.bk);h.Df.sJ="verticalFlyout";b=h.Df.prototype;b.jr=function(){if(!this.isVisible())return null;try{var a=this.o.wb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Lp,d=this.lc-2*this.Lp,e=this.ib;this.J||(e-=this.Lp);return{Gd:a.height*this.o.scale+2*this.og,We:a.width*this.o.scale+2*this.og,vc:a.y,Gc:a.x,Jb:d,yb:e,Sb:-this.o.scrollY+a.y,Kb:-this.o.scrollX,Ec:c,tc:0}};
b.XE=function(a){var c=this.jr();c&&("number"==typeof a.y&&(this.o.scrollY=-c.Gd*a.y),this.o.translate(this.o.scrollX+c.tc,this.o.scrollY+c.Ec))};
b.position=function(){if(this.isVisible()){var a=this.Ra.Id();if(a){this.lc=a.Jb;var c=this.ib-this.qb,d=a.Jb-2*this.qb,e=this.ah==h.rk,f=c+this.qb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.qb,this.qb,0,0,e?0:1,e?-this.qb:this.qb,this.qb);f.push("v",Math.max(0,d));f.push("a",this.qb,this.qb,0,0,e?0:1,e?this.qb:-this.qb,this.qb);f.push("h",e?c:-c);f.push("z");this.nc.setAttribute("d",f.join(" "));c=this.lc;a=this.Ra.hb==this.ah?a.Fy?this.ah==h.le?a.Fy:a.yb-this.ib:this.ah==h.le?0:a.yb:
this.ah==h.le?0:a.yb+a.tc-this.ib;this.P.setAttribute("width",this.ib);this.P.setAttribute("height",c);"svg"==this.P.tagName?h.g.j.Ll(this.P,"translate("+a+"px,0px)"):this.P.setAttribute("transform","translate("+a+",0)");this.Aa&&(this.Aa.ss=new h.g.S(a,0),this.Aa.resize(),this.Aa.setPosition(this.Aa.position.x,this.Aa.position.y))}}};b.qy=function(){this.Aa.set(0)};
b.yF=function(a){var c=h.g.Vw(a);if(c.y){var d=this.jr();c=d.Sb-d.vc+c.y;c=Math.min(c,d.Gd-d.Jb);c=Math.max(c,0);this.Aa.set(c);h.X.Ja();h.C.Kn()}a.preventDefault();a.stopPropagation()};
function Jc(a,c,d){a.o.scale=a.Ra.scale;for(var e=a.og,f=a.J?e:e+a.Qj,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=q(k,!1),m=0,n;n=l[m];m++)n.Nc=!0;k.Ga();n=k.na();l=y(k);m=k.M?f-a.Qj:f;k.moveBy(m,e);var p=a,r=k,t=g;m=h.g.j.K(h.g.D.Cd,{"fill-opacity":0,x:a.J?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Yd=r;h.F.Wi(m);p.o.wb.insertBefore(m,r.na());r.Dw=m;p.ao[t]=m;p=a;p.Qc.push(h.za(n,"mousedown",null,Lc(p,k)));p.Qc.push(h.za(m,"mousedown",null,Lc(p,k)));p.Qc.push(h.jc(n,"mouseenter",
k,k.Xm));p.Qc.push(h.jc(n,"mouseleave",k,k.Hl));p.Qc.push(h.jc(m,"mouseenter",k,k.Xm));p.Qc.push(h.jc(m,"mouseleave",k,k.Hl));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,p=e,r=m.Pa(),m.moveTo(n,p),m.show(),l.Qc.push(h.za(r,"mousedown",l,l.Rg)),l.Bk.push(m),e+=k.button.height+d[g])}b.Zk=function(){if(!this.P)return null;var a=this.P.getBoundingClientRect(),c=a.left;return this.ah==h.le?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};
h.G.register(h.G.ba.fA,h.G.cp,h.Df);h.Gt=function(a){this.Ik=a;this.Pa()};b=h.Gt.prototype;b.pb=null;b.$e=null;b.Ik=null;b.Xg=1;b.Zl=null;b.Pa=function(){this.pb||(this.pb=h.g.j.K(h.g.D.Ni,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.kp,"xmlns:xlink":h.g.j.jd,version:"1.1","class":"blocklyBlockDragSurface"},this.Ik),this.$e=h.g.j.K(h.g.D.Vc,{},this.pb))};function rb(a,c){if(a.$e.childNodes.length)throw Error("Already dragging a block.");a.$e.appendChild(c);a.pb.style.display="block";a.Zl=new h.g.S(0,0)}
b.oi=function(a,c){this.Zl=new h.g.S(a*this.Xg,c*this.Xg);a=this.Zl.x;c=this.Zl.y;a=a.toFixed(0);c=c.toFixed(0);this.pb.style.display="block";h.g.j.Ll(this.pb,"translate3d("+a+"px, "+c+"px, 0px)")};b.pr=function(){var a=h.g.we(this.pb);return new h.g.S(a.x/this.Xg,a.y/this.Xg)};b.Vb=function(){return this.$e};
b.hn=function(a){a?a.appendChild(this.$e.firstChild):this.$e.removeChild(this.$e.firstChild);this.pb.style.display="none";if(this.$e.childNodes.length)throw Error("Drag group was not cleared.");this.Zl=null};h.$d=function(){this.Co=h.$d.lw;this.rj=null;this.od=!1;this.dd=this.sa=null;this.vg=[];this.oq={};this.ww=!1};h.$d.lw=!1;h.$d.Error={xt:"Component already rendered",Ru:"Unable to set parent component",vz:"Child component index out of bounds",Xy:"Unimplemented abstract method"};b=h.$d.prototype;b.Ob=function(){return this.rj||(this.rj=h.g.Di.lr())};
b.Kj=function(a){if(this==a)throw Error(h.$d.Error.Ru);var c;if(c=a&&this.dd&&this.rj)c=(c=this.rj)?this.dd.oq[c]||null:null;if(c&&this.dd!=a)throw Error(h.$d.Error.Ru);this.dd=a};b.getParent=function(){return this.dd};b.Pa=function(){throw Error(h.$d.Error.Xy);};b.Ga=function(a){this.Il(a)};b.Il=function(a){if(this.od)throw Error(h.$d.Error.xt);this.sa||this.Pa();a?a.insertBefore(this.sa,null):document.body.appendChild(this.sa);this.dd&&!this.dd.od||Mc(this)};
function Mc(a){a.od=!0;Nc(a,function(c){!c.od&&c.sa&&Mc(c)})}function Oc(a){Nc(a,function(c){c.od&&Oc(c)});a.od=!1}b.H=function(){this.ww||(this.ww=!0,Pc(this))};function Pc(a){a.od&&Oc(a);Nc(a,function(c){c.H()});a.sa&&h.g.j.removeNode(a.sa);a.vg=null;a.oq=null;a.sa=null;a.dd=null}
b.Vp=function(a){var c=this.vg.length;if(a.od&&!this.od)throw Error(h.$d.Error.xt);if(0>c||c>this.vg.length)throw Error(h.$d.Error.vz);this.oq[a.Ob()]=a;if(a.getParent()==this){var d=this.vg.indexOf(a);-1<d&&this.vg.splice(d,1)}a.Kj(this);this.vg.splice(c,0,a);a.od&&this.od&&a.getParent()==this?(d=this.sa,c=d.childNodes[c]||null,c!=a.sa&&d.insertBefore(a.sa,c)):this.od&&!a.od&&a.sa&&a.sa.parentNode&&a.sa.parentNode.nodeType==h.g.j.yf.ELEMENT_NODE&&Mc(a)};
function Nc(a,c){for(var d=0;d<a.vg.length;d++)c.call(void 0,a.vg[d],d)};h.ce={};h.ce.Cr=!1;h.ce.register=function(a){if(h.ce.Cr)throw Error("CSS already injected");Array.prototype.push.apply(h.ce.ap,a);a.length=0};h.ce.Fg=function(a,c){if(!h.ce.Cr){h.ce.Cr=!0;var d=h.ce.ap.join("\n");h.ce.ap.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.ce.ap=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {",
"height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.C=function(){};h.C.hq=null;h.C.Td=null;h.C.ey=null;h.C.nm=16;h.C.Et=1;h.C.At=12;h.C.Pu=16;h.C.Uo=.25;h.C.Zp=null;h.C.ai=null;h.C.Ae="";h.C.Ee="";
h.C.Pa=function(){if(!h.C.He){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.uo||document.body).appendChild(a);h.C.He=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.Jf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.Ed=c;h.C.He.style.opacity=0;h.C.He.style.transition="transform "+h.C.Uo+"s, opacity "+h.C.Uo+"s";a.addEventListener("focusin",function(){h.g.j.Lb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.ed(a,"blocklyFocused")})}};h.C.TE=function(a){h.C.hq=a};h.C.VC=function(){return h.C.Jf};h.C.UB=function(){h.C.Jf.textContent="";h.C.Jf.style.width=""};h.C.Be=function(a,c){h.C.He.style.backgroundColor=a;h.C.He.style.borderColor=c};h.C.GJ=function(a,c,d,e){return h.C.wy(h.C.Tw(c),a,d,e)};h.C.$E=function(a,c){h.C.ey=!0;h.C.wy(h.C.Uw(a),a,c,void 0)};
h.C.Tw=function(a){var c=a.na(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.Gh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.Uw=function(a){if(a.Nb)c=a.Nb.getBoundingClientRect(),a=h.g.style.Gh(a.Nb),e=c.width,c=c.height;else{var c=y(a.L);var d=a.L.A.scale;a=h.g.style.Gh(Bb(a));var e=c.width*d;c=c.height*d;h.g.userAgent.kA?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.jh||h.g.userAgent.Je||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.wy=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.T();for(var k=e.A;k.options.cd;)k=k.options.cd;h.C.TE(x(k).parentNode);return h.C.show(c,e.J,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.Td=a;h.C.ai=k||null;a=h.C.He;a.style.direction=c?"rtl":"ltr";c=h.Qf();h.C.Ae=c.mb.ue();h.C.Ee=c.zg().ue();h.g.j.Lb(a,h.C.Ae);h.g.j.Lb(a,h.C.Ee);return h.C.Cl(d,e,f,g)};
h.C.OC=function(){var a=h.g.style.Gh(h.C.hq),c=h.g.style.Rf(h.C.hq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.$C=function(a,c,d,e){var f=h.C.OC(),g=h.g.style.Rf(h.C.He);return c+g.height<f.bottom?h.C.Sw(a,c,f,g):e-g.height>f.top?h.C.Rw(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.Sw(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.Rw(d,e,f,g):h.C.aD(a,f,g)};
h.C.Sw=function(a,c,d,e){a=h.C.nr(a,d.left,d.right,e.width);return{Ar:a.gj,Br:c,Vq:a.gj,Wq:c+h.C.Pu,Ti:a.Ti,aq:-(h.C.nm/2+h.C.Et),$m:!0,$p:!0}};h.C.Rw=function(a,c,d,e){a=h.C.nr(a,d.left,d.right,e.width);return{Ar:a.gj,Br:c-e.height,Vq:a.gj,Wq:c-e.height-h.C.Pu,Ti:a.Ti,aq:e.height-2*h.C.Et-h.C.nm/2,$m:!1,$p:!0}};h.C.aD=function(a,c,d){a=h.C.nr(a,c.left,c.right,d.width);return{Ar:a.gj,Br:0,Vq:a.gj,Wq:0,$m:null,Ti:null,aq:null,$p:!1}};
h.C.nr=function(a,c,d,e){var f=a;a=h.g.Pd.Ck(c,a-e/2,d-e);f-=h.C.nm/2;c=h.g.Pd.Ck(h.C.At,f-a,e-h.C.At-h.C.nm);return{Ti:c,gj:a}};h.C.isVisible=function(){return!!h.C.Td};h.C.hl=function(a,c){h.C.Td===a&&(c?h.C.Kn():h.C.Ja())};h.C.Ja=function(){var a=h.C.He;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.Zp=setTimeout(function(){h.C.Kn()},1E3*h.C.Uo);h.C.ai&&(h.C.ai(),h.C.ai=null)};
h.C.Kn=function(){if(h.C.isVisible()){h.C.Zp&&clearTimeout(h.C.Zp);var a=h.C.He;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.ai&&(h.C.ai(),h.C.ai=null);h.C.UB();h.C.Td=null;h.C.Ae&&(h.g.j.ed(a,h.C.Ae),h.C.Ae="");h.C.Ee&&(h.g.j.ed(a,h.C.Ee),h.C.Ee="");Ma(h.Qf())}};
h.C.Cl=function(a,c,d,e){a=h.C.$C(a,c,d,e);a.$p?(h.C.Ed.style.display="",h.C.Ed.style.transform="translate("+a.Ti+"px,"+a.aq+"px) rotate(45deg)",h.C.Ed.setAttribute("class",a.$m?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.Ed.style.display="none";c=Math.floor(a.Ar);d=Math.floor(a.Br);e=Math.floor(a.Vq);var f=Math.floor(a.Wq),g=h.C.He;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.$m};h.C.vJ=function(){if(h.C.Td){var a=h.C.Td,c=a.T();a=h.C.ey?h.C.Uw(a):h.C.Tw(c);c=a.left+(a.right-a.left)/2;h.C.Cl(c,a.bottom,c,a.top)}else h.C.Ja()};h.Fg=function(a,c){h.OB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.hd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Ab.Lj(d,h.g.Ab.State.BA,h.N.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.Kk(d,c);var e=new h.Gt(d),f=new h.Cv(d),g=h.gC(a,c,e,f);h.ya.wa.WE(c.wa);h.wD(g);h.tl=g;h.am(g);d.addEventListener("focusin",function(){h.tl=
g});return g};h.Kk=function(a,c){a.setAttribute("dir","LTR");h.$d.lw=c.J;h.ce.Fg(c.oD,c.xo);a=h.g.j.K(h.g.D.Ni,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.kp,"xmlns:xlink":h.g.j.jd,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.K(h.g.D.Pt,{},a);c.vr=h.mh.Pa(String(Math.random()).substring(2),c.bx,d);return a};
h.gC=function(a,c,d,e){c.cd=null;var f=new h.bb(c,d,e);c=f.options;f.scale=c.ab.gF;a.appendChild(f.Pa("blocklyMainBackground"));h.g.j.Lb(aa(f),f.mb.ue());h.g.j.Lb(aa(f),f.zg().ue());!c.dl&&c.Rh&&(d=Bc(f),h.g.j.tj(d,a));c.jx&&zc(f);c.ab&&c.ab.controls&&Ac(f);f.oc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.Oc()||G(f,function(g){if(!f.rd()&&!f.Oc()&&-1!=h.h.rz.indexOf(g.type)){var k=Object.create(null),l=f.Id(),m=f.scale;k.J=f.J;k.Kb=l.Kb/m;k.Sb=l.Sb/m;
k.Qy=(l.Kb+l.yb)/m;k.Py=(l.Sb+l.Jb)/m;Ec(f)?(l=Ua(f),k.Gc=l.left,k.vc=l.top,k.ew=l.right,k.bw=l.bottom):(k.Gc=l.Gc/m,k.vc=l.vc/m,k.ew=(l.Gc+l.We)/m,k.bw=(l.vc+l.Gd)/m);if(k.vc<k.Sb||k.bw>k.Py||k.Gc<k.Kb||k.ew>k.Qy){l=null;g&&(l=h.h.Vb(),h.h.qa(g.group));switch(g.type){case h.h.Vo:case h.h.Dt:var n=f.Jc(g.kc);n&&(n=n.Lc());break;case h.h.tm:case h.h.um:n=f.nn[g.Te]||null}if(n){m=lc(n);m.height=m.bottom-m.top;m.width=m.right-m.left;var p=k.Sb,r=k.Py-m.height;r=Math.max(p,r);p=h.g.Pd.Ck(p,m.top,r)-m.top;
r=k.Kb;var t=k.Qy-m.width;k.J?r=Math.min(t,r):t=Math.max(r,t);n.moveBy(h.g.Pd.Ck(r,m.left,t)-m.left,p)}g&&(!g.group&&n&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==l&&h.h.qa(l))}}});h.am(f);h.X.Pa();h.C.Pa();h.F.Pa();return f};
h.wD=function(a){var c=a.options,d=x(a);h.za(d.parentNode,"contextmenu",null,function(f){h.g.Un(f)||f.preventDefault()});d=h.za(window,"resize",null,function(){h.ac(!0);h.am(a)});a.Bo=d;h.Fg.IB();if(c.Rh){d=a.ua;var e=H(a,!0);d?d.Ea():e&&(e.Ea(a),e.show(c.Rh),"function"==typeof e.qy&&e.qy())}d=h.Ma.mc;c.jx&&(d=a.pc.Ea(d));c.ab&&c.ab.controls&&a.xi.Ea(d);c.cc&&c.cc.scrollbars?(a.Aa=new h.nk(a),a.Aa.resize()):a.Nl({x:.5,y:.5});c.qD&&h.Fg.KD(c.xo,a)};
h.Fg.IB=function(){h.uC||(h.za(document,"scroll",null,function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)d.gm&&d.gm()}),h.za(document,"keydown",null,h.eE),h.jc(document,"touchend",null,h.Ng),h.jc(document,"touchcancel",null,h.Ng),h.g.userAgent.dk&&h.za(window,"orientationchange",document,function(){h.am(h.Qf())}));h.uC=!0};
h.Fg.KD=function(a,c){function d(){for(;f.length;)h.ob(f.pop());e.preload()}var e=c.Xc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.za(document,"mousemove",null,d,!0));f.push(h.za(document,"touchstart",null,d,!0))};h.Ad=function(a,c){this.Oy=c||"";this.ly=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.ly[a[c]]=!0;this.reset()};h.Ad.gp="DEVELOPER_VARIABLE";h.Ad.prototype.reset=function(){this.Ze=Object.create(null);this.kw=Object.create(null);this.Oa=null};h.Ad.prototype.Us=function(a){this.Oa=a};
function Qc(a,c){var d=h.I.jm;if(c==h.Ri){var e=a;d.Oa?e=(e=d.Oa.Bg(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==h.Ri||c==h.Ad.gp?d.Oy:"";if(e in d.Ze)return f+d.Ze[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=
"0123456789".indexOf(a[0])&&(a="my_"+a)):a=h.N.UNNAMED_KEY||"unnamed";for(var g="";d.kw[a+g]||a+g in d.ly;)g=g?g+1:2;a+=g;d.kw[a]=!0;c=(c==h.Ri||c==h.Ad.gp?d.Oy:"")+a;d.Ze[e]=c.substr(f.length);return c}h.Ad.Nf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Za={};h.Za.Du=h.Tu;h.Za.Hz="x";h.Za.FB=function(a){var c=bb(a,"procedures_defnoreturn").map(function(d){return d.lj()});a=bb(a,"procedures_defreturn").map(function(d){return d.lj()});c.sort(h.Za.gy);a.sort(h.Za.gy);return[c,a]};h.Za.gy=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.Za.EC=function(a,c){if(c.Nc)return a;for(a=a||h.N.UNNAMED_KEY||"unnamed";!h.Za.CD(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Za.CD=function(a,c,d){return!h.Za.ED(a,c,d)};h.Za.ED=function(a,c,d){c=F(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].lj){var f=c[e].lj();if(h.Ad.Nf(f[0],a))return!0}return!1};h.Za.uJ=function(a){a=a.trim();var c=h.Za.EC(a,this.T()),d=this.getValue();if(d!=a&&d!=c){a=F(this.T().A,!1);for(var e=0;e<a.length;e++)a[e].LE&&a[e].LE(d,c)}return c};
h.Za.Dh=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],p=h.g.xml.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);p.appendChild(r);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(p)}}var d=[];if(h.qc.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.N.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.qc.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.N.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.qc.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Za.FB(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Za.Jy=function(a){for(var c=[],d=bb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push($a(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.ga.Hw(h.Za.Hz,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.ta.gw(d)){if(!a.options.Rh)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.ta.dl(c)){if(!a.ua)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Rh=c;a.ua.Ga(c)}else{if(!a.ka)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Rh=c;a.ka.show(c)}}else if(a.options.Rh)throw Error("Can't nullify an existing toolbox.");};h.Za.XD=function(a){if(a.type==h.h.vk&&"mutatorOpen"==a.element&&a.newValue){a=h.rb.Yk(a.xb).Jc(a.kc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.ze.o,h.Za.Jy(a),G(a,h.Za.WD)}};h.Za.WD=function(a){a.type!=h.h.Vo&&a.type!=h.h.Ct&&a.type!=h.h.oz||h.Za.Jy(h.rb.Yk(a.xb))};
h.Za.PC=function(a,c){var d=[];c=F(c,!1);for(var e=0;e<c.length;e++)if(c[e].bD){var f=c[e].bD();f&&h.Ad.Nf(f,a)&&d.push(c[e])}return d};h.Za.mJ=function(a){var c=h.h.Eb,d=a.lj()[0],e=a.Rd(!0);a=h.Za.PC(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.Rd();g=g&&h.O.te(g);f.Mf(e);var k=f.Rd();k=k&&h.O.te(k);g!=k&&(h.h.Eb=!1,h.h.Ia(new h.h.yi(f,"mutation",null,g,k)),h.h.Eb=c)}};h.Za.QI=function(a,c){c=c.lb(!1);for(var d=0;d<c.length;d++)if(c[d].lj){var e=c[d].lj();if(e&&h.Ad.Nf(e[0],a))return c[d]}return null};h.Wm=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.rj=e||h.g.Pf();h.h.Ia(new h.h.Dd(this))};h.Wm.prototype.Ob=function(){return this.rj};h.Wm.XB=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.ga={};h.ga.Du=h.Ri;h.ga.Kv=function(a){var c=F(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=Ya(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.Ob();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.ga.wt={};
h.ga.DB=function(a){a=F(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.RI;!f&&e.WC&&(f=e.WC,h.ga.wt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.ga.wt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.ga.Dh=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Fc(a,function(e){h.ga.iw(e.XI())});c.push(d);a=h.ga.HC(a);return c=c.concat(a)};
h.ga.HC=function(a){a=a.In("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.qc.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.qc.math_change?8:24);e.appendChild(h.ga.Yq(d));c.push(e)}h.qc.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.qc.variables_get?20:8),e.appendChild(h.ga.Yq(d)),d=h.O.dg('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.qc.variables_get){a.sort(h.Wm.XB);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.ga.Yq(f)),c.push(e)}}return c};h.ga.tv="ijkmnopqrstuvwxyzabcdefgh";h.ga.LC=function(a){return h.ga.Hw(h.ga.tv.charAt(0),a.Zq())};
h.ga.Hw=function(a,c){if(!c.length)return a;for(var d=h.ga.tv,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.ga.iw=function(a,c,d){function e(g){h.ga.iy(h.N.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.ga.ZD(k,a);if(l){if(l.type==f)var m=h.N.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.N.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.se(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.ga.se=h.ga.iw;
h.ga.jy=function(a,c){function d(e){var f=h.N.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.ga.iy(f,e,function(g){if(g){var k=h.ga.$D(g,c.type,a);k?(k=h.N.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.di(c.Ob(),g)}})}d("")};h.ga.iy=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.N.RENAME_VARIABLE||e==h.N.NEW_VARIABLE)&&(e=null);d(e)})};
h.ga.$D=function(a,c,d){d=d.Oa.Eh();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.ga.ZD=function(a,c){c=c.Oa.Eh();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.ga.Yq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.Ob());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.ga.UI=function(a,c,d,e){var f=h.ga.Ag(a,c,d,e);f||(f=h.ga.hC(a,c,d,e));return f};h.ga.Ag=function(a,c,d,e){var f=a.Fj,g=null;if(c&&(g=a.Bg(c),!g&&f&&(g=f.Bg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Ag(d,e);!g&&f&&(g=f.Ag(d,e))}return g};h.ga.hC=function(a,c,d,e){var f=a.Fj;d||(d=h.ga.LC(a.Uf?a.Ra:a));return f?f.se(d,e,c):a.se(d,e,c)};
h.ga.Iw=function(a,c){a=a.Eh();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.tl=null;h.selected=null;h.ij=[];h.Dk=null;h.kn=null;h.pq=null;h.AI=null;h.uo=null;h.iF=function(a){return new h.g.ke(a.Ov,a.Nv)};h.wJ=function(a){Xa(a)};h.am=function(a){for(;a.options.cd;)a=a.options.cd;var c=x(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Ov!=e&&(c.setAttribute("width",e+"px"),c.Ov=e);c.Nv!=d&&(c.setAttribute("height",d+"px"),c.Nv=d);a.resize()}};
h.eE=function(a){var c=h.tl;if(c&&!(h.g.Un(a)||c.pa&&!c.isVisible()))if(c.options.readOnly)h.navigation.Rx(a);else{var d=!1;if(a.keyCode==h.g.Va.Wt)h.ac(),h.navigation.bd(h.navigation.Oo);else{if(!h.lh.Ln()&&h.navigation.Rx(a))return;if(a.keyCode==h.g.Va.mz||a.keyCode==h.g.Va.Xj){a.preventDefault();if(h.lh.Ln())return;h.selected&&h.selected.qd()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(h.lh.Ln())return;h.selected&&h.selected.qd()&&h.selected.Oc()&&(a.keyCode==h.g.Va.uz?(h.ac(),h.uq(h.selected)):
a.keyCode!=h.g.Va.Dv||h.selected.A.Uf||(h.uq(h.selected),d=!0));a.keyCode==h.g.Va.rB?h.Dk&&(a=h.kn,a.Uf&&(a=a.Ra),h.pq&&db(a,h.pq)&&(h.h.qa(!0),Dc(a),h.h.qa(!1))):a.keyCode==h.g.Va.yB?(h.ac(),fb(c,a.shiftKey)):a.ctrlKey&&a.keyCode==h.g.Va.wB&&(h.ac(),fb(c,!0))}}d&&!h.selected.A.Uf&&(h.h.qa(!0),h.ac(),h.selected.H(!0,!0),h.h.qa(!1))}};
h.uq=function(a){if(a.yj)a=null;else{var c=h.O.Ff(a,!0);h.O.mC(c);var d=a.Wa();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.A,tF:h.g.$q(a,!0)}}a&&(h.Dk=a.xml,h.kn=a.source,h.pq=a.tF)};h.duplicate=function(a){var c=h.Dk,d=h.kn;h.uq(a);Dc(a.A);h.Dk=c;h.kn=d};h.nJ=function(a){h.g.Un(a)||a.preventDefault()};h.ac=function(a){h.F.Ja();h.X.Ja();h.C.Kn();if(!a){a=h.Qf();if(a.pc&&a.pc.Of){var c=a.pc;c.Of.isVisible()&&(c.Of.Ja(),Qb(c,!1))}(a=a.ua)&&H(a)&&H(a).Vi&&a.CI()}};
h.Qf=function(){return h.tl};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.ID=function(a){return function(){Xb(this,a)}};
h.HI=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.qc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.qc[e]={Ea:h.ID(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
h.za=function(a,c,d,e,f,g){function k(t){var A=!f;t=h.Touch.dF(t);for(var ha=0,ka;ka=t[ha];ha++)if(!A||h.Touch.Ws(ka))h.Touch.UE(ka),d?e.call(d,ka):e(ka),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.Oe)for(var n=0,p;p=h.Touch.Oe[c][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.Oe){var r=function(t){k(t);var A=!g;l&&A&&t.preventDefault()};for(n=0;p=h.Touch.Oe[c][n];n++)a.addEventListener(p,r,!1),m.push([a,p,r])}return m};
h.jc=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.Oe)for(var k=0,l;l=h.Touch.Oe[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.Oe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.Oe[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.ob=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};h.FD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.$I=function(a){return h.g.tb.px(a)};
h.OB=function(){h.uc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.uc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.uc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.uc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.uc("MATH_HUE",["Blocks","math","HUE"],void 0);h.uc("MATH_HUE",["Constants","Math","HUE"],230);h.uc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.uc("TEXTS_HUE",["Constants","Text","HUE"],160);h.uc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.uc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.uc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.uc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.uc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.uc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.uc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.uc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.uc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.FJ=function(a){h.uo=a};var Rc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Sc="ace ar fa he mzn ps ur".split(" "),L=window.BlocklyGamesLang,Tc=window.BlocklyGamesLanguages,Uc=/\.html$/.test(window.location.pathname);function Vc(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:h.g.Pd.Ck(c,e,d)}var M=Vc("level",1,10);
function Wc(){document.title=document.getElementById("title").textContent;document.dir=-1!=Sc.indexOf(L)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",L);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Tc.length;d++){var e=Tc[d];c.push([Rc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==L&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Xc(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Yc,1)}function Xc(a){var c=Zc;try{var d=window.localStorage[c+a]}catch(e){}return d}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function $c(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Yc(){if(!Uc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.g.u={};h.g.u.Fa=function(a,c){return" "+a+","+c+" "};h.g.u.curve=function(a,c){return" "+a+c.join("")};h.g.u.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.u.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.u.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.u.line=function(a){return" l"+a.join("")};h.g.u.V=function(a,c){return" "+a+" "+c+" "};h.g.u.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.uf=function(){this.Ke=0;this.cB=3;this.yd=5;this.xu=8;this.Cc=10;this.mv=this.yd;this.pk=15;this.Pi=5;this.Um=8;this.PA=15;this.Fu=4;this.MA=12;this.Pz=16;this.Oz=this.Tt=this.pk;this.qb=8;this.jB=this.kk=15;this.iB=0;this.hv=20;this.nz=4;this.nB=this.yd;this.oB=this.Cc;this.qz=this.yd;this.pz=this.Cc;this.km=!1;this.gB=15;this.hB=100;this.fB=15;this.hk=24;this.Rz=14.5;this.Qz=this.pk+11;this.Uz=2;this.Sz=this.hk;this.fv=h.g.u.moveBy(0,0);this.xA=12;this.yA=6;this.kh=11;this.mg="normal";this.lg=
"sans-serif";this.au=this.Bm=-1;this.Am=4;this.Yt=16;this.Zj=5;this.aA="#fff";this.jp=!h.g.userAgent.Je&&!h.g.userAgent.jh;this.Zt=this.Yt;this.cA=this.bA=this.$t=!1;this.eA=this.Zj;this.$j=12;this.dA="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.Fl=String(Math.random()).substring(2);this.Bn="";this.Sq=null;this.tw="";this.Ok=this.yq=this.Eq=null;this.wm="#cc0a0a";this.Hm="#4286f4";this.ym=100;this.zv=5;this.xm=10;this.Dz=2;this.Fz=4;this.qp="#000000";this.Em=.2;this.ev={YA:1,Hi:2}};b=h.i.uf.prototype;
b.Ea=function(){this.Fi=this.Qr();this.Hi=this.Rr();this.Mi=this.Tr();this.Fp=this.Sr();var a=this.qb,c=h.g.u.arc("a","0 0,0",a,h.g.u.Fa(-a,a)),d=h.g.u.arc("a","0 0,0",a,h.g.u.Fa(a,a));this.Fm={width:a,height:a,xs:c,wo:d};a=this.qb;c=h.g.u.moveBy(0,a)+h.g.u.arc("a","0 0,1",a,h.g.u.Fa(a,-a));d=h.g.u.arc("a","0 0,1",a,h.g.u.Fa(a,a));var e=h.g.u.arc("a","0 0,1",a,h.g.u.Fa(-a,-a)),f=h.g.u.arc("a","0 0,1",a,h.g.u.Fa(-a,a));this.lk={ft:c,qF:d,JB:f,gq:e,OE:a}};
b.Pl=function(a){this.sg={};var c=a.sg,d;for(d in c)this.sg[d]=ad(c[d]);this.lg=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.lg;this.mg=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.mg;this.kh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.kh;c=h.g.j.ND(this.kh+"pt",this.mg,this.lg);this.Bm=c.height;this.au=c.ne;this.wm=Ta(a,"cursorColour")||this.wm;this.Hm=Ta(a,"markerColour")||this.Hm;this.qp=Ta(a,"insertionMarkerColour")||this.qp;this.Em=Number(Ta(a,
"insertionMarkerOpacity"))||this.Em;this.km=null!=a.Zs?a.Zs:this.km};function nc(a,c){var d="auto_"+c;a.sg[d]||(a.sg[d]=ad({colourPrimary:c}));return{style:a.sg[d],name:d}}function kc(a,c){return a.sg[c||""]||(c&&0==c.indexOf("auto_")?nc(a,c.substring(5)).style:ad({colourPrimary:"#000000"}))}
function ad(a){var c={};a&&h.g.object.Yf(c,a);a=h.g.vo(c.colourPrimary||"#000");c.uh=a.fl;c.colourSecondary?a=h.g.vo(c.colourSecondary).fl:(a=c.uh,a=h.g.tb.cq("#fff",a,.6)||a);c.mn=a;c.colourTertiary?a=h.g.vo(c.colourTertiary).fl:(a=c.uh,a=h.g.tb.cq("#fff",a,.3)||a);c.Zi=a;c.cf=c.hat||"";return c}b.H=function(){this.Sq&&h.g.j.removeNode(this.Sq);this.Eq&&h.g.j.removeNode(this.Eq);this.yq&&h.g.j.removeNode(this.yq);this.Ok=null};
b.Qr=function(){var a=this.xA,c=this.yA,d=h.g.u.line([h.g.u.Fa(c,a/4),h.g.u.Fa(2*-c,a/2),h.g.u.Fa(c,a/4)]);return{height:a,width:c,path:d}};b.Tr=function(){var a=this.gB,c=this.hB,d=h.g.u.curve("c",[h.g.u.Fa(30,-a),h.g.u.Fa(70,-a),h.g.u.Fa(c,0)]);return{height:a,width:c,path:d}};
b.Sr=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.u.Fa(c,g*l);return h.g.u.curve("c",[h.g.u.Fa(0,g*(l+2.5)),h.g.u.Fa(-c,k*(l+.5)),h.g.u.Fa(-c,g*l)])+h.g.u.curve("s",[h.g.u.Fa(c,2.5*k),m])}var c=this.Um,d=this.pk,e=a(!0),f=a(!1);return{type:this.ev.YA,width:c,height:d,Ud:f,Al:e}};b.Rr=function(){function a(k){return h.g.u.line([h.g.u.Fa(k*e,d),h.g.u.Fa(3*k,0),h.g.u.Fa(k*e,-d)])}var c=this.PA,d=this.Fu,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.ev.Hi,width:c,height:d,Ug:f,Wx:g}};
function sa(a,c){switch(c.type){case h.jb:case h.ge:return a.Fp;case h.ie:case h.Sa:return a.Hi;default:throw Error("Unknown connection type");}}
b.Pa=function(a,c,d){d=this.cr(d);c="blockly-renderer-style-"+c;this.Ok=document.getElementById(c);var e=d.join("\n");this.Ok?this.Ok.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.Ok=d);a=h.g.j.K(h.g.D.Pt,{},a);c=h.g.j.K(h.g.D.bu,{id:"blocklyEmbossFilter"+this.Fl},a);h.g.j.K(h.g.D.Yz,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.K(h.g.D.$z,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.K(h.g.D.Zz,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.K(h.g.D.ip,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.K(h.g.D.ip,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Bn=c.id;this.Sq=c;c=h.g.j.K(h.g.D.Su,{id:"blocklyDisabledPattern"+this.Fl,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.K(h.g.D.Cd,{width:10,height:10,fill:"#aaa"},c);h.g.j.K(h.g.D.Le,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},c);this.tw=c.id;this.Eq=c;h.i.Ut&&(a=h.g.j.K(h.g.D.bu,{id:"blocklyDebugFilter"+this.Fl,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),c=h.g.j.K(h.g.D.Vz,{result:"outBlur"},a),h.g.j.K(h.g.D.Xz,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c),h.g.j.K(h.g.D.Wz,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),h.g.j.K(h.g.D.ip,{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.yq=a)};
b.cr=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.mg+" "+this.kh+"pt "+this.lg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.aA+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.lg+";","font-weight: "+this.mg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Em+
";","stroke: none;","}"]};h.i.xf=function(a,c,d){this.o=a;this.Wr=d;this.dd=null;this.s=c;this.dj=null;a=bd(this)?this.s.wm:this.s.Hm;this.Fd=d.tb||a};h.i.xf.Ez="blocklyCursor";h.i.xf.HA="blocklyMarker";h.i.xf.mA=.75;b=h.i.xf.prototype;b.na=function(){return this.P};b.Kc=function(){return this.Wr};function bd(a){return"cursor"==a.Wr.type}
b.Pa=function(){this.P=h.g.j.K(h.g.D.Vc,{"class":bd(this)?h.i.xf.Ez:h.i.xf.HA},null);this.Xf=h.g.j.K(h.g.D.Vc,{width:this.s.ym,height:this.s.zv},this.P);this.Og=h.g.j.K(h.g.D.Cd,{width:this.s.ym,height:this.s.zv,style:"display: none"},this.Xf);this.Vh=h.g.j.K(h.g.D.Cd,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Xf);this.Uh=h.g.j.K(h.g.D.Le,{transform:"",style:"display: none"},this.Xf);this.Wf=h.g.j.K(h.g.D.Le,{transform:"",style:"display: none",fill:"none","stroke-width":this.s.Fz},
this.Xf);if(bd(this)){var a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Fd+";transparent;transparent;",repeatCount:"indefinite"};h.g.j.K(h.g.D.To,a,this.Og);h.g.j.K(h.g.D.To,a,this.Uh);a.attributeName="stroke";h.g.j.K(h.g.D.To,a,this.Wf)}return this.P};function cd(a,c){bd(a)?(a.dd&&a.dd.$f(null),c.$f(a.na())):(a.dd&&a.dd.ag(null),c.ag(a.na()));a.dd=c}
b.draw=function(a,c){if(c){this.s=this.o.mb.Z();var d=bd(this)?this.s.wm:this.s.Hm;this.Fd=this.Wr.tb||d;this.Og.setAttribute("fill",this.Fd);this.Vh.setAttribute("stroke",this.Fd);this.Uh.setAttribute("fill",this.Fd);this.Wf.setAttribute("stroke",this.Fd);bd(this)&&(d=this.Fd+";transparent;transparent;",this.Og.firstChild.setAttribute("values",d),this.Uh.firstChild.setAttribute("values",d),this.Wf.firstChild.setAttribute("values",d));d=c.oa;if(c.Xa()==h.v.types.zb)dd(this,c);else if(c.Xa()==h.v.types.oh)dd(this,
c);else if(d.type==h.jb){var e=c.oa;d=e.T();var f=e.$h.x,g=e.$h.y;e=h.g.u.moveTo(0,0)+sa(this.s,e).Ud;this.Uh.setAttribute("d",e);this.Uh.setAttribute("transform","translate("+f+","+g+")"+(this.o.J?" scale(-1 1)":""));this.dj=this.Uh;cd(this,d);ed(this)}else if(d.type==h.Sa)g=c.oa,d=g.T(),f=0,g=g.$h.y,e=y(d).width,this.o.J&&(f=-e),fd(this,f,g,e),cd(this,d),ed(this);else if(c.Xa()==h.v.types.Bd)dd(this,c);else if(c.Xa()==h.v.types.Tb)d=c.oa,f=d.Rf().width,g=d.Rf().height,gd(this,0,0,f,g),cd(this,d),
ed(this);else if(c.Xa()==h.v.types.Zb)f=c.No,d=f.x,f=f.y,this.o.J&&(d-=this.s.ym),fd(this,d,f,this.s.ym),cd(this,this.o),ed(this);else if(c.Xa()==h.v.types.Ne){d=c.oa;g=y(d);f=g.width+this.s.xm;g=g.height+this.s.xm;var k=e=-this.s.xm/2,l=-this.s.xm/2;this.o.J&&(k=-(f+e));gd(this,k,l,f,g);cd(this,d);ed(this)}d=c.T();a=new h.h.Yb(d,bd(this)?"cursorMove":"markerMove",a,c);c.Xa()==h.v.types.Zb&&(a.xb=c.oa.id);h.h.Ia(a);c=this.dj.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Ja()};
function dd(a,c){c=c.T();var d=c.width,e=c.height,f=e*h.i.xf.mA,g=a.s.Dz;if(c.U){var k=sa(a.s,c.U);e=k;d=h.g.u.moveBy(-g,f)+h.g.u.V("V",-g)+h.g.u.V("H",a.s.kk)+e.Ug+h.g.u.V("H",d+2*g)+h.g.u.V("V",f);a.Wf.setAttribute("d",d)}else c.M?(f=k=sa(a.s,c.M),d=h.g.u.moveBy(d,0)+h.g.u.V("h",-(d-f.width))+h.g.u.V("v",a.s.Pi)+f.Ud+h.g.u.V("V",e)+h.g.u.V("H",d),a.Wf.setAttribute("d",d)):(d=h.g.u.moveBy(-g,f)+h.g.u.V("V",-g)+h.g.u.V("H",d+2*g)+h.g.u.V("V",f),a.Wf.setAttribute("d",d));a.o.J&&a.Xk(a.Wf);a.dj=a.Wf;
cd(a,c);ed(a)}function ed(a){a.Ja();a.dj.style.display=""}function fd(a,c,d,e){a.Og.setAttribute("x",c);a.Og.setAttribute("y",d);a.Og.setAttribute("width",e);a.dj=a.Og}function gd(a,c,d,e,f){a.Vh.setAttribute("x",c);a.Vh.setAttribute("y",d);a.Vh.setAttribute("width",e);a.Vh.setAttribute("height",f);a.dj=a.Vh}b.Xk=function(a){a.setAttribute("transform","scale(-1 1)")};b.Ja=function(){this.Og.style.display="none";this.Vh.style.display="none";this.Uh.style.display="none";this.Wf.style.display="none"};
b.H=function(){this.P&&h.g.j.removeNode(this.P)};h.i.m={NONE:0,Tb:1,fu:2,ju:4,Mp:8,Bt:16,nu:32,Xt:64,xd:128,lu:256,gv:512,zz:1024,Ep:2048,Ap:4096,TA:8192,bp:16384,vp:32768,up:65536,Jp:131072,Ip:262144,su:524288,Kp:1048576,Sp:2097152,Wo:4194304,mu:8388608};h.i.m.GG=h.i.m.vp|h.i.m.up;h.i.m.YH=h.i.m.Jp|h.i.m.Ip;h.i.m.js=16777216;h.i.m.Xa=function(){Object.prototype.hasOwnProperty.call(h.i.m,void 0)||(h.i.m[void 0]=h.i.m.js,h.i.m.js<<=1);return h.i.m[void 0]};h.i.m.Tf=function(a){return a.type&h.i.m.Tb};h.i.m.Ph=function(a){return a.type&h.i.m.fu};
h.i.m.wj=function(a){return a.type&h.i.m.ju};h.i.m.Od=function(a){return a.type&h.i.m.Mp};h.i.m.eJ=function(a){return a.type&h.i.m.nu};h.i.m.Ig=function(a){return a.type&h.i.m.xd};h.i.m.ml=function(a){return a.type&h.i.m.Xt};h.i.m.Hg=function(a){return a.type&h.i.m.lu};h.i.m.Qh=function(a){return a.type&h.i.m.gv};h.i.m.Aj=function(a){return a.type&h.i.m.Ep};h.i.m.Kg=function(a){return a.type&h.i.m.Ap};h.i.m.GD=function(a){return a.type&(h.i.m.Ep|h.i.m.Ap)};h.i.m.Jg=function(a){return a.type&h.i.m.up};
h.i.m.xx=function(a){return a.type&h.i.m.Ip};h.i.m.ol=function(a){return a.type&h.i.m.vp};h.i.m.fJ=function(a){return a.type&h.i.m.Jp};h.i.m.dJ=function(a){return a.type&h.i.m.bp};h.i.m.vx=function(a){return a.type&h.i.m.su};h.i.m.hJ=function(a){return a.type&h.i.m.Kp};h.i.m.aJ=function(a){return a.type&h.i.m.Bt};h.i.m.Vn=function(a){return a.type&h.i.m.Sp};h.i.m.On=function(a){return a.type&h.i.m.Wo};h.i.m.HD=function(a){return a.type&(h.i.m.Sp|h.i.m.Wo)};h.i.m.BD=function(a){return a.type&h.i.m.mu};h.i.pg=function(a){this.height=this.width=0;this.type=h.i.m.NONE;this.Yi=this.Ha=0;this.s=a;this.Sd=this.s.kk};h.i.ca=function(a,c){h.i.ca.B.constructor.call(this,a);this.Fc=c;this.shape=sa(this.s,c);this.Oh=!!this.shape.isDynamic;this.type|=h.i.m.zz};h.g.object.Y(h.i.ca,h.i.pg);h.i.Dp=function(a,c){h.i.Dp.B.constructor.call(this,a,c);this.type|=h.i.m.TA;this.height=this.Oh?0:this.shape.height;this.Xd=this.width=this.Oh?0:this.shape.width;this.md=this.s.Pi;this.Hk=0};h.g.object.Y(h.i.Dp,h.i.ca);
h.i.Gp=function(a,c){h.i.Gp.B.constructor.call(this,a,c);this.type|=h.i.m.Ep;this.height=this.shape.height;this.width=this.shape.width};h.g.object.Y(h.i.Gp,h.i.ca);h.i.Bp=function(a,c){h.i.Bp.B.constructor.call(this,a,c);this.type|=h.i.m.Ap;this.height=this.shape.height;this.width=this.shape.width};h.g.object.Y(h.i.Bp,h.i.ca);h.i.ek=function(a,c){h.i.ek.B.constructor.call(this,a,c.connection);this.type|=h.i.m.xd;this.input=c;this.align=c.align;(this.wg=c.connection&&c.connection.ra()?c.connection.ra():null)?(a=y(this.wg),this.Fk=a.width,this.on=a.height):this.on=this.Fk=0;this.md=this.Hk=0};h.g.object.Y(h.i.ek,h.i.ca);
h.i.ng=function(a,c){h.i.ng.B.constructor.call(this,a,c);this.type|=h.i.m.lu;this.wg?(this.width=this.Fk,this.height=this.on):(this.height=this.s.Qz,this.width=this.s.Rz);this.$i=this.Oh?this.shape.height(this.height):this.shape.height;this.Ve=this.Oh?this.shape.width(this.height):this.shape.width;this.wg||(this.width+=this.Ve*(this.Oh?2:1));this.md=this.Oh?this.shape.md(this.$i):this.s.Pi;this.Hk=this.Oh?this.shape.Hk(this.Ve):0};h.g.object.Y(h.i.ng,h.i.ek);
h.i.rg=function(a,c){h.i.rg.B.constructor.call(this,a,c);this.type|=h.i.m.gv;this.height=this.wg?this.on+this.s.iB:this.s.Sz;this.width=this.s.jB+this.shape.width};h.g.object.Y(h.i.rg,h.i.ek);h.i.zm=function(a,c){h.i.zm.B.constructor.call(this,a,c);this.type|=h.i.m.Xt;this.height=this.wg?this.on-this.s.Pi-this.s.yd:this.shape.height;this.width=this.shape.width+this.s.Uz;this.md=this.s.Pi;this.$i=this.shape.height;this.Ve=this.shape.width};h.g.object.Y(h.i.zm,h.i.ek);h.i.rp=function(a,c){h.i.rp.B.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.m.ju;a=c.OI();this.height=a.height;this.width=a.width};h.g.object.Y(h.i.rp,h.i.pg);h.i.sp=function(a){h.i.sp.B.constructor.call(this,a);this.type|=h.i.m.su;this.height=this.s.Fi.height;this.width=this.s.Fi.width};h.g.object.Y(h.i.sp,h.i.pg);
h.i.wd=function(a,c){h.i.wd.B.constructor.call(this,a);this.Aw=c;this.Nd=c.Yj;this.GC=c.Pw();this.type|=h.i.m.Tb;a=this.Aw.Rf();this.height=a.height;this.width=a.width};h.g.object.Y(h.i.wd,h.i.pg);h.i.lp=function(a){h.i.lp.B.constructor.call(this,a);this.type|=h.i.m.fu;this.height=this.s.Mi.height;this.width=this.s.Mi.width;this.Ui=this.height};h.g.object.Y(h.i.lp,h.i.pg);
h.i.Oi=function(a,c){h.i.Oi.B.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Jp:h.i.m.vp)|h.i.m.bp;this.width=this.height=this.s.Ke};h.g.object.Y(h.i.Oi,h.i.pg);h.i.Om=function(a,c){h.i.Om.B.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Ip:h.i.m.up)|h.i.m.bp;this.width=this.s.qb;this.height=this.s.qb/2};h.g.object.Y(h.i.Om,h.i.pg);h.i.wf=function(a,c){h.i.wf.B.constructor.call(this,a);this.type=this.type|h.i.m.Mp|h.i.m.nu;this.width=c;this.height=this.s.fB};h.g.object.Y(h.i.wf,h.i.pg);h.i.ph=function(a){this.type=h.i.m.Kp;this.elements=[];this.Ha=this.Xb=this.Fe=this.minWidth=this.minHeight=this.width=this.height=0;this.hx=this.pj=this.xr=this.Pb=this.Dg=!1;this.s=a;this.Sd=this.s.kk;this.align=null};h.i.ph.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function O(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.m.Ig(d))return d;return null}h.i.ph.prototype.Fo=function(){return!0};h.i.ph.prototype.Tk=function(){return!0};
h.i.rh=function(a){h.i.rh.B.constructor.call(this,a);this.type|=h.i.m.Sp;this.Ui=this.Gf=0;this.pD=!1;this.connection=null};h.g.object.Y(h.i.rh,h.i.ph);h.i.rh.prototype.yr=function(a){var c=(a.cf?"cap"===a.cf:this.s.km)&&!a.M&&!a.U,d=a.U&&a.U.ra();return!!a.M||c||(d?u(d)==a:!1)};
h.i.rh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.Od(f)||(h.i.m.Ph(f)?d=Math.max(d,f.Ui):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Gf=this.Ui=d;this.Fe=this.width};h.i.rh.prototype.Fo=function(){return!1};h.i.rh.prototype.Tk=function(){return!1};h.i.hh=function(a){h.i.hh.B.constructor.call(this,a);this.type|=h.i.m.Wo;this.ix=!1;this.connection=null;this.ne=this.Qk=0};
h.g.object.Y(h.i.hh,h.i.ph);h.i.hh.prototype.yr=function(a){return!!a.M||!!u(a)};h.i.hh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.Od(f)||(h.i.m.Kg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Qk=d;this.Fe=this.width};h.i.hh.prototype.Fo=function(){return!1};h.i.hh.prototype.Tk=function(){return!1};
h.i.Tm=function(a,c,d){h.i.Tm.B.constructor.call(this,a);this.type=this.type|h.i.m.Mp|h.i.m.Bt;this.width=d;this.height=c;this.Gw=!1;this.Fe=0;this.elements=[new h.i.wf(this.s,d)]};h.g.object.Y(h.i.Tm,h.i.ph);h.i.Tm.prototype.measure=function(){};h.i.Ei=function(a){h.i.Ei.B.constructor.call(this,a);this.type|=h.i.m.mu;this.Zv=0};h.g.object.Y(h.i.Ei,h.i.ph);
h.i.Ei.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.m.Ig(d)&&(h.i.m.Qh(d)?a+=d.Fk:h.i.m.ml(d)&&0!=d.Fk&&(a+=d.Fk-d.Ve)),h.i.m.Od(d)||(this.height=Math.max(this.height,d.height));this.Zv=a;this.Fe=this.width+a};h.i.Ei.prototype.Tk=function(){return!this.Dg&&!this.Pb};h.i.je=function(a,c){this.Da=c;this.mb=a;this.s=this.mb.Z();this.M=c.M?new h.i.Dp(this.s,c.M):null;this.xj=ta(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.xe=c.xe();this.J=c.J;this.$g=this.width=this.Sj=this.height=0;this.rows=[];this.sx=[];this.mx=[];this.Ib=new h.i.rh(this.s);this.sb=new h.i.hh(this.s);this.Eo=this.Xd=0};b=h.i.je.prototype;
b.measure=function(){var a=!!this.Da.U,c=(this.Da.cf?"cap"===this.Da.cf:this.s.km)&&!this.M&&!a;this.Ib.yr(this.Da)?this.Ib.elements.push(new h.i.Oi(this.s)):this.Ib.elements.push(new h.i.Om(this.s));c?(a=new h.i.lp(this.s),this.Ib.elements.push(a),this.Ib.Gf=a.Ui):a&&(this.Ib.pD=!0,this.Ib.connection=new h.i.Gp(this.s,this.Da.U),this.Ib.elements.push(this.Ib.connection));this.Da.R.length&&this.Da.R[0].type==h.Sa&&!this.Da.isCollapsed()?this.Ib.minHeight=this.s.oB:this.Ib.minHeight=this.s.nB;this.Ib.elements.push(new h.i.Oi(this.s,
"right"));this.rows.push(this.Ib);a=new h.i.Ei(this.s);this.sx.push(a);var d=ua(this.Da);if(d.length){c=0;for(var e;e=d[c];c++){var f=new h.i.rp(this.s,e);this.isCollapsed&&e.EI?this.mx.push(f):a.elements.push(f)}}e=null;for(c=0;d=this.Da.R[c];c++)if(d.isVisible()){!e||d.type!=h.Sa&&e.type!=h.Sa&&(d.type!=h.jb&&d.type!=h.vf||this.xj)||(this.rows.push(a),a=new h.i.Ei(this.s),this.sx.push(a));for(e=0;f=d.gb[e];e++)a.elements.push(new h.i.wd(this.s,f,d));this.Jv(d,a);e=d}this.isCollapsed&&(a.hx=!0,a.elements.push(new h.i.sp(this.s)));
(a.elements.length||a.pj)&&this.rows.push(a);this.Bs();this.rows.push(this.sb);this.Iv();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)this.rows.push(a[c]),c!=a.length-1&&this.rows.push(hd(this,a[c],a[c+1]));for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Pb&&(a=Math.max(a,f.width-O(f).width)),d=Math.max(d,f.Fe);this.$g=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Pb&&(f.$g=this.$g);this.Sj=Math.max(c,d);this.M&&(this.Xd=this.M.width,this.width+=this.M.width,this.Sj+=this.M.width);
this.Xp();this.Bw()};b.Bs=function(){this.sb.ix=!!this.Da.W;this.sb.minHeight=this.Da.R.length&&this.Da.R[this.Da.R.length-1].type==h.Sa?this.s.pz:this.s.qz;this.sb.yr(this.Da)?this.sb.elements.push(new h.i.Oi(this.s)):this.sb.elements.push(new h.i.Om(this.s));this.sb.ix&&(this.sb.connection=new h.i.Bp(this.s,this.Da.W),this.sb.elements.push(this.sb.connection));this.sb.elements.push(new h.i.Oi(this.s,"right"))};
b.Jv=function(a,c){this.xj&&a.type==h.jb?(c.elements.push(new h.i.ng(this.s,a)),c.xr=!0):a.type==h.Sa?(c.elements.push(new h.i.rg(this.s,a)),c.Pb=!0):a.type==h.jb?(c.elements.push(new h.i.zm(this.s,a)),c.Dg=!0):a.type==h.vf&&(c.minHeight=Math.max(c.minHeight,a.T()&&a.T().Ka?this.s.Oz:this.s.Tt),c.pj=!0);null==c.align&&(c.align=a.align)};
b.Iv=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Fo()&&c.elements.push(new h.i.wf(this.s,this.Fh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.wf(this.s,this.Fh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.Tk()&&c.elements.push(new h.i.wf(this.s,this.Fh(d[d.length-1],null)))}}};
b.Fh=function(a,c){if(!a&&c&&h.i.m.Qh(c))return this.s.hv;if(a&&h.i.m.Ig(a)&&!c){if(h.i.m.ml(a))return this.s.Ke;if(h.i.m.Hg(a))return this.s.Cc;if(h.i.m.Qh(a))return this.s.Ke}return a&&h.i.m.ol(a)&&c&&(h.i.m.Aj(c)||h.i.m.Kg(c))?c.Sd:a&&h.i.m.Jg(a)&&c&&(h.i.m.Aj(c)||h.i.m.Kg(c))?c.Sd-this.s.qb:this.s.yd};b.Xp=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Pb)id(this,c);else{var d=this.$k(c)-c.width;0<d&&jd(c,d);h.i.m.HD(c)&&(c.Fe=c.width)}};b.$k=function(){return this.width-this.Xd};
function jd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.m.Od(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.m.Od(f)){e=f;break a}e=null}if(a.Dg||a.Pb)a.Fe+=c;a.align==h.So?e.width+=c:a.align==h.Ro?(d.width+=c/2,e.width+=c/2):a.align==h.vt?d.width+=c:e.width+=c;a.width+=c}
function id(a,c){var d=O(c),e=c.width-d.width,f=a.$g;e=f-e;0<e&&jd(c,e);e=c.width;f=a.$k(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.Fe=Math.max(c.width,a.$g+c.Zv)}function hd(a,c,d){a=new h.i.Tm(a.s,a.Xw(c,d),a.width-a.Xd);c.Pb&&(a.Gw=!0);d.Pb&&(a.oJ=!0);return a}b.Xw=function(){return this.s.yd};
b.Ow=function(a,c){return h.i.m.Od(c)?a.Xb+c.height/2:h.i.m.On(a)?(a=a.Xb+a.height-a.Qk,h.i.m.Kg(c)?a+c.height/2:a-c.height/2):h.i.m.Vn(a)?h.i.m.Ph(c)?a.Gf-c.height/2:a.Gf+c.height/2:a.Xb+a.height/2};function kd(a,c){for(var d=c.Ha,e=0,f;f=c.elements[e];e++)h.i.m.Od(f)&&(f.height=c.height),f.Ha=d,f.Yi=a.Ow(c,f),d+=f.width}
b.Bw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Xb=c,e.Ha=this.Xd,c+=e.height,a=Math.max(a,e.Fe),kd(this,e);this.M&&this.Da.W&&this.Da.W.isConnected()&&(a=Math.max(a,y(this.Da.W.ra()).width));this.Sj=a+this.Xd;this.height=c;this.Eo=this.Ib.Gf;this.sb.ne=c-this.sb.Qk};h.i.Bc=function(a,c){this.Da=a;this.la=c;a.Wa();this.Nn=this.Na="";this.s=c.mb.Z()};b=h.i.Bc.prototype;b.draw=function(){ld(this);md(this);nd(this);this.Da.Db.Ss(this.Na+"\n"+this.Nn);this.la.J&&this.Da.Db.Xq();h.i.hm&&this.Da.Ls.yC(this.Da,this.la);od(this)};function od(a){a.Da.height=a.la.height;a.Da.width=a.la.Sj}function ld(a){for(var c=0,d;d=a.la.mx[c];c++)d.icon.tD.setAttribute("display","none")}
function md(a){a.Qq();for(var c=1;c<a.la.rows.length-1;c++){var d=a.la.rows[c];d.hx?a.Sk(d):d.Pb?a.Pq(d):d.Dg?a.Rq(d):a.yw(d)}a.Mq();a.Oq()}
b.Qq=function(){var a=this.la.Ib,c=a.elements,d=this.la.Ib;if(d.connection){var e=d.Ha+d.Sd;K(d.connection.Fc,this.la.J?-e:e,0)}this.Na+=h.g.u.moveBy(a.Ha,this.la.Eo);for(d=0;e=c[d];d++)h.i.m.Jg(e)?this.Na+=this.s.lk.ft:h.i.m.xx(e)?this.Na+=this.s.lk.qF:h.i.m.Aj(e)?this.Na+=e.shape.Ug:h.i.m.Ph(e)?this.Na+=this.s.Mi.path:h.i.m.Od(e)&&(this.Na+=h.g.u.V("h",e.width));this.Na+=h.g.u.V("v",a.height)};b.Sk=function(a){this.Na+=this.s.Fi.path+h.g.u.V("v",a.height-this.s.Fi.height)};
b.Rq=function(a){var c=O(a);this.Zx(a);var d="function"==typeof c.shape.Ud?c.shape.Ud(c.height):c.shape.Ud;this.Na+=h.g.u.V("H",c.Ha+c.width)+d+h.g.u.V("v",a.height-c.$i)};b.Pq=function(a){var c=O(a);this.Na+=h.g.u.V("H",c.Ha+c.Sd+c.shape.width)+(c.shape.Wx+h.g.u.V("h",-(c.Sd-this.s.Fm.width))+this.s.Fm.xs)+h.g.u.V("v",a.height-2*this.s.Fm.height)+this.s.Fm.wo+h.g.u.V("H",a.Ha+a.width);this.by(a)};b.yw=function(a){this.Na+=h.g.u.V("V",a.Xb+a.height)};
b.Mq=function(){var a=this.la.sb,c=a.elements;this.ay();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.m.Kg(g)?e+=g.shape.Wx:h.i.m.ol(g)?e+=h.g.u.V("H",a.Ha):h.i.m.Jg(g)?e+=this.s.lk.gq:h.i.m.xx(g)?(e+=this.s.lk.JB,d=this.s.lk.OE):h.i.m.Od(g)&&(e+=h.g.u.V("h",-1*g.width));this.Na+=h.g.u.V("V",a.ne-d);this.Na+=e};
b.Oq=function(){var a=this.la.M;if(this.la.M){var c=this.la.Xd+this.la.M.Hk;K(this.Da.M,this.la.J?-c:c,this.la.M.md)}a&&(c=a.md+a.height,a="function"==typeof a.shape.Al?a.shape.Al(a.height):a.shape.Al,this.Na+=h.g.u.V("V",c)+a);this.Na+="z"};
function nd(a){for(var c=0,d;d=a.la.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.m.Hg(f))a.Nq(f);else if(h.i.m.wj(f)||h.i.m.Tf(f)){var g=a;if(h.i.m.Tf(f))var k=f.Aw.na();else h.i.m.wj(f)&&(k=f.icon.tD);var l=f.Yi-f.height/2,m=f.Ha,n="";g.la.J&&(m=-(m+f.width),f.GC&&(m+=f.width,n="scale(-1 1)"));h.i.m.wj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.YB()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.la.xe&&k.setAttribute("display",
"none")}}b.Nq=function(a){var c=a.width,d=a.height,e=a.md,f=a.$i+e;this.Nn+=h.g.u.moveTo(a.Ha+a.Ve,a.Yi-d/2)+h.g.u.V("v",e)+a.shape.Ud+h.g.u.V("v",d-f)+h.g.u.V("h",c-a.Ve)+h.g.u.V("v",-d)+"z";this.$x(a)};b.$x=function(a){var c=a.Yi-a.height/2;if(a.Fc){var d=a.Ha+a.Ve+a.Hk;this.la.J&&(d*=-1);K(a.Fc,d,c+a.md)}};b.by=function(a){var c=O(a);if(c.Fc){var d=a.Ha+a.$g+c.Sd;this.la.J&&(d*=-1);K(c.Fc,d,a.Xb)}};b.Zx=function(a){var c=O(a);if(c.Fc){var d=a.Ha+a.width;this.la.J&&(d*=-1);K(c.Fc,d,a.Xb)}};
b.ay=function(){var a=this.la.sb;if(a.connection){var c=a.connection,d=c.Ha;K(c.Fc,this.la.J?-d:d,a.ne)}};h.i.zf=function(a,c,d){this.bj=d;this.nf=a;this.Qb=h.g.j.K(h.g.D.Le,{"class":"blocklyPath"},this.nf);this.style=c;this.Vr=this.Pk=null};b=h.i.zf.prototype;b.Ss=function(a){this.Qb.setAttribute("d",a)};b.Xq=function(){this.Qb.setAttribute("transform","scale(-1 1)")};b.$f=function(a){a?(this.nf.appendChild(a),this.Pk=a):this.Pk=null};b.ag=function(a){a?(this.Pk?this.nf.insertBefore(a,this.Pk):this.nf.appendChild(a),this.Vr=a):this.Vr=null};
b.ic=function(a){this.Qb.setAttribute("stroke",this.style.Zi);this.Qb.setAttribute("fill",this.style.uh);this.Ky(a.Ka);this.jt(!a.isEnabled()||Vb(a))};b.li=function(a){this.style=a};function B(a,c,d){d?h.g.j.Lb(a.nf,c):h.g.j.ed(a.nf,c)}b.Iy=function(a){a?this.Qb.setAttribute("filter","url(#"+this.bj.Bn+")"):this.Qb.setAttribute("filter","none")};b.Ky=function(a){a&&(this.Qb.setAttribute("stroke","none"),this.Qb.setAttribute("fill",this.style.mn))};
b.jt=function(a){B(this,"blocklyDisabled",a);a&&this.Qb.setAttribute("fill","url(#"+this.bj.tw+")")};h.i.Af=function(a){this.name=a;this.us=this.s=null};b=h.i.Af.prototype;b.ue=function(){return this.name+"-renderer"};b.Ea=function(a,c){this.s=this.Pr();c&&(this.us=c,h.g.object.Yf(this.s,c));this.s.Pl(a);this.s.Ea()};b.Pa=function(a,c){this.s.Pa(a,this.name+"-"+c.name,"."+this.ue()+"."+c.ue())};b.Fs=function(a,c){var d=this.Z();d.H();this.s=this.Pr();this.us&&h.g.object.Yf(this.s,this.us);this.s.Fl=d.Fl;this.s.Pl(c);this.s.Ea();this.Pa(a,c)};b.H=function(){this.s&&this.s.H()};b.Pr=function(){return new h.i.uf};
b.Fx=function(a){return new h.i.je(this,a)};b.Dx=function(a,c){return new h.i.Bc(a,c)};b.Ex=function(a,c){return new h.i.zf(a,c,this.s)};b.Z=function(){return this.s};b.Ga=function(a){if(h.i.hm&&!a.Ls){if(!h.i.Ut)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Ut(this.Z());a.Ls=c}c=this.Fx(a);c.measure();this.Dx(a,c).draw()};h.$={};h.$.uf=function(){h.$.uf.B.constructor.call(this);this.jp=!1;this.ec=1;this.IA=30};h.g.object.Y(h.$.uf,h.i.uf);h.$.uf.prototype.cr=function(a){return h.$.uf.B.cr.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Em+";","stroke: none;","}"])};h.$.iu=function(a){this.la=a;this.jl=this.aa="";this.fc=this.la.J;a=a.mb;this.s=a.Z();this.nd=a.nd;this.ad=this.nd.OFFSET;this.ts=this.nd.UA;this.uj=this.nd.wA;this.El=this.nd.Fp;this.cE=this.nd.Hi;this.fF=this.nd.Mi;this.yx=this.nd.Fi};h.$.iu.prototype.Sk=function(a){this.la.J&&(this.aa+=this.yx.Ug+h.g.u.V("v",a.height-this.yx.height-this.ad))};
function pd(a,c){var d=c.Ha+c.width-a.ad;c.Gw&&(a.aa+=h.g.u.V("H",d));a.fc&&(a.aa+=h.g.u.V("H",d),c.height>a.ad&&(a.aa+=h.g.u.V("V",c.Xb+c.height-a.ad)))};h.$.ng=function(a,c){h.$.ng.B.constructor.call(this,a,c);this.wg&&(this.width+=this.s.ec,this.height+=this.s.ec)};h.g.object.Y(h.$.ng,h.i.ng);h.$.rg=function(a,c){h.$.rg.B.constructor.call(this,a,c);this.wg&&(this.height+=this.s.ec)};h.g.object.Y(h.$.rg,h.i.rg);h.$.je=function(a,c){h.$.je.B.constructor.call(this,a,c)};h.g.object.Y(h.$.je,h.i.je);b=h.$.je.prototype;b.Bs=function(){h.$.je.B.Bs.call(this);this.Da.R.length&&this.Da.R[this.Da.R.length-1].type==h.Sa||(this.sb.minHeight=this.s.yd-this.s.ec)};
b.Jv=function(a,c){this.xj&&a.type==h.jb?(c.elements.push(new h.$.ng(this.s,a)),c.xr=!0):a.type==h.Sa?(c.elements.push(new h.$.rg(this.s,a)),c.Pb=!0):a.type==h.jb?(c.elements.push(new h.i.zm(this.s,a)),c.Dg=!0):a.type==h.vf&&(c.minHeight=Math.max(c.minHeight,this.s.Tt),c.pj=!0);this.xj||null!=c.align||(c.align=a.align)};
b.Iv=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Dg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Fo()&&d.elements.push(new h.i.wf(this.s,this.Fh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.Fh(e[f],e[f+1]);d.elements.push(new h.i.wf(this.s,g))}d.elements.push(e[e.length-1]);d.Tk()&&(g=this.Fh(e[e.length-1],null),a&&d.pj&&(g+=this.s.Um),d.elements.push(new h.i.wf(this.s,g)))}}};
b.Fh=function(a,c){if(!a)return c&&h.i.m.Tf(c)&&c.Nd?this.s.yd:c&&h.i.m.Hg(c)?this.s.xu:c&&h.i.m.Qh(c)?this.s.hv:this.s.Cc;if(!h.i.m.Ig(a)&&(!c||h.i.m.Qh(c)))return h.i.m.Tf(a)&&a.Nd?this.s.yd:h.i.m.wj(a)?2*this.s.Cc+1:h.i.m.Ph(a)?this.s.Ke:h.i.m.GD(a)?this.s.Cc:h.i.m.Jg(a)?this.s.MA:h.i.m.vx(a)?this.s.Ke:this.s.Cc;if(h.i.m.Ig(a)&&!c){if(h.i.m.ml(a))return this.s.Ke;if(h.i.m.Hg(a))return this.s.Cc;if(h.i.m.Qh(a))return this.s.Ke}if(!h.i.m.Ig(a)&&c&&h.i.m.Ig(c)){if(h.i.m.Tf(a)&&a.Nd){if(h.i.m.Hg(c)||
h.i.m.ml(c))return this.s.cB}else{if(h.i.m.Hg(c)||h.i.m.ml(c))return this.s.xu;if(h.i.m.Qh(c))return this.s.Cc}return this.s.Cc-1}if(h.i.m.wj(a)&&c&&!h.i.m.Ig(c))return this.s.Cc;if(h.i.m.Hg(a)&&c&&h.i.m.Tf(c))return c.Nd?this.s.yd:this.s.Cc;if(h.i.m.ol(a)&&c){if(h.i.m.Ph(c))return this.s.Ke;if(h.i.m.Aj(c))return c.Sd;if(h.i.m.Kg(c))return a=(this.J?1:-1)*this.s.ec/2,c.Sd+a}if(h.i.m.Jg(a)&&c){if(h.i.m.Aj(c))return c.Sd-this.s.qb;if(h.i.m.Kg(c))return a=(this.J?1:-1)*this.s.ec/2,c.Sd-this.s.qb+a}return h.i.m.Tf(a)&&
c&&h.i.m.Tf(c)&&a.Nd==c.Nd||c&&h.i.m.vx(c)?this.s.Cc:this.s.yd};b.Xw=function(a,c){return h.i.m.Vn(a)&&h.i.m.On(c)?this.s.Pz:h.i.m.Vn(a)||h.i.m.On(c)?this.s.Ke:a.Dg&&c.Dg?this.s.Cc:!a.Pb&&c.Pb?this.s.nz:a.Pb&&c.Pb||!a.Pb&&c.pj||a.pj?this.s.Cc:this.s.yd};
b.Ow=function(a,c){if(h.i.m.Od(c))return a.Xb+c.height/2;if(h.i.m.On(a))return a=a.Xb+a.height-a.Qk,h.i.m.Kg(c)?a+c.height/2:a-c.height/2;if(h.i.m.Vn(a))return h.i.m.Ph(c)?a.Gf-c.height/2:a.Gf+c.height/2;var d=a.Xb;h.i.m.Tf(c)||h.i.m.wj(c)?(d+=c.height/2,(a.xr||a.Pb)&&c.height+this.s.mv<=a.height&&(d+=this.s.mv)):d=h.i.m.Hg(c)?d+c.height/2:d+a.height/2;return d};
b.Xp=function(){if(this.xj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.hs=a,h.i.m.BD(e)&&(e.Pb&&id(this,e),c&&c.Pb&&e.width<c.width?e.hs=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Pb?a=this.$k(e):h.i.m.Od(e)?e.width=Math.max(a,e.hs):(a=Math.max(a,e.hs)-e.width,0<a&&jd(e,a),a=e.width)}else h.$.je.B.Xp.call(this)};b.$k=function(a){return this.xj&&a.Pb?this.$g+this.s.IA+this.Xd:h.$.je.B.$k.call(this,a)};
b.Bw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Xb=c;e.Ha=this.Xd;c+=e.height;a=Math.max(a,e.Fe);var f=c-this.Ib.Ui;e==this.sb&&f<this.s.hk&&(f=this.s.hk-f,this.sb.height+=f,c+=f);kd(this,e)}this.M&&this.Da.W&&this.Da.W.isConnected()&&(a=Math.max(a,y(this.Da.W.ra()).width-this.s.ec));this.sb.ne=c-this.sb.Qk;this.Sj=a+this.Xd+this.s.ec;this.width+=this.s.ec;this.height=c+this.s.ec;this.Eo=this.Ib.Gf};h.$.Bc=function(a,c){h.$.Bc.B.constructor.call(this,a,c);this.df=new h.$.iu(c)};h.g.object.Y(h.$.Bc,h.i.Bc);b=h.$.Bc.prototype;b.draw=function(){ld(this);md(this);nd(this);var a=this.Da.Db;a.Ss(this.Na+"\n"+this.Nn);var c=this.df;a.mi.setAttribute("d",c.aa+"\n"+c.jl);this.la.J&&a.Xq();h.i.hm&&this.Da.Ls.yC(this.Da,this.la);od(this)};
b.Qq=function(){var a=this.df,c=this.la.Ib;a.aa+=h.g.u.moveBy(c.Ha,a.la.Eo);for(var d=0,e;e=c.elements[d];d++)h.i.m.ol(e)?a.aa+=a.nd.fv:h.i.m.Jg(e)?a.aa+=a.ts.ft(a.fc):h.i.m.Aj(e)?a.aa+=a.cE.Ug:h.i.m.Ph(e)?a.aa+=a.fF.path(a.fc):h.i.m.Od(e)&&0!=e.width&&(a.aa+=h.g.u.V("H",e.Ha+e.width-a.ad));a.aa+=h.g.u.V("H",c.Ha+c.width-a.ad);pd(this.df,this.la.Ib);h.$.Bc.B.Qq.call(this)};b.Sk=function(a){this.df.Sk(a);h.$.Bc.B.Sk.call(this,a)};
b.Rq=function(a){var c=this.df,d=O(a);if(c.fc){var e=a.height-d.$i;c.aa+=h.g.u.moveTo(d.Ha+d.width-c.ad,a.Xb)+c.El.Ud(c.fc)+h.g.u.V("v",e)}else c.aa+=h.g.u.moveTo(d.Ha+d.width,a.Xb)+c.El.Ud(c.fc);h.$.Bc.B.Rq.call(this,a)};
b.Pq=function(a){var c=this.df,d=O(a);if(c.fc){var e=a.height-2*c.uj.height;c.aa+=h.g.u.moveTo(d.Ha,a.Xb)+c.uj.xs(c.fc)+h.g.u.V("v",e)+c.uj.wo(c.fc)+h.g.u.lineTo(a.width-d.Ha-c.uj.width,0)}else c.aa+=h.g.u.moveTo(d.Ha,a.Xb+a.height)+c.uj.wo(c.fc)+h.g.u.lineTo(a.width-d.Ha-c.uj.width,0);h.$.Bc.B.Pq.call(this,a)};b.yw=function(a){pd(this.df,a);this.Na+=h.g.u.V("H",a.Ha+a.width)+h.g.u.V("V",a.Xb+a.height)};
b.Mq=function(){var a=this.df,c=this.la.sb;if(a.fc)a.aa+=h.g.u.V("V",c.ne-a.ad);else{var d=a.la.sb.elements[0];h.i.m.ol(d)?a.aa+=h.g.u.moveTo(c.Ha+a.ad,c.ne-a.ad):h.i.m.Jg(d)&&(a.aa+=h.g.u.moveTo(c.Ha,c.ne),a.aa+=a.ts.gq())}h.$.Bc.B.Mq.call(this)};
b.Oq=function(){var a=this.df,c=a.la.M;c&&(c=c.md+c.height,a.fc?a.aa+=h.g.u.moveTo(a.la.Xd,c):(a.aa+=h.g.u.moveTo(a.la.Xd+a.ad,a.la.sb.ne-a.ad),a.aa+=h.g.u.V("V",c)),a.aa+=a.El.Al(a.fc));a.fc||(c=a.la.Ib,a.aa=h.i.m.Jg(c.elements[0])?a.aa+h.g.u.V("V",a.ts.height):a.aa+h.g.u.V("V",c.Gf+a.ad));h.$.Bc.B.Oq.call(this)};
b.Nq=function(a){var c=this.df,d=c.ad,e=a.Ha+a.Ve,f=a.Yi-a.height/2,g=a.width-a.Ve,k=f+d;if(c.fc){f=a.md-d;var l=a.height-(a.md+a.$i)+d;c.jl+=h.g.u.moveTo(e-d,k)+h.g.u.V("v",f)+c.El.Ud(c.fc)+h.g.u.V("v",l)+h.g.u.V("h",g)}else c.jl+=h.g.u.moveTo(a.Ha+a.width+d,k)+h.g.u.V("v",a.height)+h.g.u.V("h",-g)+h.g.u.moveTo(e,f+a.md)+c.El.Ud(c.fc);h.$.Bc.B.Nq.call(this,a)};b.$x=function(a){var c=a.Yi-a.height/2;if(a.Fc){var d=a.Ha+a.Ve+this.s.ec;this.la.J&&(d*=-1);K(a.Fc,d,c+a.md+this.s.ec)}};
b.by=function(a){var c=O(a);if(c.Fc){var d=a.Ha+a.$g+c.Sd;d=this.la.J?-1*d:d+this.s.ec;K(c.Fc,d,a.Xb+this.s.ec)}};b.Zx=function(a){var c=O(a);if(c.Fc){var d=a.Ha+a.width+this.s.ec;this.la.J&&(d*=-1);K(c.Fc,d,a.Xb)}};b.ay=function(){var a=this.la.sb;if(a.connection){var c=a.connection,d=c.Ha;K(c.Fc,(this.la.J?-d:d)+this.s.ec/2,a.ne+this.s.ec)}};h.$.gu=function(a){this.aj=a;this.OFFSET=.5;this.fv=h.g.u.moveBy(this.OFFSET,this.OFFSET)};b=h.$.gu.prototype;b.Ea=function(){this.wA=qd(this);this.UA=rd(this);this.Fp=this.Sr();this.Hi=this.Rr();this.Fi=this.Qr();this.Mi=this.Tr()};
function qd(a){var c=a.aj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.u.moveBy(d,d)+h.g.u.arc("a","0 0,0",c,h.g.u.Fa(-d-a,c-d)),f=h.g.u.arc("a","0 0,0",c+a,h.g.u.Fa(c+a,c+a)),g=h.g.u.moveBy(d,-d)+h.g.u.arc("a","0 0,0",c+a,h.g.u.Fa(c-d,d+a));return{width:c+a,height:c,xs:function(k){return k?e:""},wo:function(k){return k?f:g}}}
function rd(a){var c=a.aj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.u.moveBy(d,d)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Fa(c-d,-d+a)),f=h.g.u.moveBy(a,c)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Fa(c,-c+a)),g=-d,k=h.g.u.moveBy(d,g)+h.g.u.arc("a","0 0,1",c-a,h.g.u.Fa(-d+a,-g-c));return{height:c,ft:function(l){return l?e:f},gq:function(){return k}}}
b.Sr=function(){var a=this.aj.Um,c=this.aj.pk,d=h.g.u.moveBy(-2,-c+3.4)+h.g.u.lineTo(-.45*a,-2.1),e=h.g.u.V("v",2.5)+h.g.u.moveBy(.97*-a,2.5)+h.g.u.curve("q",[h.g.u.Fa(.05*-a,10),h.g.u.Fa(.3*a,9.5)])+h.g.u.moveBy(.67*a,-1.9)+h.g.u.V("v",2.5),f=h.g.u.V("v",-1.5)+h.g.u.moveBy(-.92*a,-.5)+h.g.u.curve("q",[h.g.u.Fa(-.19*a,-5.5),h.g.u.Fa(0,-11)])+h.g.u.moveBy(.92*a,1),g=h.g.u.moveBy(-5,c-.7)+h.g.u.lineTo(.46*a,-2.1);return{width:a,height:c,Al:function(k){return k?d:f},Ud:function(k){return k?e:g}}};
b.Rr=function(){return{Ug:h.g.u.V("h",this.OFFSET)+this.aj.Hi.Ug}};b.Qr=function(){return{Ug:h.g.u.lineTo(5.1,2.6)+h.g.u.moveBy(-10.2,6.8)+h.g.u.lineTo(5.1,2.6),height:12,width:10.2}};b.Tr=function(){var a=this.aj.Mi.height,c=h.g.u.moveBy(25,-8.7)+h.g.u.curve("c",[h.g.u.Fa(29.7,-6.2),h.g.u.Fa(57.2,-.5),h.g.u.Fa(75,8.7)]),d=h.g.u.curve("c",[h.g.u.Fa(17.8,-9.2),h.g.u.Fa(45.3,-14.9),h.g.u.Fa(75,-8.7)])+h.g.u.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.$.zf=function(a,c,d){this.bj=d;this.nf=a;this.$l=h.g.j.K(h.g.D.Le,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.nf);this.Qb=h.g.j.K(h.g.D.Le,{"class":"blocklyPath"},this.nf);this.mi=h.g.j.K(h.g.D.Le,{"class":"blocklyPathLight"},this.nf);this.qq="#000000";this.style=c};h.g.object.Y(h.$.zf,h.i.zf);b=h.$.zf.prototype;b.Ss=function(a){this.Qb.setAttribute("d",a);this.$l.setAttribute("d",a)};
b.Xq=function(){this.Qb.setAttribute("transform","scale(-1 1)");this.mi.setAttribute("transform","scale(-1 1)");this.$l.setAttribute("transform","translate(1,1) scale(-1 1)")};b.ic=function(a){this.mi.style.display="";this.$l.style.display="";this.mi.setAttribute("stroke",this.style.Zi);this.$l.setAttribute("fill",this.qq);h.$.zf.B.ic.call(this,a);this.Qb.setAttribute("stroke","none")};b.li=function(a){this.style=a;this.qq=h.g.tb.cq("#000",this.style.uh,.2)||this.qq};
b.Iy=function(a){a?(this.Qb.setAttribute("filter","url(#"+this.bj.Bn+")"),this.mi.style.display="none"):(this.Qb.setAttribute("filter","none"),this.mi.style.display="inline")};b.Ky=function(a){a&&(this.mi.style.display="none",this.$l.setAttribute("fill",this.style.mn),this.Qb.setAttribute("stroke","none"),this.Qb.setAttribute("fill",this.style.mn))};b.jt=function(a){h.$.zf.B.jt.call(this,a);a&&this.Qb.setAttribute("stroke","none")};h.$.Af=function(a){h.$.Af.B.constructor.call(this,a);this.nd=null};h.g.object.Y(h.$.Af,h.i.Af);b=h.$.Af.prototype;b.Ea=function(a,c){h.$.Af.B.Ea.call(this,a,c);this.nd=new h.$.gu(this.Z());this.nd.Ea()};b.Fs=function(a,c){h.$.Af.B.Fs.call(this,a,c);this.nd.Ea()};b.Pr=function(){return new h.$.uf};b.Fx=function(a){return new h.$.je(this,a)};b.Dx=function(a,c){return new h.$.Bc(a,c)};b.Ex=function(a,c){return new h.$.zf(a,c,this.Z())};h.i.register("geras",h.$.Af);h.N.ADD_COMMENT="Add Comment";h.N.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.N.CLEAN_UP="Clean up Blocks";h.N.COLLAPSE_ALL="Collapse Blocks";h.N.COLLAPSE_BLOCK="Collapse Block";h.N.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.N.DELETE_BLOCK="Delete Block";h.N.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.N.DELETE_X_BLOCKS="Delete %1 Blocks";h.N.DISABLE_BLOCK="Disable Block";
h.N.DUPLICATE_BLOCK="Duplicate";h.N.DUPLICATE_COMMENT="Duplicate Comment";h.N.ENABLE_BLOCK="Enable Block";h.N.EXPAND_ALL="Expand Blocks";h.N.EXPAND_BLOCK="Expand Block";h.N.EXTERNAL_INPUTS="External Inputs";h.N.HELP="Help";h.N.INLINE_INPUTS="Inline Inputs";h.N.NEW_VARIABLE="Create variable...";h.N.NEW_VARIABLE_TITLE="New variable name:";h.N.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.N.REDO="Redo";h.N.REMOVE_COMMENT="Remove Comment";h.N.RENAME_VARIABLE="Rename variable...";
h.N.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.N.UNDO="Undo";h.N.UNNAMED_KEY="unnamed";h.N.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.N.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.N.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.N.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.N.PROCEDURES_DEFRETURN_PROCEDURE=h.N.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},sd=null,td=null,ud=null;function vd(){var a=sd();wd("xml="+encodeURIComponent(a),xd)}var yd={};
function wd(a,c){yd["/storage"]&&yd["/storage"].abort();yd["/storage"]=new XMLHttpRequest;yd["/storage"].onload=function(){200===this.status?c&&c.call(this):zd(N("Games_httpRequestError")+"\nXHR status: "+this.status);yd["/storage"]=null};yd["/storage"].open("POST","/storage");yd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");yd["/storage"].send(a)}
function xd(){window.location.hash=this.responseText.trim();zd(N("Games_linkAlert").replace("%1",window.location.href));ud=sd()}function Ad(){var a=this.responseText.trim();a.length?td(a):zd(N("Games_hashError").replace("%1",window.location.hash));ud=sd()}function zd(a){if("object"===typeof P){var c=document.getElementById("linkButton");P.hF(c,a)}else alert(a)};var D=null,Bd="",Cd="";function Dd(){Wc();var a=document.getElementById("linkButton");a&&(Uc?a.style.display="none":(sd=Ed,td=Fd,$c(a,vd)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Gd,!0)}
function Hd(){var a='<xml><block movable="'+(1!=M)+'" type="maze_moveForward" x="70" y="70"></block></xml>';if(!Uc&&1<window.location.hash.length)wd("key="+encodeURIComponent(window.location.hash.substring(1)),Ad);else{var c=null;try{c=window.sessionStorage.Mr}catch(e){}c&&delete window.sessionStorage.Mr;var d=Xc(M);(a=c||d||a)&&Fd(a)}}function Fd(a){a=h.O.dg(a);D.clear();h.O.Ah(a,D);a=D;a.pi.length=0;a.Gl.length=0;h.h.VB()}
function Ed(){var a=h.O.Sy(!0);if(1==D.lb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.O.te(a)}function Id(){"object"==typeof BlocklyStorage&&null!==ud&&ud!=Ed()&&(window.location.hash="",ud=null)}function Jd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;D=h.Fg("blockly",a);G(D,Id)}function Kd(){window.location=(Uc?"index.html":"./")+"?lang="+L}
function Gd(){window.sessionStorage&&(window.sessionStorage.Mr=Ed());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Ld(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1):Kd()}function Md(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Cc(a,void 0)}function Nd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Od(a){if("click"==a.type&&"touchend"==Pd&&Qd+2E3>Date.now()||Pd==a.type&&Qd+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Pd=a.type;Qd=Date.now();return!1}
var Pd=null,Qd=0;function Rd(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Sd(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var P={Mh:!1,qw:null,vn:null,Rl:function(a,c,d,e,f,g){function k(){P.Mh&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);P.Mh&&P.Ld(!1);h.Qf()&&h.ac(!0);P.Mh=!0;P.qw=c;P.vn=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),P.Aq=h.jc(e,"mousedown",null,P.nC));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(P.$n(c,!1,.2),P.$n(l,!0,.8),setTimeout(k,175)):k()},rw:0,sw:0,nC:function(a){P.Dq();if(!h.g.ql(a)){var c=document.getElementById("dialog");P.rw=c.offsetLeft-a.clientX;P.sw=c.offsetTop-a.clientY;P.Cq=h.jc(document,"mouseup",null,P.Dq);P.Bq=h.jc(document,"mousemove",null,P.oC);a.stopPropagation()}},oC:function(a){var c=document.getElementById("dialog"),
d=P.rw+a.clientX;a=P.sw+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Dq:function(){P.Cq&&(h.ob(P.Cq),P.Cq=null);P.Bq&&(h.ob(P.Bq),P.Bq=null)},Ld:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(P.Mh){P.Dq();P.Aq&&(h.ob(P.Aq),P.Aq=null);P.Mh=!1;P.vn&&P.vn();P.vn=null;var d=!1===a?
null:P.qw;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(P.$n(a,!1,.8),P.$n(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},$n:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=P.Jw(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Jw:function(a){var c=h.g.style.Gh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},hF:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");P.Rl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},P.Cy);P.yy()},Fv:function(){if(!Xc(M))if(P.Mh||D.rd())setTimeout(P.Fv,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",P.Ld,!0);c.addEventListener("touchend",P.Ld,!0);c=document.getElementById("abortOk");c.addEventListener("click",Kd,!0);c.addEventListener("touchend",Kd,
!0);P.Rl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.Ev,!0)});document.body.addEventListener("keydown",P.Ev,!0)}},$B:function(){var a=document.getElementById("dialogDone");if(D){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Cd;d=Nd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",P.Ld,!0);c.addEventListener("touchend",P.Ld,!0);c=document.getElementById("doneOk");c.addEventListener("click",Ld,!0);c.addEventListener("touchend",
Ld,!0);P.Rl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.Yv,!0)});document.body.addEventListener("keydown",P.Yv,!0);document.getElementById("dialogDoneText").textContent=d},pw:function(a){!P.Mh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(P.Ld(!0),a.stopPropagation(),a.preventDefault())},yy:function(){document.body.addEventListener("keydown",P.pw,!0)},Cy:function(){document.body.removeEventListener("keydown",P.pw,!0)},Yv:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)P.Ld(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Ld()},Ev:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)P.Ld(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Kd()}};window.BlocklyDialogs=P;P.hideDialog=P.Ld;h.Generator=function(a){this.ds=a};h.Generator.Du="generated_function";b=h.Generator.prototype;b.ku=null;b.Pm=null;b.Qm=null;b.uA="  ";b.yz=60;b.Lm=[];function Td(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Ud(a,c){if(!c)return"";if(!c.isEnabled())return Ud(a,u(c));if(c.xe())return Ud(a,E(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.ds+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.M)throw TypeError("Expecting string from statement block: "+c.type);return[a.Os(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.Pm&&!c.at&&(d=Vd(a.Pm,c)+d),a.Qm&&!c.at&&(d+=Vd(a.Qm,c)),a.Os(c,d,void 0);if(null===d)return"";
throw SyntaxError("Invalid code generated: "+d);}
function Wd(a,c,d){var e=h.I;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Yb(a,c);if(!f)return"";c=Ud(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.Lm.length;g++)if(e.Lm[g][0]==d&&e.Lm[g][1]==c){f=!1;break}f&&(a=
"("+a+")");return a}function Xd(a,c){var d=h.I;a=Yb(a,c);c=Ud(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Td(c,d.uA));return c}function Vd(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Hp="";function Yd(a,c){a.Hp+=c+","}b.Ea=function(){};b.Os=function(a,c){return c};b.finish=function(a){return a};b.ty=function(a){return a};h.I=new h.Generator("JavaScript");Yd(h.I,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.I.oH=0;h.I.GH=1.1;h.I.Km=1.2;h.I.Jm=2;h.I.DH=3;h.I.xH=3;h.I.rH=4.1;h.I.JH=4.2;h.I.Ou=4.3;h.I.Ku=4.4;
h.I.IH=4.5;h.I.KH=4.6;h.I.yH=4.7;h.I.pH=4.8;h.I.BH=5;h.I.Mu=5.1;h.I.zH=5.2;h.I.FH=5.3;h.I.Nu=6.1;h.I.Im=6.2;h.I.tH=7;h.I.HH=8;h.I.CH=8;h.I.EH=8;h.I.AH=9;h.I.qH=10;h.I.uH=11;h.I.sH=12;h.I.Ju=13;h.I.Lu=14;h.I.wH=15;h.I.nH=16;h.I.LH=17;h.I.vH=18;h.I.SA=99;h.I.Lm=[[h.I.Jm,h.I.Km],[h.I.Jm,h.I.Jm],[h.I.Km,h.I.Km],[h.I.Km,h.I.Jm],[h.I.Ku,h.I.Ku],[h.I.Mu,h.I.Mu],[h.I.Im,h.I.Im],[h.I.Ju,h.I.Ju],[h.I.Lu,h.I.Lu]];
h.I.Ea=function(a){h.I.sn=Object.create(null);h.I.JC=Object.create(null);h.I.jm?h.I.jm.reset():h.I.jm=new h.Ad(h.I.Hp);h.I.jm.Us(a.Oa);for(var c=[],d=h.ga.DB(a),e=0;e<d.length;e++)c.push(Qc(d[e],h.Ad.gp));a=h.ga.Kv(a);for(e=0;e<a.length;e++)c.push(Qc(a[e].Ob(),h.Ri));c.length&&(h.I.sn.variables="var "+c.join(", ")+";")};h.I.finish=function(a){var c=[],d;for(d in h.I.sn)c.push(h.I.sn[d]);delete h.I.sn;delete h.I.JC;h.I.jm.reset();return c.join("\n\n")+"\n\n\n"+a};h.I.ty=function(a){return a+";\n"};
h.I.tE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.I.lJ=function(a){return a.split(/\n/g).map(h.I.tE).join(" + '\\n' +\n")};
h.I.Os=function(a,c,d){var e="";if(!a.M||!a.M.ma){var f=a.qe.text;f&&(f=h.g.Qa.Ty(f,h.I.yz-3),e+=Td(f+"\n","// "));for(var g=0;g<a.R.length;g++)if(a.R[g].type==h.jb){var k=a.R[g].connection.ra();if(k){f=[];k=q(k,!0);for(var l=0;l<k.length;l++){var m=k[l].qe.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Td(f,"// "))}}}a=a.W&&a.W.ra();d=d?"":Ud(h.I,a);return e+c+d};
h.I.NI=function(a,c,d,e,f){d=d||0;f=f||h.I.SA;a.A.options.to&&d--;var g=a.A.options.to?"1":"0";a=0<d?Wd(a,c,h.I.Im)||g:0>d?Wd(a,c,h.I.Nu)||g:e?Wd(a,c,h.I.Ou)||g:Wd(a,c,f)||g;if(h.FD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=h.I.Im}else 0>d&&(a=a+" - "+-d,k=h.I.Nu);e&&(a=d?"-("+a+")":"-"+a,k=h.I.Ou);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.ee=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.fd(a);d=Number(h.g.fd(d));c=Number(h.g.fd(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Xk=!1;this.Zm="";h.ee.B.constructor.call(this,a,null,k);k||(this.Xk=!!g,this.Zm=h.g.fd(e)||"");this.yc=new h.g.ke(c,d+h.ee.xB);this.uD=d;this.If=null;"function"==
typeof f&&(this.If=f);this.Mc=null};h.g.object.Y(h.ee,h.wd);h.ee.prototype.ep="";h.ee.va=function(a){return new h.ee(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.ee.xB=1;b=h.ee.prototype;b.Yj=!1;b.Gg=!1;b.Ek=function(a){h.ee.B.Ek.call(this,a);this.Xk=!!a.flipRtl;this.Zm=h.g.fd(a.alt)||""};b.Mn=function(){this.Mc=h.g.j.K(h.g.D.ck,{height:this.uD+"px",width:this.yc.width+"px",alt:this.Zm},this.$c);this.Mc.setAttributeNS(h.g.j.jd,"xlink:href",this.pf);this.If&&(this.Mc.style.cursor="pointer")};
b.Ly=function(){};b.yn=function(a){return"string"!=typeof a?null:a};b.zn=function(a){this.pf=a;this.Mc&&this.Mc.setAttributeNS(h.g.j.jd,"xlink:href",String(this.pf))};b.Pw=function(){return this.Xk};b.Sl=function(){this.If&&this.If(this)};b.qr=function(){return this.Zm};h.Ch.register("field_image",h.ee);var Zd={},Q,$d,ae,R,S,T,be;h.qc.maze_moveForward={Ea:function(){Xb(this,{message0:N("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:N("Maze_moveForwardTooltip")})}};h.I.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};h.qc.maze_turn={Ea:function(){var a=[[N("Maze_turnLeft"),"turnLeft"],[N("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.Be(290);J(Wb(this),new h.Ya(a),"DIR");this.ki(!0);this.Jj(!0);this.De(N("Maze_turnTooltip"))}};
h.I.maze_turn=function(a){return $a(a,"DIR")+"('block_id_"+a.id+"');\n"};h.qc.maze_if={Ea:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.Be(210);J(Wb(this),new h.Ya(a),"DIR");J(this.Ef(h.Sa,"DO"),N("Maze_doCode"));this.De(N("Maze_ifTooltip"));this.ki(!0);this.Jj(!0)}};h.I.maze_if=function(a){var c=$a(a,"DIR")+"('block_id_"+a.id+"')";a=Xd(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.qc.maze_ifElse={Ea:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.Be(210);J(Wb(this),new h.Ya(a),"DIR");J(this.Ef(h.Sa,"DO"),N("Maze_doCode"));J(this.Ef(h.Sa,"ELSE"),N("Maze_elseCode"));this.De(N("Maze_ifelseTooltip"));this.ki(!0);this.Jj(!0)}};
h.I.maze_ifElse=function(a){var c=$a(a,"DIR")+"('block_id_"+a.id+"')",d=Xd(a,"DO");a=Xd(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.qc.maze_forever={Ea:function(){this.Be(120);J(J(Wb(this),N("Maze_repeatUntil")),new h.ee(U.Zn,12,16));J(this.Ef(h.Sa,"DO"),N("Maze_doCode"));this.ki(!0);this.De(N("Maze_whileTooltip"))}};h.I.maze_forever=function(a){var c=Xd(a,"DO");h.I.ku&&(c=h.I.ku.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var ce=ce||{};function de(a,c){function d(){}d.prototype=c.prototype;a.B=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.xI=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!he){var he,ie="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(ie=navigator.userAgent);var je=0==ie.indexOf("Opera");he={jJ:{yG:"ScriptEngine"in window},mH:je,Je:!je&&-1!=ie.indexOf("MSIE"),xv:!je&&-1!=ie.indexOf("WebKit")}}if(!ke)var ke={};
if(!le)var le={};if(!me)var me={};if(!ne)var ne={};if(!oe)var oe={};if(!pe)var pe={};var qe=ce.Gz?{xJ:!0}:{},re=ce.Gz?{yJ:!0}:{};function se(){throw Error("Do not instantiate directly");}se.prototype.cw=null;se.prototype.toString=function(){return this.content};function te(a){if(null!=a)switch(a.cw){case 1:return 1;case -1:return-1;case 0:return 0}return null}function ue(){se.call(this)}de(ue,se);ue.prototype.dw=qe;
function V(a){return null!=a&&a.dw===qe?a:ve(String(String(a)).replace(we,xe),te(a))}var ve=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.cw=e);return f}}(ue),ye={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function xe(a){return ye[a]}var we=/[\x00\x22\x26\x27\x3c\x3e]/g;function ze(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ae(){var a=L,c=M,d=10,e=Be,f=Uc,g="Maze",k="skin="+V(e);e=!0;var l=!1,m='<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>';f='<table width="100%"><tr><td><h1><span id="title">'+((f?'<a href="index.html?lang='+V(a)+'">':'<a href="./?lang='+V(a)+'">')+"Blockly Games</a> : "+V(g)+"</span>");if(c){g=""+(k?V(k):"");k=" &nbsp; ";for(var n=d+1,p=1;p<n;p++){var r="?lang="+V(a)+"&level="+V(p)+(g?"&"+V(g):"");k+=" "+(p==c?'<span class="level_number level_done" id="level'+
V(p)+'">'+V(p)+"</span>":p==d?'<a class="level_number" id="level'+V(p)+'" href="'+V(r)+'">'+V(p)+"</a>":'<a class="level_dot" id="level'+V(p)+'" href="'+V(r)+'"></a>')}a=k}else a="";m?(d=m,d="&nbsp;"+(null!=d&&d.dw===re?"zSoyz":d)):d="";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\n\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, \\nthen do some actions. </span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, \\nthen do the first block of actions. \\nOtherwise, do the second block of actions. </span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point \\nis reached. </span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span></div>'+
(f+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>'+(e?'&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>':"")+(l?'&nbsp;<button id="helpButton">Help</button>':"")+d+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>')+
((2<c?'<block type="maze_forever"></block>'+(6==c?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<c?'<block type="maze_if"></block>'+(8<c?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(ze()+"</div>")+(1==c?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==c?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the maze. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==c||4==c?(3==c?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==c?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==c?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==c?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==c?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==c?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated maze? Try following the left-hand wall. Advanced programmers only!'+
ze()+"</td></tr></table></div>":"")};var Zc="maze";Ld=function(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1)+"&skin="+Be:Kd()};
var Ce=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][M],De=[{Mj:"maze/pegman.png",bt:"maze/tiles_pegman.png",Zn:"maze/marker.png",background:!1,Or:"#000",nt:["maze/win.mp3","maze/win.ogg"],vq:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],qn:1},{Mj:"maze/astro.png",bt:"maze/tiles_astro.png",Zn:"maze/marker.png",background:"maze/bg_astro.jpg",Or:"#fff",nt:["maze/win.mp3","maze/win.ogg"],vq:["maze/fail_astro.mp3","maze/fail_astro.ogg"],qn:2},{Mj:"maze/panda.png",bt:"maze/tiles_panda.png",Zn:"maze/marker.png",
background:"maze/bg_panda.jpg",Or:"#000",nt:["maze/win.mp3","maze/win.ogg"],vq:["maze/fail_panda.mp3","maze/fail_panda.ogg"],qn:3}],Be=Vc("skin",0,De.length),U=De[Be],W=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,
0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][M],Ee=W.length,Fe=W[0].length,Ge=50*Fe,He=50*Ee,X=0,Y=[],Ie={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Je(){function a(m,n){return 0>m||m>=Fe||0>n||n>=Ee?"0":0==W[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Ee,Fe);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.K("rect",{height:He,width:Ge,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(U.background){var e=h.g.j.K("image",{height:He,width:Ge,x:0,y:0},c);e.setAttributeNS(h.g.j.jd,"xlink:href",U.background)}for(var f=d=0;f<Ee;f++)for(var g=0;g<Fe;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Ie[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Ie[k][0];k=Ie[k][1];var l=h.g.j.K("clipPath",{id:"tileClipPath"+d},c);h.g.j.K("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.K("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.jd,"xlink:href",U.bt);d++}h.g.j.K("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.jd,"xlink:href",U.Zn);d=h.g.j.K("clipPath",{id:"pegmanClipPath"},c);h.g.j.K("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.K("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.jd,"xlink:href",U.Mj)}
function Ke(a){if(!(a&&a.type==h.h.vk||D.rd()||1==X||Xc(M))){a=-1!=Sc.indexOf(L);var c=h.O.te(h.O.Sy()),d=D.ka.o.lb(!0),e=null,f=null,g=null;if(1==M)2>F(D).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].na()):(d=D.lb(!0),1<d.length?(e='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||
(f=h.Fg(f,{rtl:-1!=Sc.indexOf(L),readOnly:!0}),"string"!=typeof e&&(e=e.join("")),h.O.Ah(h.O.dg(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].na()):0==X&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==M)0!=X&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g=
{width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("resetButton"));else if(3==M)-1==c.indexOf("maze_forever")&&(0==cb(D)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].na()));else if(4==M)if(0==cb(D)&&(-1==c.indexOf("maze_forever")||1<D.lb(!1).length))e=
document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=F(D),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=E(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].na())}else if(5==M)0!=Be||Le.CB||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",
top:"60px"},g[a?"left":"right"]="20px",f=document.getElementById("pegmanButton"));else if(6==M)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].na());else if(7==M){if(!Ke.xD){k=document.createElement("span");k.className="helpMenuFake";l=[N("Maze_pathAhead"),N("Maze_pathLeft"),N("Maze_pathRight")];n=h.g.Qa.Vv(l);m=h.g.Qa.Wv(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Ya.mm;n=document.getElementById("helpMenuText");
l=n.textContent;n.textContent="";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),l!=m.length-1&&n.appendChild(k.cloneNode(!0));Ke.xD=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].na())}else 9==M&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].na());e?e.parentNode!=document.getElementById("dialog")&&
P.Rl(e,f,!0,!1,g,null):P.Ld(!1)}}function Le(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Me(a):Od(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",Zd.ys=h.jc(document.body,"mousedown",null,Me),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&P.Ld(!1),Le.CB=!0)}
function Me(a){Od(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),Zd.ys&&(h.ob(Zd.ys),delete Zd.ys))}
function Ne(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];R=$d.x;S=$d.y;a?(T=2,Oe(!1),Y.push(setTimeout(function(){Q=100;Pe([R,S,4*T-4]);T++},5*Q))):(T=1,Z(R,S,4*T));c=document.getElementById("finish");c.setAttribute("x",50*(ae.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(ae.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",U.Or)}
function Qe(a){if(!Od(a))if(P.Ld(!1),1==M&&1<D.lb(!1).length&&1!=X&&!Xc(M))Ke();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";Ne(!1);Re()}}function Se(a){Od(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Cc(null),Ne(!1),Ke())}
function Te(a,c){var d=function(e){Ue(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){Ue(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){Ve(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){Ve(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return We(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return We(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return We(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return We(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return R!=ae.x||S!=ae.y}))}
function Re(){if("Interpreter"in window){be=[];h.selected&&nb(h.selected);var a=h.I;var c=D;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.Qf());var d=[];a.Ea(c);c=c.lb(!0);for(var e=0,f;f=c[e];e++){var g=Ud(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.M&&(g=a.ty(g),a.Pm&&!f.at&&(g=Vd(a.Pm,f)+g),a.Qm&&!f.at&&(g+=Vd(a.Qm,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Cd=a=d=d.replace(/[ \t]+\n/g,"\n");Bd=Ed();X=0;a=new Interpreter(a,
Te);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;X=R!=ae.x||S!=ae.y?-1:1}catch(k){Infinity===k?X=2:!1===k?X=-2:(X=-2,alert(k))}1==X?(Q=100,be.push(["finish",null])):Q=150;Ne(!1);Y.push(setTimeout(Xe,100))}else setTimeout(Re,250)}
function Xe(){var a=be.shift();if(a){Md(a[1]);switch(a[0]){case "north":Pe([R,S-1,4*T]);S--;break;case "east":Pe([R+1,S,4*T]);R++;break;case "south":Pe([R,S+1,4*T]);S++;break;case "west":Pe([R-1,S,4*T]);R--;break;case "look_north":Ye(0);break;case "look_east":Ye(1);break;case "look_south":Ye(2);break;case "look_west":Ye(3);break;case "fail_forward":Ze(!0);break;case "fail_backward":Ze(!1);break;case "left":Pe([R,S,4*T-4]);T=$e(T-1);break;case "right":Pe([R,S,4*T+4]);T=$e(T+1);break;case "finish":Oe(!0),
window.localStorage&&(window.localStorage[Zc+M]=Bd),setTimeout(P.$B,1E3)}Y.push(setTimeout(Xe,5*Q))}else Md(null),Ke()}function af(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=P.Jw(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.Pd.mF(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function Pe(a){var c=[R,S,4*T],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],bf(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],bf(c[2]+2*d[2]))},Q));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],bf(c[2]+3*d[2]))},2*Q));Y.push(setTimeout(function(){Z(a[0],a[1],bf(a[2]))},3*Q))}
function Ze(a){var c=0,d=0;switch(T){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==U.qn){c/=4;d/=4;var e=bf(4*T);Z(R+c,S+d,e);D.Xc.play("fail",.5);Y.push(setTimeout(function(){Z(R,S,e)},Q));Y.push(setTimeout(function(){Z(R+c,S+d,e);D.Xc.play("fail",.5)},2*Q));Y.push(setTimeout(function(){Z(R,S,e)},3*Q))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==U.qn&&(k=.01);Y.push(setTimeout(function(){D.Xc.play("fail",
.5)},2*Q));a=function(m){return function(){Z(R+c*m,S+d*m,bf(4*T+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),Q*l/2))}}function Oe(a){var c=bf(4*T);Z(R,S,16);a&&D.Xc.play("win",.5);Q=150;Y.push(setTimeout(function(){Z(R,S,18)},Q));Y.push(setTimeout(function(){Z(R,S,16)},2*Q));Y.push(setTimeout(function(){Z(R,S,c)},3*Q))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function Ye(a){var c=R,d=S;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)cf(a,Q*d)}function cf(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*Q)},c))}
function $e(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function bf(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function Ue(a,c){if(!We(a,null))throw be.push(["fail_"+(a?"backward":"forward"),c]),!1;switch($e(T+a)){case 0:S--;var d="north";break;case 1:R++;d="east";break;case 2:S++;d="south";break;case 3:R--,d="west"}be.push([d,c])}function Ve(a,c){a?(T++,be.push(["right",c])):(T--,be.push(["left",c]));T=$e(T)}
function We(a,c){switch($e(T+a)){case 0:var d=W[S-1]&&W[S-1][R];var e="look_north";break;case 1:d=W[S][R+1];e="look_east";break;case 2:d=W[S+1]&&W[S+1][R];e="look_south";break;case 3:d=W[S][R-1],e="look_west"}c&&be.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,m.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":"420px";l.style.width=window.innerWidth-440+"px"}function c(n){return function(){window.sessionStorage&&(window.sessionStorage.Mr=Ed());location=location.protocol+"//"+location.host+location.pathname+"?lang="+L+"&level="+M+"&skin="+n}}document.body.innerHTML=Ae();Dd();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+U.Mj+")";for(var d=document.getElementById("pegmanMenu"),
e=0;e<De.length;e++)if(e!=Be){var f=document.createElement("div"),g=document.createElement("img");g.src="common/1x1.gif";g.style.backgroundImage="url("+De[e].Mj+")";f.appendChild(g);d.appendChild(f);h.jc(f,"mousedown",null,c(e))}h.jc(window,"resize",null,Me);d=document.getElementById("pegmanButton");h.jc(d,"mousedown",null,Le);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(h.Ya.mm);d.appendChild(e);var k=-1!=Sc.indexOf(L),l=document.getElementById("blockly"),m=document.getElementById("visualization");
window.addEventListener("scroll",function(){a(null);h.am(D)});window.addEventListener("resize",a);a(null);Jd({maxBlocks:Ce,rtl:k,trashcan:!0,zoom:{startScale:1+(1-M/10)/3}});D.Xc.load(U.nt,"win");D.Xc.load(U.vq,"fail");Yd(h.I,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Je();Hd();for(d=0;d<Ee;d++)for(e=0;e<Fe;e++)2==W[d][e]?$d={x:e,y:d}:3==W[d][e]&&(ae={x:e,y:d});Ne(!0);G(D,function(){var n=cb(D),p=document.getElementById("capacity");if(Infinity==
n)p.style.display="none";else{p.style.display="inline";p.innerHTML="";n=Number(n);var r=document.createElement("span");r.className="capacityNumber";r.appendChild(document.createTextNode(n));n=(0==n?N("Maze_capacity0"):1==n?N("Maze_capacity1"):N("Maze_capacity2")).split(/%\d/);for(var t=0;t<n.length;t++)p.appendChild(document.createTextNode(n[t])),t!=n.length-1&&p.appendChild(r.cloneNode(!0))}});document.body.addEventListener("mousemove",af,!0);$c("runButton",Qe);$c("resetButton",Se);1==M&&(h.rc*=
2,h.Kt=h.rc);10==M?Xc(M)||(d=document.getElementById("dialogHelpWallFollow"),P.Rl(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},P.Cy),P.yy(),setTimeout(P.Fv,3E5)):setTimeout(function(){G(D,Ke);Ke()},5E3);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+U.Mj+")";d.parentNode.insertBefore(e,d);Rd();Sd()});
